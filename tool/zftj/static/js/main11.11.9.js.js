function base64Img2Blob(code){var parts=code.split(';base64,');var contentType=parts[0].split(':')[1];var raw=window.atob(parts[1]);var rawLength=raw.length;var uInt8Array=new Uint8Array(rawLength);for(var i=0;i<rawLength;++i){uInt8Array[i]=raw.charCodeAt(i);}
return new Blob([uInt8Array],{type:contentType});}
function showErrorBox(msg){$("body").append("<div class='alert alert-danger alert-box' id='errorbox'></div>");var errorbox=$('#errorbox');errorbox.text(msg);errorbox.fadeIn();setTimeout(function(){errorbox.fadeOut();},3000)}
function showSuccessBox(msg){$("body").append("<div class='alert alert-success alert-box' id='successbox'></div>");var successbox=$('#successbox');successbox.text(msg);successbox.fadeIn();setTimeout(function(){successbox.fadeOut();},2000)}
function copyStr(str){var oInput=document.createElement('textarea');oInput.style.position='absolute';oInput.style.opacity='0';oInput.value=str;document.body.appendChild(oInput);oInput.select();document.execCommand("Copy");document.body.removeChild(oInput);}
$(function(){$('#toolboxMenu').hover(function(){$('#toolboxMenuUL').show();},function(){$('#toolboxMenuUL').hide();});$('#search').submit(function(){if($('#keyword').val()==""){return false;}});var haveShowAd=false;var pcFlag=$(window).width()>800?true:false;var curHour=new Date().getHours();var curDay=new Date().getDay();var txy="https://cloud.tencent.com/act/cps/redirect?redirect=1052&cps_key=edb15096bfff75effaaa8c8bb66138bd&from=console";function openAd(url,self){var expiresDate=new Date();expiresDate.setTime(expiresDate.getTime()+(7*24*60*60*1000));$.cookie("haveClickedAd",1,{path:"/",expires:expiresDate});if(self==true){window.open(url,'_self');}else{window.open(url);}}
if(window.location.pathname.indexOf("/api/")==0){if(haveShowAd==false&&pcFlag==true&&$.cookie("haveClickedAd")==null){haveShowAd=true;$(".navbar-fixed-top").prepend('<div id="topAd"><div id="closeTopAd">关闭</div></div>');$("#topAd").css("height","100px");$("#topAd").css("background","url(../../img/common/tencent_ms_1200_90.png)");$("#topAd").css("background-size","100% 100%");$('#topAd').click(function(e){openAd(txy,false)});$('#closeTopAd').click(function(e){$('#topAd').hide();if($.cookie("haveClickedAd")!=null){e.preventDefault();return false;}});}}
$("#contentRight").prepend('<div id="rightImgAd"></div>');$("#rightImgAd").css("height","280px");$("#rightImgAd").css("background","url(../../img/common/tencent_ms_280_280.png)");$("#rightImgAd").css("background-size","100% 100%");$('#rightImgAd').click(function(e){openAd(txy,false);});$("#middleImgAd").css("height","90px");$("#middleImgAd").css("background","url(../../img/common/tencent_ms_728_90.png)");$("#middleImgAd").css("background-size","100% 100%");$('#middleImgAd').click(function(e){openAd(txy,false)});$(window).scroll(function(){var curHour=new Date().getHours();if(haveShowAd==false&&window.location.pathname.indexOf("/lang-")!=0){haveShowAd=true;setTimeout(function(){if($.cookie("haveClickedAd")==null){var popHtml='<div id="popAd"><div id="closePopAd">关闭</div></div>';$(".navbar-fixed-top").prepend(popHtml);if(pcFlag==false){$("#popAd").css("width","280px");$("#popAd").css("height","280px");$("#popAd").css("background","url(../../img/common/tencent_ms_280_280.png)");$("#popAd").css("background-size","100% 100%");$('#popAd').click(function(e){openAd(txy,false)});}else{$("#popAd").css("width","480px");$("#popAd").css("height","300px");$("#popAd").css("background","url(../../img/common/tencent_ms_480_300.png)");$('#popAd').click(function(e){openAd(txy,false)});}
$('#closePopAd').click(function(e){$('#popAd').hide();if($.cookie("haveClickedAd")!=null){e.preventDefault();return false;}});}},6000);if(pcFlag==true&&window.location.pathname.indexOf("/blog/")==0){setTimeout(function(){if($.cookie("haveClickedAd")==null){openAd(txy,true);}},122000);}}
var scrollHeight=$(document).height();var scrollTop=$(window).scrollTop();scrollTop>100?$(".back-top").slideDown(300).css("display","block"):$(".back-top").slideUp(300);});$('.back-top').click(function(e){e.preventDefault();$('html,body').animate({scrollTop:0});});});function clearCookie(cookieName,div){$.cookie(cookieName,"");$("#"+div).remove();}
$(function(){var url=window.location.href;url=url.replace(/(\/+)$/g,"");var arrUrl=url.split("/");if(arrUrl.length==3){var saveIDs=getHistory("toolCookie");var lastUsedHtml='<div id="toolUsedDiv"><div class="row"><h2 class="tool_kind_title">最近使用</h2><a class="btn glyphicon glyphicon-trash text-muted" title="清除使用记录" onclick="javascript:clearCookie(\'toolCookie\',\'toolUsedDiv\')"></a></div><div class="row">';var haveUsed=false;for(var i=0;i<saveIDs.length;i++){if(saveIDs[i]!=""){var obj=saveIDs[i].split("@#@");if(typeof obj[0]!="undefined"&&typeof obj[1]!="undefined"&&obj[1]!=""&&obj[1]!=" "){haveUsed=true;lastUsedHtml=lastUsedHtml+'<a class="col-lg-2 col-md-3 col-sm-4 col-xs-6 tool_link_title" href="'+obj[0]+'" target="_blank" title="'+obj[1]+'">'+obj[1]+'</a>';}}}
lastUsedHtml=lastUsedHtml+"</div></div>";if(haveUsed==true){$(".tool_box").prepend(lastUsedHtml);}}
if(arrUrl.length==4&&arrUrl[3]!=""&&arrUrl[3]!="api"&&arrUrl[3]!="page"&&arrUrl[3]!="software"&&arrUrl[3]!="pic"&&arrUrl[3]!="blog"&&arrUrl[3]!="library"&&arrUrl[3]!="map"&&arrUrl[3]!="s"&&arrUrl[3].indexOf("s?")==-1){var urlName=arrUrl[3];if(title!=""){var title=document.title;title=title.substring(0,title.length-6);var saveID=url+"@#@"+title;saveHistory("toolCookie",saveID,12);}
var viewCount=parseInt($.cookie(urlName)==null?0:$.cookie(urlName));var expiresDate=new Date();expiresDate.setTime(expiresDate.getTime()+(8*60*60*1000));$.cookie(urlName,viewCount+1,{expires:expiresDate});if(viewCount==0){$.getJSON("/updateLikenum.json?url="+urlName+"&type=toolbox");}}else if((arrUrl.length==5&&arrUrl[3]=="blog"&&!isNaN(arrUrl[4]))||(arrUrl.length==6&&arrUrl[3].indexOf("lang-")==0&&arrUrl[4]=="blog"&&!isNaN(arrUrl[5]))){var blogId=arrUrl.length==5?arrUrl[4]:arrUrl[5];var viewCount=parseInt($.cookie(blogId)==null?0:$.cookie(blogId));var expiresDate=new Date();expiresDate.setTime(expiresDate.getTime()+(60*60*1000));$.cookie(blogId,viewCount+1,{expires:expiresDate});if(viewCount==0){$.getJSON("/updateLikenum.json?url="+blogId+"&type=blog");}}});function saveHistory(cookieName,saveID,countNum){var historyp;if(saveID==null||saveID==""){return;}
var expiresDate=new Date();expiresDate.setTime(expiresDate.getTime()+(100*365*24*60*60*1000));if($.cookie(cookieName)==null){$.cookie(cookieName,saveID,{expires:expiresDate});}else{historyp=$.cookie(cookieName);};var pArray=historyp.split(',');historyp=saveID;var count=0;for(var i=0;i<pArray.length;i++){if(pArray[i]!=saveID){historyp=historyp+","+pArray[i];count++;if(count==countNum-1){break;}}}
$.cookie(cookieName,historyp,{expires:expiresDate});}
function getHistory(cookieName){var historyp="";if($.cookie(cookieName)!=null){historyp=$.cookie(cookieName);}
if(historyp==null&&historyp==""){return;}else{var saveIDs=[];var pArray=historyp.split(',');for(var i=0;i<pArray.length;i++){if(pArray[i]!=""){saveIDs.push(pArray[i]);}}
return saveIDs;}}
(function(){var bp=document.createElement('script');var curProtocol=window.location.protocol.split(':')[0];if(curProtocol==='https'){bp.src='https://zz.bdstatic.com/linksubmit/push.js';}
else{bp.src='http://push.zhanzhang.baidu.com/push.js';}
var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(bp,s);})();var _hmt=_hmt||[];(function(){var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?9cc074900445f1842472986022b3fd60";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();