import{w as j,l as g,y as t,q as R,J as B,H as c,A as r,B as i,I as d,C as v,Q as A,K as M,r as Y,b as w,v as b}from"./@vue-CpAqE2Pn.js";import{_ as D}from"./plugin-vueexport-helper-DlAUqK2U.js";const L={class:"min-h-screen bg-slate-50 relative overflow-hidden font-sans selection:bg-cyan-100"},N={class:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 py-10"},T={class:"text-center mb-10"},q={class:"grid lg:grid-cols-12 gap-8 items-start"},F={class:"lg:col-span-4 space-y-6"},W={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6"},$={class:"space-y-5"},E={class:"grid grid-cols-2 gap-4"},H={class:"flex items-center gap-2 bg-slate-50 border border-slate-200 rounded-xl p-1.5"},J={class:"text-xs font-mono text-slate-600"},K={class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},P={class:"space-y-4 pt-2"},Q={class:"flex justify-between mb-1"},G={class:"text-xs text-slate-500"},O={class:"flex justify-between mb-1"},Z={class:"text-xs text-slate-500"},tt={class:"pt-2 border-t border-slate-100 space-y-4"},et={class:"flex justify-between mb-1 mt-2"},lt={class:"text-xs text-slate-500"},st={class:"flex justify-between mb-1"},at={class:"text-xs text-slate-500"},ot={class:"lg:col-span-8 flex flex-col gap-6"},nt={class:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 min-h-[500px] flex flex-col relative"},rt={class:"flex justify-between items-center mb-4"},it={class:"text-sm font-bold text-slate-700 flex items-center gap-2"},dt={key:0,class:"w-2 h-2 rounded-full bg-green-500 animate-pulse"},ct={key:0},pt={class:"flex-1 bg-slate-100/50 rounded-xl overflow-hidden border border-slate-200 flex items-center justify-center relative group"},ut={class:"mt-6 flex justify-end"},xt=["disabled"],gt={__name:"Watermark",setup(bt){const l=Y({text:"ä»…ä¾›åŠç†ä¸šåŠ¡ä½¿ç”¨ ä»–ç”¨æ— æ•ˆ",color:"#000000",fontSize:24,opacity:.3,rotate:-30,gapX:150,gapY:150}),o=w(""),h=w(null),p=w(null);let u=null;const y=()=>h.value.click(),C=s=>{const e=s.target.files[0];if(!e)return;const n=new FileReader;n.onload=a=>{o.value=a.target.result,I(a.target.result)},n.readAsDataURL(e)},I=s=>{const e=new Image;e.onload=()=>{u=e,_()},e.src=s},_=()=>{if(!u||!p.value)return;const s=p.value,e=s.getContext("2d");s.width=u.width,s.height=u.height,e.drawImage(u,0,0),e.font=`bold ${l.fontSize*(s.width/1e3*2.5)}px sans-serif`;const n=Math.max(1,s.width/1e3);e.font=`bold ${l.fontSize*n}px sans-serif`,e.fillStyle=l.color,e.globalAlpha=l.opacity,e.textBaseline="middle",e.textAlign="center";const a=l.text||"Watermark",k=l.gapX*n,V=l.gapY*n,X=l.rotate*Math.PI/180;e.translate(s.width/2,s.height/2),e.rotate(X),e.translate(-s.width/2,-s.height/2);const x=Math.sqrt(s.width**2+s.height**2);let z=0;for(let m=-x;m<x*2;m+=V){const S=z%2===0?0:k/2;for(let f=-x;f<x*2;f+=k)e.fillText(a,f+S,m);z++}e.setTransform(1,0,0,1,0,0),e.globalAlpha=1},U=()=>{if(!p.value)return;const s=document.createElement("a");s.download=`watermark_${Date.now()}.png`,s.href=p.value.toDataURL("image/png"),s.click()};return j(l,()=>{o.value&&requestAnimationFrame(_)}),(s,e)=>{const n=M("RouterLink");return b(),g("div",L,[e[17]||(e[17]=t("div",{class:"absolute inset-0 z-0 opacity-[0.4]",style:{"background-image":"radial-gradient(#cbd5e1 1px, transparent 1px)","background-size":"32px 32px"}},null,-1)),e[18]||(e[18]=t("div",{class:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-cyan-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob"},null,-1)),e[19]||(e[19]=t("div",{class:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-blue-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob animation-delay-2000"},null,-1)),e[20]||(e[20]=t("div",{class:"absolute top-[30%] right-[30%] w-[400px] h-[400px] bg-indigo-300 rounded-full mix-blend-multiply filter blur-[100px] opacity-30 animate-blob animation-delay-4000"},null,-1)),t("div",N,[t("div",T,[R(n,{to:"/",class:"inline-flex items-center gap-1 text-sm font-medium text-slate-500 hover:text-cyan-600 mb-4 transition-colors"},{default:B(()=>[...e[7]||(e[7]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m15 18-6-6 6-6"})],-1),c(" è¿”å›é¦–é¡µ ",-1)])]),_:1}),e[8]||(e[8]=t("h1",{class:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4"},[t("span",{class:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-600 to-blue-600"},"éšç§æ°´å°å«å£«")],-1)),e[9]||(e[9]=t("p",{class:"text-slate-600 max-w-2xl mx-auto"},[c(" ç»™èº«ä»½è¯ã€è¯ä»¶ç…§æ·»åŠ é˜²ç›—æ°´å°ã€‚æ‰€æœ‰å¤„ç†å‡åœ¨æœ¬åœ°å®Œæˆï¼Œ"),t("span",{class:"font-bold text-slate-800"},"å›¾ç‰‡ç»ä¸ä¸Šä¼ "),c("ã€‚ ")],-1))]),t("div",q,[t("div",F,[t("div",W,[e[12]||(e[12]=t("div",{class:"flex items-center gap-2 mb-6"},[t("div",{class:"w-1 h-6 bg-cyan-500 rounded-full"}),t("h2",{class:"text-lg font-bold text-slate-800"}," æ°´å°è®¾ç½® ")],-1)),t("div",$,[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"æ°´å°æ–‡å­—",-1)),r(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>l.text=a),type:"text",class:"w-full bg-slate-50 border border-slate-200 rounded-xl px-4 py-2.5 text-slate-800 focus:ring-2 focus:ring-cyan-500/20 focus:border-cyan-500 outline-none transition-all",placeholder:"ä¾‹å¦‚ï¼šä»…ä¾›åŠç†ç§Ÿæˆ¿ä½¿ç”¨"},null,512),[[i,l.text]])]),t("div",E,[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},"é¢œè‰²",-1)),t("div",H,[r(t("input",{type:"color","onUpdate:modelValue":e[1]||(e[1]=a=>l.color=a),class:"w-8 h-8 rounded cursor-pointer border-none bg-transparent"},null,512),[[i,l.color]]),t("span",J,d(l.color),1)])]),t("div",null,[t("label",K,"å­—ä½“å¤§å° ("+d(l.fontSize)+"px)",1),r(t("input",{type:"range","onUpdate:modelValue":e[2]||(e[2]=a=>l.fontSize=a),min:"12",max:"100",class:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-cyan-500 mt-3"},null,512),[[i,l.fontSize,void 0,{number:!0}]])])]),t("div",P,[t("div",null,[t("div",Q,[t("span",G,"é€æ˜åº¦ ("+d(Math.round(l.opacity*100))+"%)",1)]),r(t("input",{type:"range","onUpdate:modelValue":e[3]||(e[3]=a=>l.opacity=a),min:"0.1",max:"1",step:"0.05",class:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,512),[[i,l.opacity,void 0,{number:!0}]])]),t("div",null,[t("div",O,[t("span",Z,"æ—‹è½¬è§’åº¦ ("+d(l.rotate)+"Â°)",1)]),r(t("input",{type:"range","onUpdate:modelValue":e[4]||(e[4]=a=>l.rotate=a),min:"-90",max:"90",step:"1",class:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,512),[[i,l.rotate,void 0,{number:!0}]])])]),t("div",tt,[t("div",null,[t("div",et,[t("span",lt,"æ°´å¹³é—´è· ("+d(l.gapX)+"px)",1)]),r(t("input",{type:"range","onUpdate:modelValue":e[5]||(e[5]=a=>l.gapX=a),min:"50",max:"500",step:"10",class:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,512),[[i,l.gapX,void 0,{number:!0}]])]),t("div",null,[t("div",st,[t("span",at,"å‚ç›´é—´è·/è¡Œè· ("+d(l.gapY)+"px)",1)]),r(t("input",{type:"range","onUpdate:modelValue":e[6]||(e[6]=a=>l.gapY=a),min:"50",max:"500",step:"10",class:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,512),[[i,l.gapY,void 0,{number:!0}]])])])])]),e[13]||(e[13]=t("div",{class:"bg-blue-50/80 rounded-2xl p-5 border border-blue-100 text-sm text-blue-800"},[t("strong",null,"ğŸ›¡ï¸ å®‰å…¨æç¤ºï¼š"),t("br"),c(" å»ºè®®åœ¨åŠç†ä¸šåŠ¡æ—¶ï¼Œæ³¨æ˜â€œä»…ä¾› XX æœºæ„åŠç† XX ä¸šåŠ¡ä½¿ç”¨ï¼Œä»–ç”¨æ— æ•ˆâ€ï¼Œå¯æœ‰æ•ˆé˜²æ­¢ä¸ªäººä¿¡æ¯æ³„éœ²ã€‚ ")],-1))]),t("div",ot,[t("div",nt,[t("div",rt,[t("div",it,[o.value?(b(),g("span",dt)):v("",!0),c(" "+d(o.value?"å®æ—¶é¢„è§ˆ":"è¯·ä¸Šä¼ å›¾ç‰‡"),1)]),o.value?(b(),g("div",ct,[t("button",{onClick:y,class:"text-xs text-cyan-600 hover:text-cyan-700 font-medium"}," æ›´æ¢å›¾ç‰‡ ")])):v("",!0),t("input",{type:"file",ref_key:"fileInput",ref:h,accept:"image/*",class:"hidden",onChange:C},null,544)]),t("div",pt,[e[15]||(e[15]=t("div",{class:"absolute inset-0 z-0 opacity-20",style:{"background-image":"linear-gradient(45deg, #cccccc 25%, transparent 25%), linear-gradient(-45deg, #cccccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #cccccc 75%), linear-gradient(-45deg, transparent 75%, #cccccc 75%)","background-size":"20px 20px"}},null,-1)),o.value?v("",!0):(b(),g("div",{key:0,class:"relative z-10 text-center cursor-pointer p-10",onClick:y},[...e[14]||(e[14]=[t("div",{class:"w-16 h-16 bg-white rounded-full shadow-sm flex items-center justify-center text-3xl mx-auto mb-4 text-slate-400 group-hover:text-cyan-500 transition-colors"}," ğŸ“· ",-1),t("p",{class:"text-slate-500 font-medium"}," ç‚¹å‡»ä¸Šä¼ èº«ä»½è¯/ç…§ç‰‡ ",-1)])])),r(t("canvas",{ref_key:"canvasRef",ref:p,class:"max-w-full max-h-[600px] shadow-lg relative z-10"},null,512),[[A,o.value]])]),t("div",ut,[t("button",{onClick:U,disabled:!o.value,class:"px-8 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white font-bold rounded-xl shadow-lg shadow-cyan-500/30 flex items-center gap-2 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none"},[...e[16]||(e[16]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),t("polyline",{points:"7 10 12 15 17 10"}),t("line",{x1:"12",y1:"15",x2:"12",y2:"3"})],-1),c(" ä¿å­˜åŠ æ°´å°å›¾ç‰‡ ",-1)])],8,xt)])])])])])])}}},wt=D(gt,[["__scopeId","data-v-98beb6da"]]);export{wt as default};
