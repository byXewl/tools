import{F as bi,E as vn,a as Jo,U as $i}from"./@pdf-lib-DohOTVRV.js";import{g as Qo}from"./file-saver-D_h_-nX0.js";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var mi=function(r,t){return mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])},mi(r,t)};function L(r,t){mi(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var ut=function(){return ut=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},ut.apply(this,arguments)};function $o(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e}function lt(r,t,e,n){function i(a){return a instanceof e?a:new e(function(o){o(a)})}return new(e||(e=Promise))(function(a,o){function s(l){try{c(n.next(l))}catch(v){o(v)}}function u(l){try{c(n.throw(l))}catch(v){o(v)}}function c(l){l.done?a(l.value):i(l.value).then(s,u)}c((n=n.apply(r,[])).next())})}function ht(r,t){var e={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(c){return function(l){return u([c,l])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,i&&(a=c[0]&2?i.return:c[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,c[1])).done)return a;switch(i=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return e.label++,{value:c[1],done:!1};case 5:e.label++,i=c[1],c=[0];continue;case 7:c=e.ops.pop(),e.trys.pop();continue;default:if(a=e.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){e=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){e.label=c[1];break}if(c[0]===6&&e.label<a[1]){e.label=a[1],a=c;break}if(a&&e.label<a[2]){e.label=a[2],e.ops.push(c);break}a[2]&&e.ops.pop(),e.trys.pop();continue}c=t.call(r,e)}catch(l){c=[6,l],i=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function mt(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;for(var n=Array(r),i=0,t=0;t<e;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}var Dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hr=new Uint8Array(256);for(var pn=0;pn<Dr.length;pn++)Hr[Dr.charCodeAt(pn)]=pn;var ts=function(r){for(var t="",e=r.length,n=0;n<e;n+=3)t+=Dr[r[n]>>2],t+=Dr[(r[n]&3)<<4|r[n+1]>>4],t+=Dr[(r[n+1]&15)<<2|r[n+2]>>6],t+=Dr[r[n+2]&63];return e%3===2?t=t.substring(0,t.length-1)+"=":e%3===1&&(t=t.substring(0,t.length-2)+"=="),t},ta=function(r){var t=r.length*.75,e=r.length,n,i=0,a,o,s,u;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);var c=new Uint8Array(t);for(n=0;n<e;n+=4)a=Hr[r.charCodeAt(n)],o=Hr[r.charCodeAt(n+1)],s=Hr[r.charCodeAt(n+2)],u=Hr[r.charCodeAt(n+3)],c[i++]=a<<2|o>>4,c[i++]=(o&15)<<4|s>>2,c[i++]=(s&3)<<6|u&63;return c},es=/^(data)?:?([\w\/\+]+)?;?(charset=[\w-]+|base64)?.*,/i,rs=function(r){var t=r.trim(),e=t.substring(0,100),n=e.match(es);if(!n)return ta(t);var i=n[0],a=t.substring(i.length);return ta(a)},st=function(r){return r.charCodeAt(0)},ns=function(r){return r.codePointAt(0)},an=function(r,t){return Ie(r.toString(16),t,"0").toUpperCase()},Kn=function(r){return an(r,2)},Ke=function(r){return String.fromCharCode(r)},is=function(r){return Ke(parseInt(r,16))},Ie=function(r,t,e){for(var n="",i=0,a=t-r.length;i<a;i++)n+=e;return n+r},Jt=function(r,t,e){for(var n=r.length,i=0;i<n;i++)t[e++]=r.charCodeAt(i);return n},as=function(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},on=function(r){return r.replace(/\t|\u0085|\u2028|\u2029/g,"    ").replace(/[\b\v]/g,"")},os=["\\n","\\f","\\r","\\u000B"],Ha=function(r){return/^[\n\f\r\u000B]$/.test(r)},Ga=function(r){return r.split(/[\n\f\r\u000B]/)},Za=function(r){return r.replace(/[\n\f\r\u000B]/g," ")},Va=function(r,t){var e=r.charCodeAt(t),n,i=t+1,a=1;return e>=55296&&e<=56319&&r.length>i&&(n=r.charCodeAt(i),n>=56320&&n<=57343&&(a=2)),[r.slice(t,t+a),a]},ss=function(r){for(var t=[],e=0,n=r.length;e<n;){var i=Va(r,e),a=i[0],o=i[1];t.push(a),e+=o}return t},us=function(r){for(var t=os.join("|"),e=["$"],n=0,i=r.length;n<i;n++){var a=r[n];if(Ha(a))throw new TypeError("`wordBreak` must not include "+t);e.push(a===""?".":as(a))}var o=e.join("|");return new RegExp("("+t+")|((.*?)("+o+"))","gm")},fs=function(r,t,e,n){for(var i=us(t),a=on(r).match(i),o="",s=0,u=[],c=function(){o!==""&&u.push(o),o="",s=0},l=0,v=a.length;l<v;l++){var b=a[l];if(Ha(b))c();else{var m=n(b);s+m>e&&c(),o+=b,s+=m}}return c(),u},cs=/^D:(\d\d\d\d)(\d\d)?(\d\d)?(\d\d)?(\d\d)?(\d\d)?([+\-Z])?(\d\d)?'?(\d\d)?'?$/,Xa=function(r){var t=r.match(cs);if(t){var e=t[1],n=t[2],i=n===void 0?"01":n,a=t[3],o=a===void 0?"01":a,s=t[4],u=s===void 0?"00":s,c=t[5],l=c===void 0?"00":c,v=t[6],b=v===void 0?"00":v,m=t[7],w=m===void 0?"Z":m,F=t[8],C=F===void 0?"00":F,k=t[9],B=k===void 0?"00":k,O=w==="Z"?"Z":""+w+C+":"+B,N=new Date(e+"-"+i+"-"+o+"T"+u+":"+l+":"+b+O);return N}},Pi=function(r,t){for(var e,n=0,i;n<r.length;){var a=r.substring(n).match(t);if(!a)return{match:i,pos:n};i=a,n+=((e=a.index)!==null&&e!==void 0?e:0)+a[0].length}return{match:i,pos:n}},Bn=function(r){return r[r.length-1]},xi=function(r){if(r instanceof Uint8Array)return r;for(var t=r.length,e=new Uint8Array(t),n=0;n<t;n++)e[n]=r.charCodeAt(n);return e},ls=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=r.length,n=[],i=0;i<e;i++){var a=r[i];n[i]=a instanceof Uint8Array?a:xi(a)}for(var o=0,i=0;i<e;i++)o+=r[i].length;for(var s=new Uint8Array(o),u=0,c=0;c<e;c++)for(var l=n[c],v=0,b=l.length;v<b;v++)s[u++]=l[v];return s},hs=function(r){for(var t=0,e=0,n=r.length;e<n;e++)t+=r[e].length;for(var i=new Uint8Array(t),a=0,e=0,n=r.length;e<n;e++){var o=r[e];i.set(o,a),a+=o.length}return i},qa=function(r){for(var t="",e=0,n=r.length;e<n;e++)t+=Ke(r[e]);return t},ds=function(r,t){return r.id-t.id},vs=function(r,t){for(var e=[],n=0,i=r.length;n<i;n++){var a=r[n],o=r[n-1];(n===0||t(a)!==t(o))&&e.push(a)}return e},Sr=function(r){for(var t=r.length,e=0,n=Math.floor(t/2);e<n;e++){var i=e,a=t-e-1,o=r[e];r[i]=r[a],r[a]=o}return r},ps=function(r){for(var t=0,e=0,n=r.length;e<n;e++)t+=r[e];return t},gs=function(r,t){for(var e=new Array(t-r),n=0,i=e.length;n<i;n++)e[n]=r+n;return e},ys=function(r,t){for(var e=new Array(t.length),n=0,i=t.length;n<i;n++)e[n]=r[t[n]];return e},bs=function(r){return r instanceof Uint8Array||r instanceof ArrayBuffer||typeof r=="string"},Nr=function(r){if(typeof r=="string")return rs(r);if(r instanceof ArrayBuffer)return new Uint8Array(r);if(r instanceof Uint8Array)return r;throw new TypeError("`input` must be one of `string | ArrayBuffer | Uint8Array`")},Tr=function(){return new Promise(function(r){setTimeout(function(){return r()},0)})},ms=function(r,t){t===void 0&&(t=!0);var e=[];t&&e.push(65279);for(var n=0,i=r.length;n<i;){var a=r.codePointAt(n);if(a<65536)e.push(a),n+=1;else if(a<1114112)e.push(Ya(a),Ja(a)),n+=2;else throw new Error("Invalid code point: 0x"+Kn(a))}return new Uint16Array(e)},xs=function(r){return r>=0&&r<=65535},ws=function(r){return r>=65536&&r<=1114111},Ya=function(r){return Math.floor((r-65536)/1024)+55296},Ja=function(r){return(r-65536)%1024+56320},tr;(function(r){r.BigEndian="BigEndian",r.LittleEndian="LittleEndian"})(tr||(tr={}));var jr="�".codePointAt(0),Qa=function(r,t){if(t===void 0&&(t=!0),r.length<=1)return String.fromCodePoint(jr);for(var e=t?_s(r):tr.BigEndian,n=t?2:0,i=[];r.length-n>=2;){var a=ra(r[n++],r[n++],e);if(Ss(a))if(r.length-n<2)i.push(jr);else{var o=ra(r[n++],r[n++],e);ea(o)?i.push(a,o):i.push(jr)}else ea(a)?(n+=2,i.push(jr)):i.push(a)}return n<r.length&&i.push(jr),String.fromCodePoint.apply(String,i)},Ss=function(r){return r>=55296&&r<=56319},ea=function(r){return r>=56320&&r<=57343},ra=function(r,t,e){if(e===tr.LittleEndian)return t<<8|r;if(e===tr.BigEndian)return r<<8|t;throw new Error("Invalid byteOrder: "+e)},_s=function(r){return $a(r)?tr.BigEndian:to(r)?tr.LittleEndian:tr.BigEndian},$a=function(r){return r[0]===254&&r[1]===255},to=function(r){return r[0]===255&&r[1]===254},eo=function(r){return $a(r)||to(r)},Fs=function(r){var t=String(r);if(Math.abs(r)<1){var e=parseInt(r.toString().split("e-")[1]);if(e){var n=r<0;n&&(r*=-1),r*=Math.pow(10,e-1),t="0."+new Array(e).join("0")+r.toString().substring(2),n&&(t="-"+t)}}else{var e=parseInt(r.toString().split("+")[1]);e>20&&(e-=20,r/=Math.pow(10,e),t=r.toString()+new Array(e+1).join("0"))}return t},Fn=function(r){return Math.ceil(r.toString(2).length/8)},_r=function(r){for(var t=new Uint8Array(Fn(r)),e=1;e<=t.length;e++)t[e-1]=r>>(t.length-e)*8;return t},sn=function(r){throw new Error(r)},Hn=function(r){return Object.keys(r).map(function(t){return r[t]})},ks=Hn(bi),na=function(r){return ks.includes(r)},gn=function(r,t){return r.x===t.x&&r.y===t.y&&r.width===t.width&&r.height===t.height},Kt=function(r){return"`"+r+"`"},As=function(r){return"'"+r+"'"},ia=function(r){var t=typeof r;return t==="string"?As(r):t==="undefined"?Kt(r):r},Cs=function(r,t,e){for(var n=new Array(e.length),i=0,a=e.length;i<a;i++){var o=e[i];n[i]=ia(o)}var s=n.join(" or ");return Kt(t)+" must be one of "+s+", but was actually "+ia(r)},$e=function(r,t,e){Array.isArray(e)||(e=Hn(e));for(var n=0,i=e.length;n<i;n++)if(r===e[n])return;throw new TypeError(Cs(r,t,e))},_e=function(r,t,e){Array.isArray(e)||(e=Hn(e)),$e(r,t,e.concat(void 0))},Ds=function(r,t,e){Array.isArray(e)||(e=Hn(e));for(var n=0,i=r.length;n<i;n++)$e(r[n],t,e)},Ps=function(r){return r===null?"null":r===void 0?"undefined":typeof r=="string"?"string":isNaN(r)?"NaN":typeof r=="number"?"number":typeof r=="boolean"?"boolean":typeof r=="symbol"?"symbol":typeof r=="bigint"?"bigint":r.constructor&&r.constructor.name?r.constructor.name:r.name?r.name:r.constructor?String(r.constructor):String(r)},Bs=function(r,t){return t==="null"?r===null:t==="undefined"?r===void 0:t==="string"?typeof r=="string":t==="number"?typeof r=="number"&&!isNaN(r):t==="boolean"?typeof r=="boolean":t==="symbol"?typeof r=="symbol":t==="bigint"?typeof r=="bigint":t===Date?r instanceof Date:t===Array?r instanceof Array:t===Uint8Array?r instanceof Uint8Array:t===ArrayBuffer?r instanceof ArrayBuffer:t===Function?r instanceof Function:r instanceof t[0]},Ts=function(r,t,e){for(var n=new Array(e.length),i=0,a=e.length;i<a;i++){var o=e[i];o==="null"&&(n[i]=Kt("null")),o==="undefined"&&(n[i]=Kt("undefined")),o==="string"?n[i]=Kt("string"):o==="number"?n[i]=Kt("number"):o==="boolean"?n[i]=Kt("boolean"):o==="symbol"?n[i]=Kt("symbol"):o==="bigint"?n[i]=Kt("bigint"):o===Array?n[i]=Kt("Array"):o===Uint8Array?n[i]=Kt("Uint8Array"):o===ArrayBuffer?n[i]=Kt("ArrayBuffer"):n[i]=Kt(o[1])}var s=n.join(" or ");return Kt(t)+" must be of type "+s+", but was actually of type "+Kt(Ps(r))},_=function(r,t,e){for(var n=0,i=e.length;n<i;n++)if(Bs(r,e[n]))return;throw new TypeError(Ts(r,t,e))},j=function(r,t,e){_(r,t,e.concat("undefined"))},ro=function(r,t,e){for(var n=0,i=r.length;n<i;n++)_(r[n],t,e)},le=function(r,t,e,n){if(_(r,t,["number"]),_(e,"min",["number"]),_(n,"max",["number"]),n=Math.max(e,n),r<e||r>n)throw new Error(Kt(t)+" must be at least "+e+" and at most "+n+", but was actually "+r)},Oe=function(r,t,e,n){_(r,t,["number","undefined"]),typeof r=="number"&&le(r,t,e,n)},no=function(r,t,e){if(_(r,t,["number"]),r%e!==0)throw new Error(Kt(t)+" must be a multiple of "+e+", but was actually "+r)},Es=function(r,t){if(!Number.isInteger(r))throw new Error(Kt(t)+" must be an integer, but was actually "+r)},Gn=function(r,t){if(![1,0].includes(Math.sign(r)))throw new Error(Kt(t)+" must be a positive number or 0, but was actually "+r)},ft=new Uint16Array(256);for(var yn=0;yn<256;yn++)ft[yn]=yn;ft[22]=st("");ft[24]=st("˘");ft[25]=st("ˇ");ft[26]=st("ˆ");ft[27]=st("˙");ft[28]=st("˝");ft[29]=st("˛");ft[30]=st("˚");ft[31]=st("˜");ft[127]=st("�");ft[128]=st("•");ft[129]=st("†");ft[130]=st("‡");ft[131]=st("…");ft[132]=st("—");ft[133]=st("–");ft[134]=st("ƒ");ft[135]=st("⁄");ft[136]=st("‹");ft[137]=st("›");ft[138]=st("−");ft[139]=st("‰");ft[140]=st("„");ft[141]=st("“");ft[142]=st("”");ft[143]=st("‘");ft[144]=st("’");ft[145]=st("‚");ft[146]=st("™");ft[147]=st("ﬁ");ft[148]=st("ﬂ");ft[149]=st("Ł");ft[150]=st("Œ");ft[151]=st("Š");ft[152]=st("Ÿ");ft[153]=st("Ž");ft[154]=st("ı");ft[155]=st("ł");ft[156]=st("œ");ft[157]=st("š");ft[158]=st("ž");ft[159]=st("�");ft[160]=st("€");ft[173]=st("�");var io=function(r){for(var t=new Array(r.length),e=0,n=r.length;e<n;e++)t[e]=ft[r[e]];return String.fromCodePoint.apply(String,t)},He=(function(){function r(t){this.populate=t,this.value=void 0}return r.prototype.getValue=function(){return this.value},r.prototype.access=function(){return this.value||(this.value=this.populate()),this.value},r.prototype.invalidate=function(){this.value=void 0},r.populatedBy=function(t){return new r(t)},r})(),Ae=(function(r){L(t,r);function t(e,n){var i=this,a="Method "+e+"."+n+"() not implemented";return i=r.call(this,a)||this,i}return t})(Error),Bi=(function(r){L(t,r);function t(e){var n=this,i="Cannot construct "+e+" - it has a private constructor";return n=r.call(this,i)||this,n}return t})(Error),Tn=(function(r){L(t,r);function t(e,n){var i=this,a=function(u){var c,l;return(c=u==null?void 0:u.name)!==null&&c!==void 0?c:(l=u==null?void 0:u.constructor)===null||l===void 0?void 0:l.name},o=Array.isArray(e)?e.map(a):[a(e)],s="Expected instance of "+o.join(" or ")+", "+("but got instance of "+(n&&a(n)));return i=r.call(this,s)||this,i}return t})(Error),Os=(function(r){L(t,r);function t(e){var n=this,i=e+" stream encoding not supported";return n=r.call(this,i)||this,n}return t})(Error),Ti=(function(r){L(t,r);function t(e,n){var i=this,a="Cannot call "+e+"."+n+"() more than once";return i=r.call(this,a)||this,i}return t})(Error);(function(r){L(t,r);function t(e){var n=this,i="Missing catalog (ref="+e+")";return n=r.call(this,i)||this,n}return t})(Error);var Rs=(function(r){L(t,r);function t(){var e=this,n="Can't embed page with missing Contents";return e=r.call(this,n)||this,e}return t})(Error),Is=(function(r){L(t,r);function t(e){var n,i,a,o=this,s=(a=(i=(n=e==null?void 0:e.contructor)===null||n===void 0?void 0:n.name)!==null&&i!==void 0?i:e==null?void 0:e.name)!==null&&a!==void 0?a:e,u="Unrecognized stream type: "+s;return o=r.call(this,u)||this,o}return t})(Error),zs=(function(r){L(t,r);function t(){var e=this,n="Found mismatched contexts while embedding pages. All pages in the array passed to `PDFDocument.embedPages()` must be from the same document.";return e=r.call(this,n)||this,e}return t})(Error),Ns=(function(r){L(t,r);function t(e){var n=this,i="Attempted to convert PDFArray with "+e+" elements to rectangle, but must have exactly 4 elements.";return n=r.call(this,i)||this,n}return t})(Error),ao=(function(r){L(t,r);function t(e){var n=this,i='Attempted to convert "'+e+'" to a date, but it does not match the PDF date string format.';return n=r.call(this,i)||this,n}return t})(Error),aa=(function(r){L(t,r);function t(e,n){var i=this,a="Invalid targetIndex specified: targetIndex="+e+" must be less than Count="+n;return i=r.call(this,a)||this,i}return t})(Error),oa=(function(r){L(t,r);function t(e,n){var i=this,a="Failed to "+n+" at targetIndex="+e+" due to corrupt page tree: It is likely that one or more 'Count' entries are invalid";return i=r.call(this,a)||this,i}return t})(Error),En=(function(r){L(t,r);function t(e,n,i){var a=this,o="index should be at least "+n+" and at most "+i+", but was actually "+e;return a=r.call(this,o)||this,a}return t})(Error),Ei=(function(r){L(t,r);function t(){var e=this,n="Attempted to set invalid field value";return e=r.call(this,n)||this,e}return t})(Error),js=(function(r){L(t,r);function t(){var e=this,n="Attempted to select multiple values for single-select field";return e=r.call(this,n)||this,e}return t})(Error),Ms=(function(r){L(t,r);function t(e){var n=this,i="No /DA (default appearance) entry found for field: "+e;return n=r.call(this,i)||this,n}return t})(Error),Ws=(function(r){L(t,r);function t(e){var n=this,i="No Tf operator found for DA of field: "+e;return n=r.call(this,i)||this,n}return t})(Error),sa=(function(r){L(t,r);function t(e,n){var i=this,a="Failed to parse number "+("(line:"+e.line+" col:"+e.column+" offset="+e.offset+'): "'+n+'"');return i=r.call(this,a)||this,i}return t})(Error),ar=(function(r){L(t,r);function t(e,n){var i=this,a="Failed to parse PDF document "+("(line:"+e.line+" col:"+e.column+" offset="+e.offset+"): "+n);return i=r.call(this,a)||this,i}return t})(Error),Ls=(function(r){L(t,r);function t(e,n,i){var a=this,o="Expected next byte to be "+n+" but it was actually "+i;return a=r.call(this,e,o)||this,a}return t})(ar),Us=(function(r){L(t,r);function t(e,n){var i=this,a="Failed to parse PDF object starting with the following byte: "+n;return i=r.call(this,e,a)||this,i}return t})(ar),Ks=(function(r){L(t,r);function t(e){var n=this,i="Failed to parse invalid PDF object";return n=r.call(this,e,i)||this,n}return t})(ar),Hs=(function(r){L(t,r);function t(e){var n=this,i="Failed to parse PDF stream";return n=r.call(this,e,i)||this,n}return t})(ar),Gs=(function(r){L(t,r);function t(e){var n=this,i="Failed to parse PDF literal string due to unbalanced parenthesis";return n=r.call(this,e,i)||this,n}return t})(ar),Zs=(function(r){L(t,r);function t(e){var n=this,i="Parser stalled";return n=r.call(this,e,i)||this,n}return t})(ar),Vs=(function(r){L(t,r);function t(e){var n=this,i="No PDF header found";return n=r.call(this,e,i)||this,n}return t})(ar),Xs=(function(r){L(t,r);function t(e,n){var i=this,a="Did not find expected keyword '"+qa(n)+"'";return i=r.call(this,e,a)||this,i}return t})(ar),y;(function(r){r[r.Null=0]="Null",r[r.Backspace=8]="Backspace",r[r.Tab=9]="Tab",r[r.Newline=10]="Newline",r[r.FormFeed=12]="FormFeed",r[r.CarriageReturn=13]="CarriageReturn",r[r.Space=32]="Space",r[r.ExclamationPoint=33]="ExclamationPoint",r[r.Hash=35]="Hash",r[r.Percent=37]="Percent",r[r.LeftParen=40]="LeftParen",r[r.RightParen=41]="RightParen",r[r.Plus=43]="Plus",r[r.Minus=45]="Minus",r[r.Dash=45]="Dash",r[r.Period=46]="Period",r[r.ForwardSlash=47]="ForwardSlash",r[r.Zero=48]="Zero",r[r.One=49]="One",r[r.Two=50]="Two",r[r.Three=51]="Three",r[r.Four=52]="Four",r[r.Five=53]="Five",r[r.Six=54]="Six",r[r.Seven=55]="Seven",r[r.Eight=56]="Eight",r[r.Nine=57]="Nine",r[r.LessThan=60]="LessThan",r[r.GreaterThan=62]="GreaterThan",r[r.A=65]="A",r[r.D=68]="D",r[r.E=69]="E",r[r.F=70]="F",r[r.O=79]="O",r[r.P=80]="P",r[r.R=82]="R",r[r.LeftSquareBracket=91]="LeftSquareBracket",r[r.BackSlash=92]="BackSlash",r[r.RightSquareBracket=93]="RightSquareBracket",r[r.a=97]="a",r[r.b=98]="b",r[r.d=100]="d",r[r.e=101]="e",r[r.f=102]="f",r[r.i=105]="i",r[r.j=106]="j",r[r.l=108]="l",r[r.m=109]="m",r[r.n=110]="n",r[r.o=111]="o",r[r.r=114]="r",r[r.s=115]="s",r[r.t=116]="t",r[r.u=117]="u",r[r.x=120]="x",r[r.LeftCurly=123]="LeftCurly",r[r.RightCurly=125]="RightCurly",r[r.Tilde=126]="Tilde"})(y||(y={}));var ai={},ua;function or(){return ua||(ua=1,(function(r){var t=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function e(a,o){return Object.prototype.hasOwnProperty.call(a,o)}r.assign=function(a){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var s=o.shift();if(s){if(typeof s!="object")throw new TypeError(s+"must be non-object");for(var u in s)e(s,u)&&(a[u]=s[u])}}return a},r.shrinkBuf=function(a,o){return a.length===o?a:a.subarray?a.subarray(0,o):(a.length=o,a)};var n={arraySet:function(a,o,s,u,c){if(o.subarray&&a.subarray){a.set(o.subarray(s,s+u),c);return}for(var l=0;l<u;l++)a[c+l]=o[s+l]},flattenChunks:function(a){var o,s,u,c,l,v;for(u=0,o=0,s=a.length;o<s;o++)u+=a[o].length;for(v=new Uint8Array(u),c=0,o=0,s=a.length;o<s;o++)l=a[o],v.set(l,c),c+=l.length;return v}},i={arraySet:function(a,o,s,u,c){for(var l=0;l<u;l++)a[c+l]=o[s+l]},flattenChunks:function(a){return[].concat.apply([],a)}};r.setTyped=function(a){a?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,n)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,i))},r.setTyped(t)})(ai)),ai}var Fr={},Ee={},fr={},fa;function qs(){if(fa)return fr;fa=1;var r=or(),t=4,e=0,n=1,i=2;function a(p){for(var I=p.length;--I>=0;)p[I]=0}var o=0,s=1,u=2,c=3,l=258,v=29,b=256,m=b+1+v,w=30,F=19,C=2*m+1,k=15,B=16,O=7,N=256,R=16,M=17,E=18,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],X=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=512,U=new Array((m+2)*2);a(U);var tt=new Array(w*2);a(tt);var xt=new Array(V);a(xt);var Pt=new Array(l-c+1);a(Pt);var $=new Array(v);a($);var zt=new Array(w);a(zt);function Bt(p,I,W,Z,S){this.static_tree=p,this.extra_bits=I,this.extra_base=W,this.elems=Z,this.max_length=S,this.has_stree=p&&p.length}var pe,fe,qt;function Nt(p,I){this.dyn_tree=p,this.max_code=0,this.stat_desc=I}function ne(p){return p<256?xt[p]:xt[256+(p>>>7)]}function Vt(p,I){p.pending_buf[p.pending++]=I&255,p.pending_buf[p.pending++]=I>>>8&255}function Tt(p,I,W){p.bi_valid>B-W?(p.bi_buf|=I<<p.bi_valid&65535,Vt(p,p.bi_buf),p.bi_buf=I>>B-p.bi_valid,p.bi_valid+=W-B):(p.bi_buf|=I<<p.bi_valid&65535,p.bi_valid+=W)}function jt(p,I,W){Tt(p,W[I*2],W[I*2+1])}function Dt(p,I){var W=0;do W|=p&1,p>>>=1,W<<=1;while(--I>0);return W>>>1}function $t(p){p.bi_valid===16?(Vt(p,p.bi_buf),p.bi_buf=0,p.bi_valid=0):p.bi_valid>=8&&(p.pending_buf[p.pending++]=p.bi_buf&255,p.bi_buf>>=8,p.bi_valid-=8)}function ge(p,I){var W=I.dyn_tree,Z=I.max_code,S=I.stat_desc.static_tree,T=I.stat_desc.has_stree,h=I.stat_desc.extra_bits,z=I.stat_desc.extra_base,rt=I.stat_desc.max_length,f,D,P,d,x,A,q=0;for(d=0;d<=k;d++)p.bl_count[d]=0;for(W[p.heap[p.heap_max]*2+1]=0,f=p.heap_max+1;f<C;f++)D=p.heap[f],d=W[W[D*2+1]*2+1]+1,d>rt&&(d=rt,q++),W[D*2+1]=d,!(D>Z)&&(p.bl_count[d]++,x=0,D>=z&&(x=h[D-z]),A=W[D*2],p.opt_len+=A*(d+x),T&&(p.static_len+=A*(S[D*2+1]+x)));if(q!==0){do{for(d=rt-1;p.bl_count[d]===0;)d--;p.bl_count[d]--,p.bl_count[d+1]+=2,p.bl_count[rt]--,q-=2}while(q>0);for(d=rt;d!==0;d--)for(D=p.bl_count[d];D!==0;)P=p.heap[--f],!(P>Z)&&(W[P*2+1]!==d&&(p.opt_len+=(d-W[P*2+1])*W[P*2],W[P*2+1]=d),D--)}}function ye(p,I,W){var Z=new Array(k+1),S=0,T,h;for(T=1;T<=k;T++)Z[T]=S=S+W[T-1]<<1;for(h=0;h<=I;h++){var z=p[h*2+1];z!==0&&(p[h*2]=Dt(Z[z]++,z))}}function Et(){var p,I,W,Z,S,T=new Array(k+1);for(W=0,Z=0;Z<v-1;Z++)for($[Z]=W,p=0;p<1<<H[Z];p++)Pt[W++]=Z;for(Pt[W-1]=Z,S=0,Z=0;Z<16;Z++)for(zt[Z]=S,p=0;p<1<<Q[Z];p++)xt[S++]=Z;for(S>>=7;Z<w;Z++)for(zt[Z]=S<<7,p=0;p<1<<Q[Z]-7;p++)xt[256+S++]=Z;for(I=0;I<=k;I++)T[I]=0;for(p=0;p<=143;)U[p*2+1]=8,p++,T[8]++;for(;p<=255;)U[p*2+1]=9,p++,T[9]++;for(;p<=279;)U[p*2+1]=7,p++,T[7]++;for(;p<=287;)U[p*2+1]=8,p++,T[8]++;for(ye(U,m+1,T),p=0;p<w;p++)tt[p*2+1]=5,tt[p*2]=Dt(p,5);pe=new Bt(U,H,b+1,m,k),fe=new Bt(tt,Q,0,w,k),qt=new Bt(new Array(0),X,0,F,O)}function oe(p){var I;for(I=0;I<m;I++)p.dyn_ltree[I*2]=0;for(I=0;I<w;I++)p.dyn_dtree[I*2]=0;for(I=0;I<F;I++)p.bl_tree[I*2]=0;p.dyn_ltree[N*2]=1,p.opt_len=p.static_len=0,p.last_lit=p.matches=0}function ur(p){p.bi_valid>8?Vt(p,p.bi_buf):p.bi_valid>0&&(p.pending_buf[p.pending++]=p.bi_buf),p.bi_buf=0,p.bi_valid=0}function be(p,I,W,Z){ur(p),Vt(p,W),Vt(p,~W),r.arraySet(p.pending_buf,p.window,I,W,p.pending),p.pending+=W}function ce(p,I,W,Z){var S=I*2,T=W*2;return p[S]<p[T]||p[S]===p[T]&&Z[I]<=Z[W]}function Rt(p,I,W){for(var Z=p.heap[W],S=W<<1;S<=p.heap_len&&(S<p.heap_len&&ce(I,p.heap[S+1],p.heap[S],p.depth)&&S++,!ce(I,Z,p.heap[S],p.depth));)p.heap[W]=p.heap[S],W=S,S<<=1;p.heap[W]=Z}function vt(p,I,W){var Z,S,T=0,h,z;if(p.last_lit!==0)do Z=p.pending_buf[p.d_buf+T*2]<<8|p.pending_buf[p.d_buf+T*2+1],S=p.pending_buf[p.l_buf+T],T++,Z===0?jt(p,S,I):(h=Pt[S],jt(p,h+b+1,I),z=H[h],z!==0&&(S-=$[h],Tt(p,S,z)),Z--,h=ne(Z),jt(p,h,W),z=Q[h],z!==0&&(Z-=zt[h],Tt(p,Z,z)));while(T<p.last_lit);jt(p,N,I)}function me(p,I){var W=I.dyn_tree,Z=I.stat_desc.static_tree,S=I.stat_desc.has_stree,T=I.stat_desc.elems,h,z,rt=-1,f;for(p.heap_len=0,p.heap_max=C,h=0;h<T;h++)W[h*2]!==0?(p.heap[++p.heap_len]=rt=h,p.depth[h]=0):W[h*2+1]=0;for(;p.heap_len<2;)f=p.heap[++p.heap_len]=rt<2?++rt:0,W[f*2]=1,p.depth[f]=0,p.opt_len--,S&&(p.static_len-=Z[f*2+1]);for(I.max_code=rt,h=p.heap_len>>1;h>=1;h--)Rt(p,W,h);f=T;do h=p.heap[1],p.heap[1]=p.heap[p.heap_len--],Rt(p,W,1),z=p.heap[1],p.heap[--p.heap_max]=h,p.heap[--p.heap_max]=z,W[f*2]=W[h*2]+W[z*2],p.depth[f]=(p.depth[h]>=p.depth[z]?p.depth[h]:p.depth[z])+1,W[h*2+1]=W[z*2+1]=f,p.heap[1]=f++,Rt(p,W,1);while(p.heap_len>=2);p.heap[--p.heap_max]=p.heap[1],ge(p,I),ye(W,rt,p.bl_count)}function br(p,I,W){var Z,S=-1,T,h=I[1],z=0,rt=7,f=4;for(h===0&&(rt=138,f=3),I[(W+1)*2+1]=65535,Z=0;Z<=W;Z++)T=h,h=I[(Z+1)*2+1],!(++z<rt&&T===h)&&(z<f?p.bl_tree[T*2]+=z:T!==0?(T!==S&&p.bl_tree[T*2]++,p.bl_tree[R*2]++):z<=10?p.bl_tree[M*2]++:p.bl_tree[E*2]++,z=0,S=T,h===0?(rt=138,f=3):T===h?(rt=6,f=3):(rt=7,f=4))}function Xe(p,I,W){var Z,S=-1,T,h=I[1],z=0,rt=7,f=4;for(h===0&&(rt=138,f=3),Z=0;Z<=W;Z++)if(T=h,h=I[(Z+1)*2+1],!(++z<rt&&T===h)){if(z<f)do jt(p,T,p.bl_tree);while(--z!==0);else T!==0?(T!==S&&(jt(p,T,p.bl_tree),z--),jt(p,R,p.bl_tree),Tt(p,z-3,2)):z<=10?(jt(p,M,p.bl_tree),Tt(p,z-3,3)):(jt(p,E,p.bl_tree),Tt(p,z-11,7));z=0,S=T,h===0?(rt=138,f=3):T===h?(rt=6,f=3):(rt=7,f=4)}}function xe(p){var I;for(br(p,p.dyn_ltree,p.l_desc.max_code),br(p,p.dyn_dtree,p.d_desc.max_code),me(p,p.bl_desc),I=F-1;I>=3&&p.bl_tree[ot[I]*2+1]===0;I--);return p.opt_len+=3*(I+1)+5+5+4,I}function mr(p,I,W,Z){var S;for(Tt(p,I-257,5),Tt(p,W-1,5),Tt(p,Z-4,4),S=0;S<Z;S++)Tt(p,p.bl_tree[ot[S]*2+1],3);Xe(p,p.dyn_ltree,I-1),Xe(p,p.dyn_dtree,W-1)}function qe(p){var I=4093624447,W;for(W=0;W<=31;W++,I>>>=1)if(I&1&&p.dyn_ltree[W*2]!==0)return e;if(p.dyn_ltree[18]!==0||p.dyn_ltree[20]!==0||p.dyn_ltree[26]!==0)return n;for(W=32;W<b;W++)if(p.dyn_ltree[W*2]!==0)return n;return e}var Te=!1;function xr(p){Te||(Et(),Te=!0),p.l_desc=new Nt(p.dyn_ltree,pe),p.d_desc=new Nt(p.dyn_dtree,fe),p.bl_desc=new Nt(p.bl_tree,qt),p.bi_buf=0,p.bi_valid=0,oe(p)}function Ye(p,I,W,Z){Tt(p,(o<<1)+(Z?1:0),3),be(p,I,W)}function te(p){Tt(p,s<<1,3),jt(p,N,U),$t(p)}function ze(p,I,W,Z){var S,T,h=0;p.level>0?(p.strm.data_type===i&&(p.strm.data_type=qe(p)),me(p,p.l_desc),me(p,p.d_desc),h=xe(p),S=p.opt_len+3+7>>>3,T=p.static_len+3+7>>>3,T<=S&&(S=T)):S=T=W+5,W+4<=S&&I!==-1?Ye(p,I,W,Z):p.strategy===t||T===S?(Tt(p,(s<<1)+(Z?1:0),3),vt(p,U,tt)):(Tt(p,(u<<1)+(Z?1:0),3),mr(p,p.l_desc.max_code+1,p.d_desc.max_code+1,h+1),vt(p,p.dyn_ltree,p.dyn_dtree)),oe(p),Z&&ur(p)}function wr(p,I,W){return p.pending_buf[p.d_buf+p.last_lit*2]=I>>>8&255,p.pending_buf[p.d_buf+p.last_lit*2+1]=I&255,p.pending_buf[p.l_buf+p.last_lit]=W&255,p.last_lit++,I===0?p.dyn_ltree[W*2]++:(p.matches++,I--,p.dyn_ltree[(Pt[W]+b+1)*2]++,p.dyn_dtree[ne(I)*2]++),p.last_lit===p.lit_bufsize-1}return fr._tr_init=xr,fr._tr_stored_block=Ye,fr._tr_flush_block=ze,fr._tr_tally=wr,fr._tr_align=te,fr}var oi,ca;function oo(){if(ca)return oi;ca=1;function r(t,e,n,i){for(var a=t&65535|0,o=t>>>16&65535|0,s=0;n!==0;){s=n>2e3?2e3:n,n-=s;do a=a+e[i++]|0,o=o+a|0;while(--s);a%=65521,o%=65521}return a|o<<16|0}return oi=r,oi}var si,la;function so(){if(la)return si;la=1;function r(){for(var n,i=[],a=0;a<256;a++){n=a;for(var o=0;o<8;o++)n=n&1?3988292384^n>>>1:n>>>1;i[a]=n}return i}var t=r();function e(n,i,a,o){var s=t,u=o+a;n^=-1;for(var c=o;c<u;c++)n=n>>>8^s[(n^i[c])&255];return n^-1}return si=e,si}var ui,ha;function Oi(){return ha||(ha=1,ui={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}),ui}var da;function Ys(){if(da)return Ee;da=1;var r=or(),t=qs(),e=oo(),n=so(),i=Oi(),a=0,o=1,s=3,u=4,c=5,l=0,v=1,b=-2,m=-3,w=-5,F=-1,C=1,k=2,B=3,O=4,N=0,R=2,M=8,E=9,H=15,Q=8,X=29,ot=256,V=ot+1+X,U=30,tt=19,xt=2*V+1,Pt=15,$=3,zt=258,Bt=zt+$+1,pe=32,fe=42,qt=69,Nt=73,ne=91,Vt=103,Tt=113,jt=666,Dt=1,$t=2,ge=3,ye=4,Et=3;function oe(f,D){return f.msg=i[D],D}function ur(f){return(f<<1)-(f>4?9:0)}function be(f){for(var D=f.length;--D>=0;)f[D]=0}function ce(f){var D=f.state,P=D.pending;P>f.avail_out&&(P=f.avail_out),P!==0&&(r.arraySet(f.output,D.pending_buf,D.pending_out,P,f.next_out),f.next_out+=P,D.pending_out+=P,f.total_out+=P,f.avail_out-=P,D.pending-=P,D.pending===0&&(D.pending_out=0))}function Rt(f,D){t._tr_flush_block(f,f.block_start>=0?f.block_start:-1,f.strstart-f.block_start,D),f.block_start=f.strstart,ce(f.strm)}function vt(f,D){f.pending_buf[f.pending++]=D}function me(f,D){f.pending_buf[f.pending++]=D>>>8&255,f.pending_buf[f.pending++]=D&255}function br(f,D,P,d){var x=f.avail_in;return x>d&&(x=d),x===0?0:(f.avail_in-=x,r.arraySet(D,f.input,f.next_in,x,P),f.state.wrap===1?f.adler=e(f.adler,D,x,P):f.state.wrap===2&&(f.adler=n(f.adler,D,x,P)),f.next_in+=x,f.total_in+=x,x)}function Xe(f,D){var P=f.max_chain_length,d=f.strstart,x,A,q=f.prev_length,K=f.nice_match,G=f.strstart>f.w_size-Bt?f.strstart-(f.w_size-Bt):0,wt=f.window,We=f.w_mask,Mt=f.prev,St=f.strstart+zt,Ut=wt[d+q-1],ee=wt[d+q];f.prev_length>=f.good_match&&(P>>=2),K>f.lookahead&&(K=f.lookahead);do if(x=D,!(wt[x+q]!==ee||wt[x+q-1]!==Ut||wt[x]!==wt[d]||wt[++x]!==wt[d+1])){d+=2,x++;do;while(wt[++d]===wt[++x]&&wt[++d]===wt[++x]&&wt[++d]===wt[++x]&&wt[++d]===wt[++x]&&wt[++d]===wt[++x]&&wt[++d]===wt[++x]&&wt[++d]===wt[++x]&&wt[++d]===wt[++x]&&d<St);if(A=zt-(St-d),d=St-zt,A>q){if(f.match_start=D,q=A,A>=K)break;Ut=wt[d+q-1],ee=wt[d+q]}}while((D=Mt[D&We])>G&&--P!==0);return q<=f.lookahead?q:f.lookahead}function xe(f){var D=f.w_size,P,d,x,A,q;do{if(A=f.window_size-f.lookahead-f.strstart,f.strstart>=D+(D-Bt)){r.arraySet(f.window,f.window,D,D,0),f.match_start-=D,f.strstart-=D,f.block_start-=D,d=f.hash_size,P=d;do x=f.head[--P],f.head[P]=x>=D?x-D:0;while(--d);d=D,P=d;do x=f.prev[--P],f.prev[P]=x>=D?x-D:0;while(--d);A+=D}if(f.strm.avail_in===0)break;if(d=br(f.strm,f.window,f.strstart+f.lookahead,A),f.lookahead+=d,f.lookahead+f.insert>=$)for(q=f.strstart-f.insert,f.ins_h=f.window[q],f.ins_h=(f.ins_h<<f.hash_shift^f.window[q+1])&f.hash_mask;f.insert&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[q+$-1])&f.hash_mask,f.prev[q&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=q,q++,f.insert--,!(f.lookahead+f.insert<$)););}while(f.lookahead<Bt&&f.strm.avail_in!==0)}function mr(f,D){var P=65535;for(P>f.pending_buf_size-5&&(P=f.pending_buf_size-5);;){if(f.lookahead<=1){if(xe(f),f.lookahead===0&&D===a)return Dt;if(f.lookahead===0)break}f.strstart+=f.lookahead,f.lookahead=0;var d=f.block_start+P;if((f.strstart===0||f.strstart>=d)&&(f.lookahead=f.strstart-d,f.strstart=d,Rt(f,!1),f.strm.avail_out===0)||f.strstart-f.block_start>=f.w_size-Bt&&(Rt(f,!1),f.strm.avail_out===0))return Dt}return f.insert=0,D===u?(Rt(f,!0),f.strm.avail_out===0?ge:ye):(f.strstart>f.block_start&&(Rt(f,!1),f.strm.avail_out===0),Dt)}function qe(f,D){for(var P,d;;){if(f.lookahead<Bt){if(xe(f),f.lookahead<Bt&&D===a)return Dt;if(f.lookahead===0)break}if(P=0,f.lookahead>=$&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+$-1])&f.hash_mask,P=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),P!==0&&f.strstart-P<=f.w_size-Bt&&(f.match_length=Xe(f,P)),f.match_length>=$)if(d=t._tr_tally(f,f.strstart-f.match_start,f.match_length-$),f.lookahead-=f.match_length,f.match_length<=f.max_lazy_match&&f.lookahead>=$){f.match_length--;do f.strstart++,f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+$-1])&f.hash_mask,P=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart;while(--f.match_length!==0);f.strstart++}else f.strstart+=f.match_length,f.match_length=0,f.ins_h=f.window[f.strstart],f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+1])&f.hash_mask;else d=t._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++;if(d&&(Rt(f,!1),f.strm.avail_out===0))return Dt}return f.insert=f.strstart<$-1?f.strstart:$-1,D===u?(Rt(f,!0),f.strm.avail_out===0?ge:ye):f.last_lit&&(Rt(f,!1),f.strm.avail_out===0)?Dt:$t}function Te(f,D){for(var P,d,x;;){if(f.lookahead<Bt){if(xe(f),f.lookahead<Bt&&D===a)return Dt;if(f.lookahead===0)break}if(P=0,f.lookahead>=$&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+$-1])&f.hash_mask,P=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),f.prev_length=f.match_length,f.prev_match=f.match_start,f.match_length=$-1,P!==0&&f.prev_length<f.max_lazy_match&&f.strstart-P<=f.w_size-Bt&&(f.match_length=Xe(f,P),f.match_length<=5&&(f.strategy===C||f.match_length===$&&f.strstart-f.match_start>4096)&&(f.match_length=$-1)),f.prev_length>=$&&f.match_length<=f.prev_length){x=f.strstart+f.lookahead-$,d=t._tr_tally(f,f.strstart-1-f.prev_match,f.prev_length-$),f.lookahead-=f.prev_length-1,f.prev_length-=2;do++f.strstart<=x&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+$-1])&f.hash_mask,P=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart);while(--f.prev_length!==0);if(f.match_available=0,f.match_length=$-1,f.strstart++,d&&(Rt(f,!1),f.strm.avail_out===0))return Dt}else if(f.match_available){if(d=t._tr_tally(f,0,f.window[f.strstart-1]),d&&Rt(f,!1),f.strstart++,f.lookahead--,f.strm.avail_out===0)return Dt}else f.match_available=1,f.strstart++,f.lookahead--}return f.match_available&&(d=t._tr_tally(f,0,f.window[f.strstart-1]),f.match_available=0),f.insert=f.strstart<$-1?f.strstart:$-1,D===u?(Rt(f,!0),f.strm.avail_out===0?ge:ye):f.last_lit&&(Rt(f,!1),f.strm.avail_out===0)?Dt:$t}function xr(f,D){for(var P,d,x,A,q=f.window;;){if(f.lookahead<=zt){if(xe(f),f.lookahead<=zt&&D===a)return Dt;if(f.lookahead===0)break}if(f.match_length=0,f.lookahead>=$&&f.strstart>0&&(x=f.strstart-1,d=q[x],d===q[++x]&&d===q[++x]&&d===q[++x])){A=f.strstart+zt;do;while(d===q[++x]&&d===q[++x]&&d===q[++x]&&d===q[++x]&&d===q[++x]&&d===q[++x]&&d===q[++x]&&d===q[++x]&&x<A);f.match_length=zt-(A-x),f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(f.match_length>=$?(P=t._tr_tally(f,1,f.match_length-$),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=0):(P=t._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),P&&(Rt(f,!1),f.strm.avail_out===0))return Dt}return f.insert=0,D===u?(Rt(f,!0),f.strm.avail_out===0?ge:ye):f.last_lit&&(Rt(f,!1),f.strm.avail_out===0)?Dt:$t}function Ye(f,D){for(var P;;){if(f.lookahead===0&&(xe(f),f.lookahead===0)){if(D===a)return Dt;break}if(f.match_length=0,P=t._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,P&&(Rt(f,!1),f.strm.avail_out===0))return Dt}return f.insert=0,D===u?(Rt(f,!0),f.strm.avail_out===0?ge:ye):f.last_lit&&(Rt(f,!1),f.strm.avail_out===0)?Dt:$t}function te(f,D,P,d,x){this.good_length=f,this.max_lazy=D,this.nice_length=P,this.max_chain=d,this.func=x}var ze;ze=[new te(0,0,0,0,mr),new te(4,4,8,4,qe),new te(4,5,16,8,qe),new te(4,6,32,32,qe),new te(4,4,16,16,Te),new te(8,16,32,32,Te),new te(8,16,128,128,Te),new te(8,32,128,256,Te),new te(32,128,258,1024,Te),new te(32,258,258,4096,Te)];function wr(f){f.window_size=2*f.w_size,be(f.head),f.max_lazy_match=ze[f.level].max_lazy,f.good_match=ze[f.level].good_length,f.nice_match=ze[f.level].nice_length,f.max_chain_length=ze[f.level].max_chain,f.strstart=0,f.block_start=0,f.lookahead=0,f.insert=0,f.match_length=f.prev_length=$-1,f.match_available=0,f.ins_h=0}function p(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(xt*2),this.dyn_dtree=new r.Buf16((2*U+1)*2),this.bl_tree=new r.Buf16((2*tt+1)*2),be(this.dyn_ltree),be(this.dyn_dtree),be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(Pt+1),this.heap=new r.Buf16(2*V+1),be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*V+1),be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function I(f){var D;return!f||!f.state?oe(f,b):(f.total_in=f.total_out=0,f.data_type=R,D=f.state,D.pending=0,D.pending_out=0,D.wrap<0&&(D.wrap=-D.wrap),D.status=D.wrap?fe:Tt,f.adler=D.wrap===2?0:1,D.last_flush=a,t._tr_init(D),l)}function W(f){var D=I(f);return D===l&&wr(f.state),D}function Z(f,D){return!f||!f.state||f.state.wrap!==2?b:(f.state.gzhead=D,l)}function S(f,D,P,d,x,A){if(!f)return b;var q=1;if(D===F&&(D=6),d<0?(q=0,d=-d):d>15&&(q=2,d-=16),x<1||x>E||P!==M||d<8||d>15||D<0||D>9||A<0||A>O)return oe(f,b);d===8&&(d=9);var K=new p;return f.state=K,K.strm=f,K.wrap=q,K.gzhead=null,K.w_bits=d,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=x+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+$-1)/$),K.window=new r.Buf8(K.w_size*2),K.head=new r.Buf16(K.hash_size),K.prev=new r.Buf16(K.w_size),K.lit_bufsize=1<<x+6,K.pending_buf_size=K.lit_bufsize*4,K.pending_buf=new r.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=D,K.strategy=A,K.method=P,W(f)}function T(f,D){return S(f,D,M,H,Q,N)}function h(f,D){var P,d,x,A;if(!f||!f.state||D>c||D<0)return f?oe(f,b):b;if(d=f.state,!f.output||!f.input&&f.avail_in!==0||d.status===jt&&D!==u)return oe(f,f.avail_out===0?w:b);if(d.strm=f,P=d.last_flush,d.last_flush=D,d.status===fe)if(d.wrap===2)f.adler=0,vt(d,31),vt(d,139),vt(d,8),d.gzhead?(vt(d,(d.gzhead.text?1:0)+(d.gzhead.hcrc?2:0)+(d.gzhead.extra?4:0)+(d.gzhead.name?8:0)+(d.gzhead.comment?16:0)),vt(d,d.gzhead.time&255),vt(d,d.gzhead.time>>8&255),vt(d,d.gzhead.time>>16&255),vt(d,d.gzhead.time>>24&255),vt(d,d.level===9?2:d.strategy>=k||d.level<2?4:0),vt(d,d.gzhead.os&255),d.gzhead.extra&&d.gzhead.extra.length&&(vt(d,d.gzhead.extra.length&255),vt(d,d.gzhead.extra.length>>8&255)),d.gzhead.hcrc&&(f.adler=n(f.adler,d.pending_buf,d.pending,0)),d.gzindex=0,d.status=qt):(vt(d,0),vt(d,0),vt(d,0),vt(d,0),vt(d,0),vt(d,d.level===9?2:d.strategy>=k||d.level<2?4:0),vt(d,Et),d.status=Tt);else{var q=M+(d.w_bits-8<<4)<<8,K=-1;d.strategy>=k||d.level<2?K=0:d.level<6?K=1:d.level===6?K=2:K=3,q|=K<<6,d.strstart!==0&&(q|=pe),q+=31-q%31,d.status=Tt,me(d,q),d.strstart!==0&&(me(d,f.adler>>>16),me(d,f.adler&65535)),f.adler=1}if(d.status===qt)if(d.gzhead.extra){for(x=d.pending;d.gzindex<(d.gzhead.extra.length&65535)&&!(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>x&&(f.adler=n(f.adler,d.pending_buf,d.pending-x,x)),ce(f),x=d.pending,d.pending===d.pending_buf_size));)vt(d,d.gzhead.extra[d.gzindex]&255),d.gzindex++;d.gzhead.hcrc&&d.pending>x&&(f.adler=n(f.adler,d.pending_buf,d.pending-x,x)),d.gzindex===d.gzhead.extra.length&&(d.gzindex=0,d.status=Nt)}else d.status=Nt;if(d.status===Nt)if(d.gzhead.name){x=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>x&&(f.adler=n(f.adler,d.pending_buf,d.pending-x,x)),ce(f),x=d.pending,d.pending===d.pending_buf_size)){A=1;break}d.gzindex<d.gzhead.name.length?A=d.gzhead.name.charCodeAt(d.gzindex++)&255:A=0,vt(d,A)}while(A!==0);d.gzhead.hcrc&&d.pending>x&&(f.adler=n(f.adler,d.pending_buf,d.pending-x,x)),A===0&&(d.gzindex=0,d.status=ne)}else d.status=ne;if(d.status===ne)if(d.gzhead.comment){x=d.pending;do{if(d.pending===d.pending_buf_size&&(d.gzhead.hcrc&&d.pending>x&&(f.adler=n(f.adler,d.pending_buf,d.pending-x,x)),ce(f),x=d.pending,d.pending===d.pending_buf_size)){A=1;break}d.gzindex<d.gzhead.comment.length?A=d.gzhead.comment.charCodeAt(d.gzindex++)&255:A=0,vt(d,A)}while(A!==0);d.gzhead.hcrc&&d.pending>x&&(f.adler=n(f.adler,d.pending_buf,d.pending-x,x)),A===0&&(d.status=Vt)}else d.status=Vt;if(d.status===Vt&&(d.gzhead.hcrc?(d.pending+2>d.pending_buf_size&&ce(f),d.pending+2<=d.pending_buf_size&&(vt(d,f.adler&255),vt(d,f.adler>>8&255),f.adler=0,d.status=Tt)):d.status=Tt),d.pending!==0){if(ce(f),f.avail_out===0)return d.last_flush=-1,l}else if(f.avail_in===0&&ur(D)<=ur(P)&&D!==u)return oe(f,w);if(d.status===jt&&f.avail_in!==0)return oe(f,w);if(f.avail_in!==0||d.lookahead!==0||D!==a&&d.status!==jt){var G=d.strategy===k?Ye(d,D):d.strategy===B?xr(d,D):ze[d.level].func(d,D);if((G===ge||G===ye)&&(d.status=jt),G===Dt||G===ge)return f.avail_out===0&&(d.last_flush=-1),l;if(G===$t&&(D===o?t._tr_align(d):D!==c&&(t._tr_stored_block(d,0,0,!1),D===s&&(be(d.head),d.lookahead===0&&(d.strstart=0,d.block_start=0,d.insert=0))),ce(f),f.avail_out===0))return d.last_flush=-1,l}return D!==u?l:d.wrap<=0?v:(d.wrap===2?(vt(d,f.adler&255),vt(d,f.adler>>8&255),vt(d,f.adler>>16&255),vt(d,f.adler>>24&255),vt(d,f.total_in&255),vt(d,f.total_in>>8&255),vt(d,f.total_in>>16&255),vt(d,f.total_in>>24&255)):(me(d,f.adler>>>16),me(d,f.adler&65535)),ce(f),d.wrap>0&&(d.wrap=-d.wrap),d.pending!==0?l:v)}function z(f){var D;return!f||!f.state?b:(D=f.state.status,D!==fe&&D!==qt&&D!==Nt&&D!==ne&&D!==Vt&&D!==Tt&&D!==jt?oe(f,b):(f.state=null,D===Tt?oe(f,m):l))}function rt(f,D){var P=D.length,d,x,A,q,K,G,wt,We;if(!f||!f.state||(d=f.state,q=d.wrap,q===2||q===1&&d.status!==fe||d.lookahead))return b;for(q===1&&(f.adler=e(f.adler,D,P,0)),d.wrap=0,P>=d.w_size&&(q===0&&(be(d.head),d.strstart=0,d.block_start=0,d.insert=0),We=new r.Buf8(d.w_size),r.arraySet(We,D,P-d.w_size,d.w_size,0),D=We,P=d.w_size),K=f.avail_in,G=f.next_in,wt=f.input,f.avail_in=P,f.next_in=0,f.input=D,xe(d);d.lookahead>=$;){x=d.strstart,A=d.lookahead-($-1);do d.ins_h=(d.ins_h<<d.hash_shift^d.window[x+$-1])&d.hash_mask,d.prev[x&d.w_mask]=d.head[d.ins_h],d.head[d.ins_h]=x,x++;while(--A);d.strstart=x,d.lookahead=$-1,xe(d)}return d.strstart+=d.lookahead,d.block_start=d.strstart,d.insert=d.lookahead,d.lookahead=0,d.match_length=d.prev_length=$-1,d.match_available=0,f.next_in=G,f.input=wt,f.avail_in=K,d.wrap=q,l}return Ee.deflateInit=T,Ee.deflateInit2=S,Ee.deflateReset=W,Ee.deflateResetKeep=I,Ee.deflateSetHeader=Z,Ee.deflate=h,Ee.deflateEnd=z,Ee.deflateSetDictionary=rt,Ee.deflateInfo="pako deflate (from Nodeca project)",Ee}var cr={},va;function uo(){if(va)return cr;va=1;var r=or(),t=!0,e=!0;try{String.fromCharCode.apply(null,[0])}catch{t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}for(var n=new r.Buf8(256),i=0;i<256;i++)n[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;n[254]=n[254]=1,cr.string2buf=function(o){var s,u,c,l,v,b=o.length,m=0;for(l=0;l<b;l++)u=o.charCodeAt(l),(u&64512)===55296&&l+1<b&&(c=o.charCodeAt(l+1),(c&64512)===56320&&(u=65536+(u-55296<<10)+(c-56320),l++)),m+=u<128?1:u<2048?2:u<65536?3:4;for(s=new r.Buf8(m),v=0,l=0;v<m;l++)u=o.charCodeAt(l),(u&64512)===55296&&l+1<b&&(c=o.charCodeAt(l+1),(c&64512)===56320&&(u=65536+(u-55296<<10)+(c-56320),l++)),u<128?s[v++]=u:u<2048?(s[v++]=192|u>>>6,s[v++]=128|u&63):u<65536?(s[v++]=224|u>>>12,s[v++]=128|u>>>6&63,s[v++]=128|u&63):(s[v++]=240|u>>>18,s[v++]=128|u>>>12&63,s[v++]=128|u>>>6&63,s[v++]=128|u&63);return s};function a(o,s){if(s<65534&&(o.subarray&&e||!o.subarray&&t))return String.fromCharCode.apply(null,r.shrinkBuf(o,s));for(var u="",c=0;c<s;c++)u+=String.fromCharCode(o[c]);return u}return cr.buf2binstring=function(o){return a(o,o.length)},cr.binstring2buf=function(o){for(var s=new r.Buf8(o.length),u=0,c=s.length;u<c;u++)s[u]=o.charCodeAt(u);return s},cr.buf2string=function(o,s){var u,c,l,v,b=s||o.length,m=new Array(b*2);for(c=0,u=0;u<b;){if(l=o[u++],l<128){m[c++]=l;continue}if(v=n[l],v>4){m[c++]=65533,u+=v-1;continue}for(l&=v===2?31:v===3?15:7;v>1&&u<b;)l=l<<6|o[u++]&63,v--;if(v>1){m[c++]=65533;continue}l<65536?m[c++]=l:(l-=65536,m[c++]=55296|l>>10&1023,m[c++]=56320|l&1023)}return a(m,c)},cr.utf8border=function(o,s){var u;for(s=s||o.length,s>o.length&&(s=o.length),u=s-1;u>=0&&(o[u]&192)===128;)u--;return u<0||u===0?s:u+n[o[u]]>s?u:s},cr}var fi,pa;function fo(){if(pa)return fi;pa=1;function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}return fi=r,fi}var ga;function Js(){if(ga)return Fr;ga=1;var r=Ys(),t=or(),e=uo(),n=Oi(),i=fo(),a=Object.prototype.toString,o=0,s=4,u=0,c=1,l=2,v=-1,b=0,m=8;function w(B){if(!(this instanceof w))return new w(B);this.options=t.assign({level:v,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},B||{});var O=this.options;O.raw&&O.windowBits>0?O.windowBits=-O.windowBits:O.gzip&&O.windowBits>0&&O.windowBits<16&&(O.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var N=r.deflateInit2(this.strm,O.level,O.method,O.windowBits,O.memLevel,O.strategy);if(N!==u)throw new Error(n[N]);if(O.header&&r.deflateSetHeader(this.strm,O.header),O.dictionary){var R;if(typeof O.dictionary=="string"?R=e.string2buf(O.dictionary):a.call(O.dictionary)==="[object ArrayBuffer]"?R=new Uint8Array(O.dictionary):R=O.dictionary,N=r.deflateSetDictionary(this.strm,R),N!==u)throw new Error(n[N]);this._dict_set=!0}}w.prototype.push=function(B,O){var N=this.strm,R=this.options.chunkSize,M,E;if(this.ended)return!1;E=O===~~O?O:O===!0?s:o,typeof B=="string"?N.input=e.string2buf(B):a.call(B)==="[object ArrayBuffer]"?N.input=new Uint8Array(B):N.input=B,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new t.Buf8(R),N.next_out=0,N.avail_out=R),M=r.deflate(N,E),M!==c&&M!==u)return this.onEnd(M),this.ended=!0,!1;(N.avail_out===0||N.avail_in===0&&(E===s||E===l))&&(this.options.to==="string"?this.onData(e.buf2binstring(t.shrinkBuf(N.output,N.next_out))):this.onData(t.shrinkBuf(N.output,N.next_out)))}while((N.avail_in>0||N.avail_out===0)&&M!==c);return E===s?(M=r.deflateEnd(this.strm),this.onEnd(M),this.ended=!0,M===u):(E===l&&(this.onEnd(u),N.avail_out=0),!0)},w.prototype.onData=function(B){this.chunks.push(B)},w.prototype.onEnd=function(B){B===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=B,this.msg=this.strm.msg};function F(B,O){var N=new w(O);if(N.push(B,!0),N.err)throw N.msg||n[N.err];return N.result}function C(B,O){return O=O||{},O.raw=!0,F(B,O)}function k(B,O){return O=O||{},O.gzip=!0,F(B,O)}return Fr.Deflate=w,Fr.deflate=F,Fr.deflateRaw=C,Fr.gzip=k,Fr}var kr={},Se={},ci,ya;function Qs(){if(ya)return ci;ya=1;var r=30,t=12;return ci=function(n,i){var a,o,s,u,c,l,v,b,m,w,F,C,k,B,O,N,R,M,E,H,Q,X,ot,V,U;a=n.state,o=n.next_in,V=n.input,s=o+(n.avail_in-5),u=n.next_out,U=n.output,c=u-(i-n.avail_out),l=u+(n.avail_out-257),v=a.dmax,b=a.wsize,m=a.whave,w=a.wnext,F=a.window,C=a.hold,k=a.bits,B=a.lencode,O=a.distcode,N=(1<<a.lenbits)-1,R=(1<<a.distbits)-1;t:do{k<15&&(C+=V[o++]<<k,k+=8,C+=V[o++]<<k,k+=8),M=B[C&N];e:for(;;){if(E=M>>>24,C>>>=E,k-=E,E=M>>>16&255,E===0)U[u++]=M&65535;else if(E&16){H=M&65535,E&=15,E&&(k<E&&(C+=V[o++]<<k,k+=8),H+=C&(1<<E)-1,C>>>=E,k-=E),k<15&&(C+=V[o++]<<k,k+=8,C+=V[o++]<<k,k+=8),M=O[C&R];r:for(;;){if(E=M>>>24,C>>>=E,k-=E,E=M>>>16&255,E&16){if(Q=M&65535,E&=15,k<E&&(C+=V[o++]<<k,k+=8,k<E&&(C+=V[o++]<<k,k+=8)),Q+=C&(1<<E)-1,Q>v){n.msg="invalid distance too far back",a.mode=r;break t}if(C>>>=E,k-=E,E=u-c,Q>E){if(E=Q-E,E>m&&a.sane){n.msg="invalid distance too far back",a.mode=r;break t}if(X=0,ot=F,w===0){if(X+=b-E,E<H){H-=E;do U[u++]=F[X++];while(--E);X=u-Q,ot=U}}else if(w<E){if(X+=b+w-E,E-=w,E<H){H-=E;do U[u++]=F[X++];while(--E);if(X=0,w<H){E=w,H-=E;do U[u++]=F[X++];while(--E);X=u-Q,ot=U}}}else if(X+=w-E,E<H){H-=E;do U[u++]=F[X++];while(--E);X=u-Q,ot=U}for(;H>2;)U[u++]=ot[X++],U[u++]=ot[X++],U[u++]=ot[X++],H-=3;H&&(U[u++]=ot[X++],H>1&&(U[u++]=ot[X++]))}else{X=u-Q;do U[u++]=U[X++],U[u++]=U[X++],U[u++]=U[X++],H-=3;while(H>2);H&&(U[u++]=U[X++],H>1&&(U[u++]=U[X++]))}}else if((E&64)===0){M=O[(M&65535)+(C&(1<<E)-1)];continue r}else{n.msg="invalid distance code",a.mode=r;break t}break}}else if((E&64)===0){M=B[(M&65535)+(C&(1<<E)-1)];continue e}else if(E&32){a.mode=t;break t}else{n.msg="invalid literal/length code",a.mode=r;break t}break}}while(o<s&&u<l);H=k>>3,o-=H,k-=H<<3,C&=(1<<k)-1,n.next_in=o,n.next_out=u,n.avail_in=o<s?5+(s-o):5-(o-s),n.avail_out=u<l?257+(l-u):257-(u-l),a.hold=C,a.bits=k},ci}var li,ba;function $s(){if(ba)return li;ba=1;var r=or(),t=15,e=852,n=592,i=0,a=1,o=2,s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return li=function(b,m,w,F,C,k,B,O){var N=O.bits,R=0,M=0,E=0,H=0,Q=0,X=0,ot=0,V=0,U=0,tt=0,xt,Pt,$,zt,Bt,pe=null,fe=0,qt,Nt=new r.Buf16(t+1),ne=new r.Buf16(t+1),Vt=null,Tt=0,jt,Dt,$t;for(R=0;R<=t;R++)Nt[R]=0;for(M=0;M<F;M++)Nt[m[w+M]]++;for(Q=N,H=t;H>=1&&Nt[H]===0;H--);if(Q>H&&(Q=H),H===0)return C[k++]=1<<24|64<<16|0,C[k++]=1<<24|64<<16|0,O.bits=1,0;for(E=1;E<H&&Nt[E]===0;E++);for(Q<E&&(Q=E),V=1,R=1;R<=t;R++)if(V<<=1,V-=Nt[R],V<0)return-1;if(V>0&&(b===i||H!==1))return-1;for(ne[1]=0,R=1;R<t;R++)ne[R+1]=ne[R]+Nt[R];for(M=0;M<F;M++)m[w+M]!==0&&(B[ne[m[w+M]]++]=M);if(b===i?(pe=Vt=B,qt=19):b===a?(pe=s,fe-=257,Vt=u,Tt-=257,qt=256):(pe=c,Vt=l,qt=-1),tt=0,M=0,R=E,Bt=k,X=Q,ot=0,$=-1,U=1<<Q,zt=U-1,b===a&&U>e||b===o&&U>n)return 1;for(;;){jt=R-ot,B[M]<qt?(Dt=0,$t=B[M]):B[M]>qt?(Dt=Vt[Tt+B[M]],$t=pe[fe+B[M]]):(Dt=96,$t=0),xt=1<<R-ot,Pt=1<<X,E=Pt;do Pt-=xt,C[Bt+(tt>>ot)+Pt]=jt<<24|Dt<<16|$t|0;while(Pt!==0);for(xt=1<<R-1;tt&xt;)xt>>=1;if(xt!==0?(tt&=xt-1,tt+=xt):tt=0,M++,--Nt[R]===0){if(R===H)break;R=m[w+B[M]]}if(R>Q&&(tt&zt)!==$){for(ot===0&&(ot=Q),Bt+=E,X=R-ot,V=1<<X;X+ot<H&&(V-=Nt[X+ot],!(V<=0));)X++,V<<=1;if(U+=1<<X,b===a&&U>e||b===o&&U>n)return 1;$=tt&zt,C[$]=Q<<24|X<<16|Bt-k|0}}return tt!==0&&(C[Bt+tt]=R-ot<<24|64<<16|0),O.bits=Q,0},li}var ma;function tu(){if(ma)return Se;ma=1;var r=or(),t=oo(),e=so(),n=Qs(),i=$s(),a=0,o=1,s=2,u=4,c=5,l=6,v=0,b=1,m=2,w=-2,F=-3,C=-4,k=-5,B=8,O=1,N=2,R=3,M=4,E=5,H=6,Q=7,X=8,ot=9,V=10,U=11,tt=12,xt=13,Pt=14,$=15,zt=16,Bt=17,pe=18,fe=19,qt=20,Nt=21,ne=22,Vt=23,Tt=24,jt=25,Dt=26,$t=27,ge=28,ye=29,Et=30,oe=31,ur=32,be=852,ce=592,Rt=15,vt=Rt;function me(S){return(S>>>24&255)+(S>>>8&65280)+((S&65280)<<8)+((S&255)<<24)}function br(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Xe(S){var T;return!S||!S.state?w:(T=S.state,S.total_in=S.total_out=T.total=0,S.msg="",T.wrap&&(S.adler=T.wrap&1),T.mode=O,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new r.Buf32(be),T.distcode=T.distdyn=new r.Buf32(ce),T.sane=1,T.back=-1,v)}function xe(S){var T;return!S||!S.state?w:(T=S.state,T.wsize=0,T.whave=0,T.wnext=0,Xe(S))}function mr(S,T){var h,z;return!S||!S.state||(z=S.state,T<0?(h=0,T=-T):(h=(T>>4)+1,T<48&&(T&=15)),T&&(T<8||T>15))?w:(z.window!==null&&z.wbits!==T&&(z.window=null),z.wrap=h,z.wbits=T,xe(S))}function qe(S,T){var h,z;return S?(z=new br,S.state=z,z.window=null,h=mr(S,T),h!==v&&(S.state=null),h):w}function Te(S){return qe(S,vt)}var xr=!0,Ye,te;function ze(S){if(xr){var T;for(Ye=new r.Buf32(512),te=new r.Buf32(32),T=0;T<144;)S.lens[T++]=8;for(;T<256;)S.lens[T++]=9;for(;T<280;)S.lens[T++]=7;for(;T<288;)S.lens[T++]=8;for(i(o,S.lens,0,288,Ye,0,S.work,{bits:9}),T=0;T<32;)S.lens[T++]=5;i(s,S.lens,0,32,te,0,S.work,{bits:5}),xr=!1}S.lencode=Ye,S.lenbits=9,S.distcode=te,S.distbits=5}function wr(S,T,h,z){var rt,f=S.state;return f.window===null&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new r.Buf8(f.wsize)),z>=f.wsize?(r.arraySet(f.window,T,h-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(rt=f.wsize-f.wnext,rt>z&&(rt=z),r.arraySet(f.window,T,h-z,rt,f.wnext),z-=rt,z?(r.arraySet(f.window,T,h-z,z,0),f.wnext=z,f.whave=f.wsize):(f.wnext+=rt,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=rt))),0}function p(S,T){var h,z,rt,f,D,P,d,x,A,q,K,G,wt,We,Mt=0,St,Ut,ee,se,hn,dn,Wt,we,Yt=new r.Buf8(4),Le,Ne,Qi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return w;h=S.state,h.mode===tt&&(h.mode=xt),D=S.next_out,rt=S.output,d=S.avail_out,f=S.next_in,z=S.input,P=S.avail_in,x=h.hold,A=h.bits,q=P,K=d,we=v;t:for(;;)switch(h.mode){case O:if(h.wrap===0){h.mode=xt;break}for(;A<16;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}if(h.wrap&2&&x===35615){h.check=0,Yt[0]=x&255,Yt[1]=x>>>8&255,h.check=e(h.check,Yt,2,0),x=0,A=0,h.mode=N;break}if(h.flags=0,h.head&&(h.head.done=!1),!(h.wrap&1)||(((x&255)<<8)+(x>>8))%31){S.msg="incorrect header check",h.mode=Et;break}if((x&15)!==B){S.msg="unknown compression method",h.mode=Et;break}if(x>>>=4,A-=4,Wt=(x&15)+8,h.wbits===0)h.wbits=Wt;else if(Wt>h.wbits){S.msg="invalid window size",h.mode=Et;break}h.dmax=1<<Wt,S.adler=h.check=1,h.mode=x&512?V:tt,x=0,A=0;break;case N:for(;A<16;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}if(h.flags=x,(h.flags&255)!==B){S.msg="unknown compression method",h.mode=Et;break}if(h.flags&57344){S.msg="unknown header flags set",h.mode=Et;break}h.head&&(h.head.text=x>>8&1),h.flags&512&&(Yt[0]=x&255,Yt[1]=x>>>8&255,h.check=e(h.check,Yt,2,0)),x=0,A=0,h.mode=R;case R:for(;A<32;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}h.head&&(h.head.time=x),h.flags&512&&(Yt[0]=x&255,Yt[1]=x>>>8&255,Yt[2]=x>>>16&255,Yt[3]=x>>>24&255,h.check=e(h.check,Yt,4,0)),x=0,A=0,h.mode=M;case M:for(;A<16;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}h.head&&(h.head.xflags=x&255,h.head.os=x>>8),h.flags&512&&(Yt[0]=x&255,Yt[1]=x>>>8&255,h.check=e(h.check,Yt,2,0)),x=0,A=0,h.mode=E;case E:if(h.flags&1024){for(;A<16;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}h.length=x,h.head&&(h.head.extra_len=x),h.flags&512&&(Yt[0]=x&255,Yt[1]=x>>>8&255,h.check=e(h.check,Yt,2,0)),x=0,A=0}else h.head&&(h.head.extra=null);h.mode=H;case H:if(h.flags&1024&&(G=h.length,G>P&&(G=P),G&&(h.head&&(Wt=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),r.arraySet(h.head.extra,z,f,G,Wt)),h.flags&512&&(h.check=e(h.check,z,G,f)),P-=G,f+=G,h.length-=G),h.length))break t;h.length=0,h.mode=Q;case Q:if(h.flags&2048){if(P===0)break t;G=0;do Wt=z[f+G++],h.head&&Wt&&h.length<65536&&(h.head.name+=String.fromCharCode(Wt));while(Wt&&G<P);if(h.flags&512&&(h.check=e(h.check,z,G,f)),P-=G,f+=G,Wt)break t}else h.head&&(h.head.name=null);h.length=0,h.mode=X;case X:if(h.flags&4096){if(P===0)break t;G=0;do Wt=z[f+G++],h.head&&Wt&&h.length<65536&&(h.head.comment+=String.fromCharCode(Wt));while(Wt&&G<P);if(h.flags&512&&(h.check=e(h.check,z,G,f)),P-=G,f+=G,Wt)break t}else h.head&&(h.head.comment=null);h.mode=ot;case ot:if(h.flags&512){for(;A<16;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}if(x!==(h.check&65535)){S.msg="header crc mismatch",h.mode=Et;break}x=0,A=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),S.adler=h.check=0,h.mode=tt;break;case V:for(;A<32;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}S.adler=h.check=me(x),x=0,A=0,h.mode=U;case U:if(h.havedict===0)return S.next_out=D,S.avail_out=d,S.next_in=f,S.avail_in=P,h.hold=x,h.bits=A,m;S.adler=h.check=1,h.mode=tt;case tt:if(T===c||T===l)break t;case xt:if(h.last){x>>>=A&7,A-=A&7,h.mode=$t;break}for(;A<3;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}switch(h.last=x&1,x>>>=1,A-=1,x&3){case 0:h.mode=Pt;break;case 1:if(ze(h),h.mode=qt,T===l){x>>>=2,A-=2;break t}break;case 2:h.mode=Bt;break;case 3:S.msg="invalid block type",h.mode=Et}x>>>=2,A-=2;break;case Pt:for(x>>>=A&7,A-=A&7;A<32;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}if((x&65535)!==(x>>>16^65535)){S.msg="invalid stored block lengths",h.mode=Et;break}if(h.length=x&65535,x=0,A=0,h.mode=$,T===l)break t;case $:h.mode=zt;case zt:if(G=h.length,G){if(G>P&&(G=P),G>d&&(G=d),G===0)break t;r.arraySet(rt,z,f,G,D),P-=G,f+=G,d-=G,D+=G,h.length-=G;break}h.mode=tt;break;case Bt:for(;A<14;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}if(h.nlen=(x&31)+257,x>>>=5,A-=5,h.ndist=(x&31)+1,x>>>=5,A-=5,h.ncode=(x&15)+4,x>>>=4,A-=4,h.nlen>286||h.ndist>30){S.msg="too many length or distance symbols",h.mode=Et;break}h.have=0,h.mode=pe;case pe:for(;h.have<h.ncode;){for(;A<3;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}h.lens[Qi[h.have++]]=x&7,x>>>=3,A-=3}for(;h.have<19;)h.lens[Qi[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,Le={bits:h.lenbits},we=i(a,h.lens,0,19,h.lencode,0,h.work,Le),h.lenbits=Le.bits,we){S.msg="invalid code lengths set",h.mode=Et;break}h.have=0,h.mode=fe;case fe:for(;h.have<h.nlen+h.ndist;){for(;Mt=h.lencode[x&(1<<h.lenbits)-1],St=Mt>>>24,Ut=Mt>>>16&255,ee=Mt&65535,!(St<=A);){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}if(ee<16)x>>>=St,A-=St,h.lens[h.have++]=ee;else{if(ee===16){for(Ne=St+2;A<Ne;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}if(x>>>=St,A-=St,h.have===0){S.msg="invalid bit length repeat",h.mode=Et;break}Wt=h.lens[h.have-1],G=3+(x&3),x>>>=2,A-=2}else if(ee===17){for(Ne=St+3;A<Ne;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}x>>>=St,A-=St,Wt=0,G=3+(x&7),x>>>=3,A-=3}else{for(Ne=St+7;A<Ne;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}x>>>=St,A-=St,Wt=0,G=11+(x&127),x>>>=7,A-=7}if(h.have+G>h.nlen+h.ndist){S.msg="invalid bit length repeat",h.mode=Et;break}for(;G--;)h.lens[h.have++]=Wt}}if(h.mode===Et)break;if(h.lens[256]===0){S.msg="invalid code -- missing end-of-block",h.mode=Et;break}if(h.lenbits=9,Le={bits:h.lenbits},we=i(o,h.lens,0,h.nlen,h.lencode,0,h.work,Le),h.lenbits=Le.bits,we){S.msg="invalid literal/lengths set",h.mode=Et;break}if(h.distbits=6,h.distcode=h.distdyn,Le={bits:h.distbits},we=i(s,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,Le),h.distbits=Le.bits,we){S.msg="invalid distances set",h.mode=Et;break}if(h.mode=qt,T===l)break t;case qt:h.mode=Nt;case Nt:if(P>=6&&d>=258){S.next_out=D,S.avail_out=d,S.next_in=f,S.avail_in=P,h.hold=x,h.bits=A,n(S,K),D=S.next_out,rt=S.output,d=S.avail_out,f=S.next_in,z=S.input,P=S.avail_in,x=h.hold,A=h.bits,h.mode===tt&&(h.back=-1);break}for(h.back=0;Mt=h.lencode[x&(1<<h.lenbits)-1],St=Mt>>>24,Ut=Mt>>>16&255,ee=Mt&65535,!(St<=A);){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}if(Ut&&(Ut&240)===0){for(se=St,hn=Ut,dn=ee;Mt=h.lencode[dn+((x&(1<<se+hn)-1)>>se)],St=Mt>>>24,Ut=Mt>>>16&255,ee=Mt&65535,!(se+St<=A);){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}x>>>=se,A-=se,h.back+=se}if(x>>>=St,A-=St,h.back+=St,h.length=ee,Ut===0){h.mode=Dt;break}if(Ut&32){h.back=-1,h.mode=tt;break}if(Ut&64){S.msg="invalid literal/length code",h.mode=Et;break}h.extra=Ut&15,h.mode=ne;case ne:if(h.extra){for(Ne=h.extra;A<Ne;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}h.length+=x&(1<<h.extra)-1,x>>>=h.extra,A-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=Vt;case Vt:for(;Mt=h.distcode[x&(1<<h.distbits)-1],St=Mt>>>24,Ut=Mt>>>16&255,ee=Mt&65535,!(St<=A);){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}if((Ut&240)===0){for(se=St,hn=Ut,dn=ee;Mt=h.distcode[dn+((x&(1<<se+hn)-1)>>se)],St=Mt>>>24,Ut=Mt>>>16&255,ee=Mt&65535,!(se+St<=A);){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}x>>>=se,A-=se,h.back+=se}if(x>>>=St,A-=St,h.back+=St,Ut&64){S.msg="invalid distance code",h.mode=Et;break}h.offset=ee,h.extra=Ut&15,h.mode=Tt;case Tt:if(h.extra){for(Ne=h.extra;A<Ne;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}h.offset+=x&(1<<h.extra)-1,x>>>=h.extra,A-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){S.msg="invalid distance too far back",h.mode=Et;break}h.mode=jt;case jt:if(d===0)break t;if(G=K-d,h.offset>G){if(G=h.offset-G,G>h.whave&&h.sane){S.msg="invalid distance too far back",h.mode=Et;break}G>h.wnext?(G-=h.wnext,wt=h.wsize-G):wt=h.wnext-G,G>h.length&&(G=h.length),We=h.window}else We=rt,wt=D-h.offset,G=h.length;G>d&&(G=d),d-=G,h.length-=G;do rt[D++]=We[wt++];while(--G);h.length===0&&(h.mode=Nt);break;case Dt:if(d===0)break t;rt[D++]=h.length,d--,h.mode=Nt;break;case $t:if(h.wrap){for(;A<32;){if(P===0)break t;P--,x|=z[f++]<<A,A+=8}if(K-=d,S.total_out+=K,h.total+=K,K&&(S.adler=h.check=h.flags?e(h.check,rt,K,D-K):t(h.check,rt,K,D-K)),K=d,(h.flags?x:me(x))!==h.check){S.msg="incorrect data check",h.mode=Et;break}x=0,A=0}h.mode=ge;case ge:if(h.wrap&&h.flags){for(;A<32;){if(P===0)break t;P--,x+=z[f++]<<A,A+=8}if(x!==(h.total&4294967295)){S.msg="incorrect length check",h.mode=Et;break}x=0,A=0}h.mode=ye;case ye:we=b;break t;case Et:we=F;break t;case oe:return C;case ur:default:return w}return S.next_out=D,S.avail_out=d,S.next_in=f,S.avail_in=P,h.hold=x,h.bits=A,(h.wsize||K!==S.avail_out&&h.mode<Et&&(h.mode<$t||T!==u))&&wr(S,S.output,S.next_out,K-S.avail_out),q-=S.avail_in,K-=S.avail_out,S.total_in+=q,S.total_out+=K,h.total+=K,h.wrap&&K&&(S.adler=h.check=h.flags?e(h.check,rt,K,S.next_out-K):t(h.check,rt,K,S.next_out-K)),S.data_type=h.bits+(h.last?64:0)+(h.mode===tt?128:0)+(h.mode===qt||h.mode===$?256:0),(q===0&&K===0||T===u)&&we===v&&(we=k),we}function I(S){if(!S||!S.state)return w;var T=S.state;return T.window&&(T.window=null),S.state=null,v}function W(S,T){var h;return!S||!S.state||(h=S.state,(h.wrap&2)===0)?w:(h.head=T,T.done=!1,v)}function Z(S,T){var h=T.length,z,rt,f;return!S||!S.state||(z=S.state,z.wrap!==0&&z.mode!==U)?w:z.mode===U&&(rt=1,rt=t(rt,T,h,0),rt!==z.check)?F:(f=wr(S,T,h,h),f?(z.mode=oe,C):(z.havedict=1,v))}return Se.inflateReset=xe,Se.inflateReset2=mr,Se.inflateResetKeep=Xe,Se.inflateInit=Te,Se.inflateInit2=qe,Se.inflate=p,Se.inflateEnd=I,Se.inflateGetHeader=W,Se.inflateSetDictionary=Z,Se.inflateInfo="pako inflate (from Nodeca project)",Se}var hi,xa;function co(){return xa||(xa=1,hi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}),hi}var di,wa;function eu(){if(wa)return di;wa=1;function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}return di=r,di}var Sa;function ru(){if(Sa)return kr;Sa=1;var r=tu(),t=or(),e=uo(),n=co(),i=Oi(),a=fo(),o=eu(),s=Object.prototype.toString;function u(v){if(!(this instanceof u))return new u(v);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},v||{});var b=this.options;b.raw&&b.windowBits>=0&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),b.windowBits>=0&&b.windowBits<16&&!(v&&v.windowBits)&&(b.windowBits+=32),b.windowBits>15&&b.windowBits<48&&(b.windowBits&15)===0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var m=r.inflateInit2(this.strm,b.windowBits);if(m!==n.Z_OK)throw new Error(i[m]);if(this.header=new o,r.inflateGetHeader(this.strm,this.header),b.dictionary&&(typeof b.dictionary=="string"?b.dictionary=e.string2buf(b.dictionary):s.call(b.dictionary)==="[object ArrayBuffer]"&&(b.dictionary=new Uint8Array(b.dictionary)),b.raw&&(m=r.inflateSetDictionary(this.strm,b.dictionary),m!==n.Z_OK)))throw new Error(i[m])}u.prototype.push=function(v,b){var m=this.strm,w=this.options.chunkSize,F=this.options.dictionary,C,k,B,O,N,R=!1;if(this.ended)return!1;k=b===~~b?b:b===!0?n.Z_FINISH:n.Z_NO_FLUSH,typeof v=="string"?m.input=e.binstring2buf(v):s.call(v)==="[object ArrayBuffer]"?m.input=new Uint8Array(v):m.input=v,m.next_in=0,m.avail_in=m.input.length;do{if(m.avail_out===0&&(m.output=new t.Buf8(w),m.next_out=0,m.avail_out=w),C=r.inflate(m,n.Z_NO_FLUSH),C===n.Z_NEED_DICT&&F&&(C=r.inflateSetDictionary(this.strm,F)),C===n.Z_BUF_ERROR&&R===!0&&(C=n.Z_OK,R=!1),C!==n.Z_STREAM_END&&C!==n.Z_OK)return this.onEnd(C),this.ended=!0,!1;m.next_out&&(m.avail_out===0||C===n.Z_STREAM_END||m.avail_in===0&&(k===n.Z_FINISH||k===n.Z_SYNC_FLUSH))&&(this.options.to==="string"?(B=e.utf8border(m.output,m.next_out),O=m.next_out-B,N=e.buf2string(m.output,B),m.next_out=O,m.avail_out=w-O,O&&t.arraySet(m.output,m.output,B,O,0),this.onData(N)):this.onData(t.shrinkBuf(m.output,m.next_out))),m.avail_in===0&&m.avail_out===0&&(R=!0)}while((m.avail_in>0||m.avail_out===0)&&C!==n.Z_STREAM_END);return C===n.Z_STREAM_END&&(k=n.Z_FINISH),k===n.Z_FINISH?(C=r.inflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===n.Z_OK):(k===n.Z_SYNC_FLUSH&&(this.onEnd(n.Z_OK),m.avail_out=0),!0)},u.prototype.onData=function(v){this.chunks.push(v)},u.prototype.onEnd=function(v){v===n.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg};function c(v,b){var m=new u(b);if(m.push(v,!0),m.err)throw m.msg||i[m.err];return m.result}function l(v,b){return b=b||{},b.raw=!0,c(v,b)}return kr.Inflate=u,kr.inflate=c,kr.inflateRaw=l,kr.ungzip=c,kr}var vi,_a;function nu(){if(_a)return vi;_a=1;var r=or().assign,t=Js(),e=ru(),n=co(),i={};return r(i,t,e,n),vi=i,vi}var iu=nu();const lo=Qo(iu);var Zn=(function(){function r(t,e){this.major=String(t),this.minor=String(e)}return r.prototype.toString=function(){var t=Ke(129);return"%PDF-"+this.major+"."+this.minor+`
%`+t+t+t+t},r.prototype.sizeInBytes=function(){return 12+this.major.length+this.minor.length},r.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=y.Percent,t[e++]=y.P,t[e++]=y.D,t[e++]=y.F,t[e++]=y.Dash,e+=Jt(this.major,t,e),t[e++]=y.Period,e+=Jt(this.minor,t,e),t[e++]=y.Newline,t[e++]=y.Percent,t[e++]=129,t[e++]=129,t[e++]=129,t[e++]=129,e-n},r.forVersion=function(t,e){return new r(t,e)},r})(),ie=(function(){function r(){}return r.prototype.clone=function(t){throw new Ae(this.constructor.name,"clone")},r.prototype.toString=function(){throw new Ae(this.constructor.name,"toString")},r.prototype.sizeInBytes=function(){throw new Ae(this.constructor.name,"sizeInBytes")},r.prototype.copyBytesInto=function(t,e){throw new Ae(this.constructor.name,"copyBytesInto")},r})(),it=(function(r){L(t,r);function t(e){var n=r.call(this)||this;return n.numberValue=e,n.stringValue=Fs(e),n}return t.prototype.asNumber=function(){return this.numberValue},t.prototype.value=function(){return this.numberValue},t.prototype.clone=function(){return t.of(this.numberValue)},t.prototype.toString=function(){return this.stringValue},t.prototype.sizeInBytes=function(){return this.stringValue.length},t.prototype.copyBytesInto=function(e,n){return n+=Jt(this.stringValue,e,n),this.stringValue.length},t.of=function(e){return new t(e)},t})(ie),_t=(function(r){L(t,r);function t(e){var n=r.call(this)||this;return n.array=[],n.context=e,n}return t.prototype.size=function(){return this.array.length},t.prototype.push=function(e){this.array.push(e)},t.prototype.insert=function(e,n){this.array.splice(e,0,n)},t.prototype.indexOf=function(e){var n=this.array.indexOf(e);return n===-1?void 0:n},t.prototype.remove=function(e){this.array.splice(e,1)},t.prototype.set=function(e,n){this.array[e]=n},t.prototype.get=function(e){return this.array[e]},t.prototype.lookupMaybe=function(e){for(var n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return(n=this.context).lookupMaybe.apply(n,mt([this.get(e)],i))},t.prototype.lookup=function(e){for(var n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return(n=this.context).lookup.apply(n,mt([this.get(e)],i))},t.prototype.asRectangle=function(){if(this.size()!==4)throw new Ns(this.size());var e=this.lookup(0,it).asNumber(),n=this.lookup(1,it).asNumber(),i=this.lookup(2,it).asNumber(),a=this.lookup(3,it).asNumber(),o=e,s=n,u=i-e,c=a-n;return{x:o,y:s,width:u,height:c}},t.prototype.asArray=function(){return this.array.slice()},t.prototype.clone=function(e){for(var n=t.withContext(e||this.context),i=0,a=this.size();i<a;i++)n.push(this.array[i]);return n},t.prototype.toString=function(){for(var e="[ ",n=0,i=this.size();n<i;n++)e+=this.get(n).toString(),e+=" ";return e+="]",e},t.prototype.sizeInBytes=function(){for(var e=3,n=0,i=this.size();n<i;n++)e+=this.get(n).sizeInBytes()+1;return e},t.prototype.copyBytesInto=function(e,n){var i=n;e[n++]=y.LeftSquareBracket,e[n++]=y.Space;for(var a=0,o=this.size();a<o;a++)n+=this.get(a).copyBytesInto(e,n),e[n++]=y.Space;return e[n++]=y.RightSquareBracket,n-i},t.prototype.scalePDFNumbers=function(e,n){for(var i=0,a=this.size();i<a;i++){var o=this.lookup(i);if(o instanceof it){var s=i%2===0?e:n;this.set(i,it.of(o.asNumber()*s))}}},t.withContext=function(e){return new t(e)},t})(ie),pi={},tn=(function(r){L(t,r);function t(e,n){var i=this;if(e!==pi)throw new Bi("PDFBool");return i=r.call(this)||this,i.value=n,i}return t.prototype.asBoolean=function(){return this.value},t.prototype.clone=function(){return this},t.prototype.toString=function(){return String(this.value)},t.prototype.sizeInBytes=function(){return this.value?4:5},t.prototype.copyBytesInto=function(e,n){return this.value?(e[n++]=y.t,e[n++]=y.r,e[n++]=y.u,e[n++]=y.e,4):(e[n++]=y.f,e[n++]=y.a,e[n++]=y.l,e[n++]=y.s,e[n++]=y.e,5)},t.True=new t(pi,!0),t.False=new t(pi,!1),t})(ie),Be=new Uint8Array(256);Be[y.LeftParen]=1;Be[y.RightParen]=1;Be[y.LessThan]=1;Be[y.GreaterThan]=1;Be[y.LeftSquareBracket]=1;Be[y.RightSquareBracket]=1;Be[y.LeftCurly]=1;Be[y.RightCurly]=1;Be[y.ForwardSlash]=1;Be[y.Percent]=1;var Ze=new Uint8Array(256);Ze[y.Null]=1;Ze[y.Tab]=1;Ze[y.Newline]=1;Ze[y.FormFeed]=1;Ze[y.CarriageReturn]=1;Ze[y.Space]=1;var Ri=new Uint8Array(256);for(var Mr=0,au=256;Mr<au;Mr++)Ri[Mr]=Ze[Mr]||Be[Mr]?1:0;Ri[y.Hash]=1;var ou=function(r){return r.replace(/#([\dABCDEF]{2})/g,function(t,e){return is(e)})},su=function(r){return r>=y.ExclamationPoint&&r<=y.Tilde&&!Ri[r]},Fa={},ka=new Map,g=(function(r){L(t,r);function t(e,n){var i=this;if(e!==Fa)throw new Bi("PDFName");i=r.call(this)||this;for(var a="/",o=0,s=n.length;o<s;o++){var u=n[o],c=st(u);a+=su(c)?u:"#"+Kn(c)}return i.encodedName=a,i}return t.prototype.asBytes=function(){for(var e=[],n="",i=!1,a=function(v){v!==void 0&&e.push(v),i=!1},o=1,s=this.encodedName.length;o<s;o++){var u=this.encodedName[o],c=st(u),l=this.encodedName[o+1];i?c>=y.Zero&&c<=y.Nine||c>=y.a&&c<=y.f||c>=y.A&&c<=y.F?(n+=u,(n.length===2||!(l>="0"&&l<="9"||l>="a"&&l<="f"||l>="A"&&l<="F"))&&(a(parseInt(n,16)),n="")):a(c):c===y.Hash?i=!0:a(c)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return String.fromCharCode.apply(String,Array.from(e))},t.prototype.asString=function(){return this.encodedName},t.prototype.value=function(){return this.encodedName},t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.encodedName},t.prototype.sizeInBytes=function(){return this.encodedName.length},t.prototype.copyBytesInto=function(e,n){return n+=Jt(this.encodedName,e,n),this.encodedName.length},t.of=function(e){var n=ou(e),i=ka.get(n);return i||(i=new t(Fa,n),ka.set(n,i)),i},t.Length=t.of("Length"),t.FlateDecode=t.of("FlateDecode"),t.Resources=t.of("Resources"),t.Font=t.of("Font"),t.XObject=t.of("XObject"),t.ExtGState=t.of("ExtGState"),t.Contents=t.of("Contents"),t.Type=t.of("Type"),t.Parent=t.of("Parent"),t.MediaBox=t.of("MediaBox"),t.Page=t.of("Page"),t.Annots=t.of("Annots"),t.TrimBox=t.of("TrimBox"),t.ArtBox=t.of("ArtBox"),t.BleedBox=t.of("BleedBox"),t.CropBox=t.of("CropBox"),t.Rotate=t.of("Rotate"),t.Title=t.of("Title"),t.Author=t.of("Author"),t.Subject=t.of("Subject"),t.Creator=t.of("Creator"),t.Keywords=t.of("Keywords"),t.Producer=t.of("Producer"),t.CreationDate=t.of("CreationDate"),t.ModDate=t.of("ModDate"),t})(ie),uu=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.asNull=function(){return null},t.prototype.clone=function(){return this},t.prototype.toString=function(){return"null"},t.prototype.sizeInBytes=function(){return 4},t.prototype.copyBytesInto=function(e,n){return e[n++]=y.n,e[n++]=y.u,e[n++]=y.l,e[n++]=y.l,4},t})(ie);const ue=new uu;var ct=(function(r){L(t,r);function t(e,n){var i=r.call(this)||this;return i.dict=e,i.context=n,i}return t.prototype.keys=function(){return Array.from(this.dict.keys())},t.prototype.values=function(){return Array.from(this.dict.values())},t.prototype.entries=function(){return Array.from(this.dict.entries())},t.prototype.set=function(e,n){this.dict.set(e,n)},t.prototype.get=function(e,n){n===void 0&&(n=!1);var i=this.dict.get(e);if(!(i===ue&&!n))return i},t.prototype.has=function(e){var n=this.dict.get(e);return n!==void 0&&n!==ue},t.prototype.lookupMaybe=function(e){for(var n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var o=i.includes(ue),s=(n=this.context).lookupMaybe.apply(n,mt([this.get(e,o)],i));if(!(s===ue&&!o))return s},t.prototype.lookup=function(e){for(var n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];var o=i.includes(ue),s=(n=this.context).lookup.apply(n,mt([this.get(e,o)],i));if(!(s===ue&&!o))return s},t.prototype.delete=function(e){return this.dict.delete(e)},t.prototype.asMap=function(){return new Map(this.dict)},t.prototype.uniqueKey=function(e){e===void 0&&(e="");for(var n=this.keys(),i=g.of(this.context.addRandomSuffix(e,10));n.includes(i);)i=g.of(this.context.addRandomSuffix(e,10));return i},t.prototype.clone=function(e){for(var n=t.withContext(e||this.context),i=this.entries(),a=0,o=i.length;a<o;a++){var s=i[a],u=s[0],c=s[1];n.set(u,c)}return n},t.prototype.toString=function(){for(var e=`<<
`,n=this.entries(),i=0,a=n.length;i<a;i++){var o=n[i],s=o[0],u=o[1];e+=s.toString()+" "+u.toString()+`
`}return e+=">>",e},t.prototype.sizeInBytes=function(){for(var e=5,n=this.entries(),i=0,a=n.length;i<a;i++){var o=n[i],s=o[0],u=o[1];e+=s.sizeInBytes()+u.sizeInBytes()+2}return e},t.prototype.copyBytesInto=function(e,n){var i=n;e[n++]=y.LessThan,e[n++]=y.LessThan,e[n++]=y.Newline;for(var a=this.entries(),o=0,s=a.length;o<s;o++){var u=a[o],c=u[0],l=u[1];n+=c.copyBytesInto(e,n),e[n++]=y.Space,n+=l.copyBytesInto(e,n),e[n++]=y.Newline}return e[n++]=y.GreaterThan,e[n++]=y.GreaterThan,n-i},t.withContext=function(e){return new t(new Map,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t})(ie),de=(function(r){L(t,r);function t(e){var n=r.call(this)||this;return n.dict=e,n}return t.prototype.clone=function(e){throw new Ae(this.constructor.name,"clone")},t.prototype.getContentsString=function(){throw new Ae(this.constructor.name,"getContentsString")},t.prototype.getContents=function(){throw new Ae(this.constructor.name,"getContents")},t.prototype.getContentsSize=function(){throw new Ae(this.constructor.name,"getContentsSize")},t.prototype.updateDict=function(){var e=this.getContentsSize();this.dict.set(g.Length,it.of(e))},t.prototype.sizeInBytes=function(){return this.updateDict(),this.dict.sizeInBytes()+this.getContentsSize()+18},t.prototype.toString=function(){this.updateDict();var e=this.dict.toString();return e+=`
stream
`,e+=this.getContentsString(),e+=`
endstream`,e},t.prototype.copyBytesInto=function(e,n){this.updateDict();var i=n;n+=this.dict.copyBytesInto(e,n),e[n++]=y.Newline,e[n++]=y.s,e[n++]=y.t,e[n++]=y.r,e[n++]=y.e,e[n++]=y.a,e[n++]=y.m,e[n++]=y.Newline;for(var a=this.getContents(),o=0,s=a.length;o<s;o++)e[n++]=a[o];return e[n++]=y.Newline,e[n++]=y.e,e[n++]=y.n,e[n++]=y.d,e[n++]=y.s,e[n++]=y.t,e[n++]=y.r,e[n++]=y.e,e[n++]=y.a,e[n++]=y.m,n-i},t})(ie),en=(function(r){L(t,r);function t(e,n){var i=r.call(this,e)||this;return i.contents=n,i}return t.prototype.asUint8Array=function(){return this.contents.slice()},t.prototype.clone=function(e){return t.of(this.dict.clone(e),this.contents.slice())},t.prototype.getContentsString=function(){return qa(this.contents)},t.prototype.getContents=function(){return this.contents},t.prototype.getContentsSize=function(){return this.contents.length},t.of=function(e,n){return new t(e,n)},t})(de),Aa={},Ca=new Map,At=(function(r){L(t,r);function t(e,n,i){var a=this;if(e!==Aa)throw new Bi("PDFRef");return a=r.call(this)||this,a.objectNumber=n,a.generationNumber=i,a.tag=n+" "+i+" R",a}return t.prototype.clone=function(){return this},t.prototype.toString=function(){return this.tag},t.prototype.sizeInBytes=function(){return this.tag.length},t.prototype.copyBytesInto=function(e,n){return n+=Jt(this.tag,e,n),this.tag.length},t.of=function(e,n){n===void 0&&(n=0);var i=e+" "+n+" R",a=Ca.get(i);return a||(a=new t(Aa,e,n),Ca.set(i,a)),a},t})(ie),bt=(function(){function r(t,e){this.name=t,this.args=e||[]}return r.prototype.clone=function(t){for(var e=new Array(this.args.length),n=0,i=e.length;n<i;n++){var a=this.args[n];e[n]=a instanceof ie?a.clone(t):a}return r.of(this.name,e)},r.prototype.toString=function(){for(var t="",e=0,n=this.args.length;e<n;e++)t+=String(this.args[e])+" ";return t+=this.name,t},r.prototype.sizeInBytes=function(){for(var t=0,e=0,n=this.args.length;e<n;e++){var i=this.args[e];t+=(i instanceof ie?i.sizeInBytes():i.length)+1}return t+=this.name.length,t},r.prototype.copyBytesInto=function(t,e){for(var n=e,i=0,a=this.args.length;i<a;i++){var o=this.args[i];o instanceof ie?e+=o.copyBytesInto(t,e):e+=Jt(o,t,e),t[e++]=y.Space}return e+=Jt(this.name,t,e),e-n},r.of=function(t,e){return new r(t,e)},r})(),pt;(function(r){r.NonStrokingColor="sc",r.NonStrokingColorN="scn",r.NonStrokingColorRgb="rg",r.NonStrokingColorGray="g",r.NonStrokingColorCmyk="k",r.NonStrokingColorspace="cs",r.StrokingColor="SC",r.StrokingColorN="SCN",r.StrokingColorRgb="RG",r.StrokingColorGray="G",r.StrokingColorCmyk="K",r.StrokingColorspace="CS",r.BeginMarkedContentSequence="BDC",r.BeginMarkedContent="BMC",r.EndMarkedContent="EMC",r.MarkedContentPointWithProps="DP",r.MarkedContentPoint="MP",r.DrawObject="Do",r.ConcatTransformationMatrix="cm",r.PopGraphicsState="Q",r.PushGraphicsState="q",r.SetFlatness="i",r.SetGraphicsStateParams="gs",r.SetLineCapStyle="J",r.SetLineDashPattern="d",r.SetLineJoinStyle="j",r.SetLineMiterLimit="M",r.SetLineWidth="w",r.SetTextMatrix="Tm",r.SetRenderingIntent="ri",r.AppendRectangle="re",r.BeginInlineImage="BI",r.BeginInlineImageData="ID",r.EndInlineImage="EI",r.ClipEvenOdd="W*",r.ClipNonZero="W",r.CloseAndStroke="s",r.CloseFillEvenOddAndStroke="b*",r.CloseFillNonZeroAndStroke="b",r.ClosePath="h",r.AppendBezierCurve="c",r.CurveToReplicateFinalPoint="y",r.CurveToReplicateInitialPoint="v",r.EndPath="n",r.FillEvenOddAndStroke="B*",r.FillEvenOdd="f*",r.FillNonZeroAndStroke="B",r.FillNonZero="f",r.LegacyFillNonZero="F",r.LineTo="l",r.MoveTo="m",r.ShadingFill="sh",r.StrokePath="S",r.BeginText="BT",r.EndText="ET",r.MoveText="Td",r.MoveTextSetLeading="TD",r.NextLine="T*",r.SetCharacterSpacing="Tc",r.SetFontAndSize="Tf",r.SetTextHorizontalScaling="Tz",r.SetTextLineHeight="TL",r.SetTextRenderingMode="Tr",r.SetTextRise="Ts",r.SetWordSpacing="Tw",r.ShowText="Tj",r.ShowTextAdjusted="TJ",r.ShowTextLine="'",r.ShowTextLineAndSpace='"',r.Type3D0="d0",r.Type3D1="d1",r.BeginCompatibilitySection="BX",r.EndCompatibilitySection="EX"})(pt||(pt={}));var Ii=(function(r){L(t,r);function t(e,n){var i=r.call(this,e)||this;return i.computeContents=function(){var a=i.getUnencodedContents();return i.encode?lo.deflate(a):a},i.encode=n,n&&e.set(g.of("Filter"),g.of("FlateDecode")),i.contentsCache=He.populatedBy(i.computeContents),i}return t.prototype.getContents=function(){return this.contentsCache.access()},t.prototype.getContentsSize=function(){return this.contentsCache.access().length},t.prototype.getUnencodedContents=function(){throw new Ae(this.constructor.name,"getUnencodedContents")},t})(de),qr=(function(r){L(t,r);function t(e,n,i){i===void 0&&(i=!0);var a=r.call(this,e,i)||this;return a.operators=n,a}return t.prototype.push=function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];(e=this.operators).push.apply(e,n)},t.prototype.clone=function(e){for(var n=new Array(this.operators.length),i=0,a=this.operators.length;i<a;i++)n[i]=this.operators[i].clone(e);var o=this,s=o.dict,u=o.encode;return t.of(s.clone(e),n,u)},t.prototype.getContentsString=function(){for(var e="",n=0,i=this.operators.length;n<i;n++)e+=this.operators[n]+`
`;return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),n=0,i=0,a=this.operators.length;i<a;i++)n+=this.operators[i].copyBytesInto(e,n),e[n++]=y.Newline;return e},t.prototype.getUnencodedContentsSize=function(){for(var e=0,n=0,i=this.operators.length;n<i;n++)e+=this.operators[n].sizeInBytes()+1;return e},t.of=function(e,n,i){return i===void 0&&(i=!0),new t(e,n,i)},t})(Ii),fu=(function(){function r(t){this.seed=t}return r.prototype.nextInt=function(){var t=Math.sin(this.seed++)*1e4;return t-Math.floor(t)},r.withSeed=function(t){return new r(t)},r})(),cu=function(r,t){var e=r[0],n=t[0];return e.objectNumber-n.objectNumber},wi=(function(){function r(){this.largestObjectNumber=0,this.header=Zn.forVersion(1,7),this.trailerInfo={},this.indirectObjects=new Map,this.rng=fu.withSeed(1)}return r.prototype.assign=function(t,e){this.indirectObjects.set(t,e),t.objectNumber>this.largestObjectNumber&&(this.largestObjectNumber=t.objectNumber)},r.prototype.nextRef=function(){return this.largestObjectNumber+=1,At.of(this.largestObjectNumber)},r.prototype.register=function(t){var e=this.nextRef();return this.assign(e,t),e},r.prototype.delete=function(t){return this.indirectObjects.delete(t)},r.prototype.lookupMaybe=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e.includes(ue),a=t instanceof At?this.indirectObjects.get(t):t;if(!(!a||a===ue&&!i)){for(var o=0,s=e.length;o<s;o++){var u=e[o];if(u===ue){if(a===ue)return a}else if(a instanceof u)return a}throw new Tn(e,a)}},r.prototype.lookup=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=t instanceof At?this.indirectObjects.get(t):t;if(e.length===0)return i;for(var a=0,o=e.length;a<o;a++){var s=e[a];if(s===ue){if(i===ue)return i}else if(i instanceof s)return i}throw new Tn(e,i)},r.prototype.getObjectRef=function(t){for(var e=Array.from(this.indirectObjects.entries()),n=0,i=e.length;n<i;n++){var a=e[n],o=a[0],s=a[1];if(s===t)return o}},r.prototype.enumerateIndirectObjects=function(){return Array.from(this.indirectObjects.entries()).sort(cu)},r.prototype.obj=function(t){if(t instanceof ie)return t;if(t==null)return ue;if(typeof t=="string")return g.of(t);if(typeof t=="number")return it.of(t);if(typeof t=="boolean")return t?tn.True:tn.False;if(Array.isArray(t)){for(var e=_t.withContext(this),n=0,i=t.length;n<i;n++)e.push(this.obj(t[n]));return e}else{for(var a=ct.withContext(this),o=Object.keys(t),n=0,i=o.length;n<i;n++){var s=o[n],u=t[s];u!==void 0&&a.set(g.of(s),this.obj(u))}return a}},r.prototype.stream=function(t,e){return e===void 0&&(e={}),en.of(this.obj(e),xi(t))},r.prototype.flateStream=function(t,e){return e===void 0&&(e={}),this.stream(lo.deflate(xi(t)),ut(ut({},e),{Filter:"FlateDecode"}))},r.prototype.contentStream=function(t,e){return e===void 0&&(e={}),qr.of(this.obj(e),t)},r.prototype.formXObject=function(t,e){return e===void 0&&(e={}),this.contentStream(t,ut(ut({BBox:this.obj([0,0,0,0]),Matrix:this.obj([1,0,0,1,0,0])},e),{Type:"XObject",Subtype:"Form"}))},r.prototype.getPushGraphicsStateContentStream=function(){if(this.pushGraphicsStateContentStreamRef)return this.pushGraphicsStateContentStreamRef;var t=this.obj({}),e=bt.of(pt.PushGraphicsState),n=qr.of(t,[e]);return this.pushGraphicsStateContentStreamRef=this.register(n),this.pushGraphicsStateContentStreamRef},r.prototype.getPopGraphicsStateContentStream=function(){if(this.popGraphicsStateContentStreamRef)return this.popGraphicsStateContentStreamRef;var t=this.obj({}),e=bt.of(pt.PopGraphicsState),n=qr.of(t,[e]);return this.popGraphicsStateContentStreamRef=this.register(n),this.popGraphicsStateContentStreamRef},r.prototype.addRandomSuffix=function(t,e){return e===void 0&&(e=4),t+"-"+Math.floor(this.rng.nextInt()*Math.pow(10,e))},r.create=function(){return new r},r})(),Ge=(function(r){L(t,r);function t(e,n,i){i===void 0&&(i=!0);var a=r.call(this,e,n)||this;return a.normalized=!1,a.autoNormalizeCTM=i,a}return t.prototype.clone=function(e){for(var n=t.fromMapWithContext(new Map,e||this.context,this.autoNormalizeCTM),i=this.entries(),a=0,o=i.length;a<o;a++){var s=i[a],u=s[0],c=s[1];n.set(u,c)}return n},t.prototype.Parent=function(){return this.lookupMaybe(g.Parent,ct)},t.prototype.Contents=function(){return this.lookup(g.of("Contents"))},t.prototype.Annots=function(){return this.lookupMaybe(g.Annots,_t)},t.prototype.BleedBox=function(){return this.lookupMaybe(g.BleedBox,_t)},t.prototype.TrimBox=function(){return this.lookupMaybe(g.TrimBox,_t)},t.prototype.ArtBox=function(){return this.lookupMaybe(g.ArtBox,_t)},t.prototype.Resources=function(){var e=this.getInheritableAttribute(g.Resources);return this.context.lookupMaybe(e,ct)},t.prototype.MediaBox=function(){var e=this.getInheritableAttribute(g.MediaBox);return this.context.lookup(e,_t)},t.prototype.CropBox=function(){var e=this.getInheritableAttribute(g.CropBox);return this.context.lookupMaybe(e,_t)},t.prototype.Rotate=function(){var e=this.getInheritableAttribute(g.Rotate);return this.context.lookupMaybe(e,it)},t.prototype.getInheritableAttribute=function(e){var n;return this.ascend(function(i){n||(n=i.get(e))}),n},t.prototype.setParent=function(e){this.set(g.Parent,e)},t.prototype.addContentStream=function(e){var n=this.normalizedEntries().Contents||this.context.obj([]);this.set(g.Contents,n),n.push(e)},t.prototype.wrapContentStreams=function(e,n){var i=this.Contents();return i instanceof _t?(i.insert(0,e),i.push(n),!0):!1},t.prototype.addAnnot=function(e){var n=this.normalizedEntries().Annots;n.push(e)},t.prototype.removeAnnot=function(e){var n=this.normalizedEntries().Annots,i=n.indexOf(e);i!==void 0&&n.remove(i)},t.prototype.setFontDictionary=function(e,n){var i=this.normalizedEntries().Font;i.set(e,n)},t.prototype.newFontDictionaryKey=function(e){var n=this.normalizedEntries().Font;return n.uniqueKey(e)},t.prototype.newFontDictionary=function(e,n){var i=this.newFontDictionaryKey(e);return this.setFontDictionary(i,n),i},t.prototype.setXObject=function(e,n){var i=this.normalizedEntries().XObject;i.set(e,n)},t.prototype.newXObjectKey=function(e){var n=this.normalizedEntries().XObject;return n.uniqueKey(e)},t.prototype.newXObject=function(e,n){var i=this.newXObjectKey(e);return this.setXObject(i,n),i},t.prototype.setExtGState=function(e,n){var i=this.normalizedEntries().ExtGState;i.set(e,n)},t.prototype.newExtGStateKey=function(e){var n=this.normalizedEntries().ExtGState;return n.uniqueKey(e)},t.prototype.newExtGState=function(e,n){var i=this.newExtGStateKey(e);return this.setExtGState(i,n),i},t.prototype.ascend=function(e){e(this);var n=this.Parent();n&&n.ascend(e)},t.prototype.normalize=function(){if(!this.normalized){var e=this.context,n=this.get(g.Contents),i=this.context.lookup(n);i instanceof de&&this.set(g.Contents,e.obj([n])),this.autoNormalizeCTM&&this.wrapContentStreams(this.context.getPushGraphicsStateContentStream(),this.context.getPopGraphicsStateContentStream());var a=this.getInheritableAttribute(g.Resources),o=e.lookupMaybe(a,ct)||e.obj({});this.set(g.Resources,o);var s=o.lookupMaybe(g.Font,ct)||e.obj({});o.set(g.Font,s);var u=o.lookupMaybe(g.XObject,ct)||e.obj({});o.set(g.XObject,u);var c=o.lookupMaybe(g.ExtGState,ct)||e.obj({});o.set(g.ExtGState,c);var l=this.Annots()||e.obj([]);this.set(g.Annots,l),this.normalized=!0}},t.prototype.normalizedEntries=function(){this.normalize();var e=this.Annots(),n=this.Resources(),i=this.Contents();return{Annots:e,Resources:n,Contents:i,Font:n.lookup(g.Font,ct),XObject:n.lookup(g.XObject,ct),ExtGState:n.lookup(g.ExtGState,ct)}},t.InheritableEntries=["Resources","MediaBox","CropBox","Rotate"],t.withContextAndParent=function(e,n){var i=new Map;return i.set(g.Type,g.Page),i.set(g.Parent,n),i.set(g.Resources,e.obj({})),i.set(g.MediaBox,e.obj([0,0,612,792])),new t(i,e,!1)},t.fromMapWithContext=function(e,n,i){return i===void 0&&(i=!0),new t(e,n,i)},t})(ct),Da=(function(){function r(t,e){var n=this;this.traversedObjects=new Map,this.copy=function(i){return i instanceof Ge?n.copyPDFPage(i):i instanceof ct?n.copyPDFDict(i):i instanceof _t?n.copyPDFArray(i):i instanceof de?n.copyPDFStream(i):i instanceof At?n.copyPDFIndirectObject(i):i.clone()},this.copyPDFPage=function(i){for(var a=i.clone(),o=Ge.InheritableEntries,s=0,u=o.length;s<u;s++){var c=g.of(o[s]),l=a.getInheritableAttribute(c);!a.get(c)&&l&&a.set(c,l)}return a.delete(g.of("Parent")),n.copyPDFDict(a)},this.copyPDFDict=function(i){if(n.traversedObjects.has(i))return n.traversedObjects.get(i);var a=i.clone(n.dest);n.traversedObjects.set(i,a);for(var o=i.entries(),s=0,u=o.length;s<u;s++){var c=o[s],l=c[0],v=c[1];a.set(l,n.copy(v))}return a},this.copyPDFArray=function(i){if(n.traversedObjects.has(i))return n.traversedObjects.get(i);var a=i.clone(n.dest);n.traversedObjects.set(i,a);for(var o=0,s=i.size();o<s;o++){var u=i.get(o);a.set(o,n.copy(u))}return a},this.copyPDFStream=function(i){if(n.traversedObjects.has(i))return n.traversedObjects.get(i);var a=i.clone(n.dest);n.traversedObjects.set(i,a);for(var o=i.dict.entries(),s=0,u=o.length;s<u;s++){var c=o[s],l=c[0],v=c[1];a.dict.set(l,n.copy(v))}return a},this.copyPDFIndirectObject=function(i){var a=n.traversedObjects.has(i);if(!a){var o=n.dest.nextRef();n.traversedObjects.set(i,o);var s=n.src.lookup(i);if(s){var u=n.copy(s);n.dest.assign(o,u)}}return n.traversedObjects.get(i)},this.src=t,this.dest=e}return r.for=function(t,e){return new r(t,e)},r})(),ho=(function(){function r(t){this.subsections=t?[[t]]:[],this.chunkIdx=0,this.chunkLength=t?1:0}return r.prototype.addEntry=function(t,e){this.append({ref:t,offset:e,deleted:!1})},r.prototype.addDeletedEntry=function(t,e){this.append({ref:t,offset:e,deleted:!0})},r.prototype.toString=function(){for(var t=`xref
`,e=0,n=this.subsections.length;e<n;e++){var i=this.subsections[e];t+=i[0].ref.objectNumber+" "+i.length+`
`;for(var a=0,o=i.length;a<o;a++){var s=i[a];t+=Ie(String(s.offset),10,"0"),t+=" ",t+=Ie(String(s.ref.generationNumber),5,"0"),t+=" ",t+=s.deleted?"f":"n",t+=` 
`}}return t},r.prototype.sizeInBytes=function(){for(var t=5,e=0,n=this.subsections.length;e<n;e++){var i=this.subsections[e],a=i.length,o=i[0];t+=2,t+=String(o.ref.objectNumber).length,t+=String(a).length,t+=20*a}return t},r.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=y.x,t[e++]=y.r,t[e++]=y.e,t[e++]=y.f,t[e++]=y.Newline,e+=this.copySubsectionsIntoBuffer(this.subsections,t,e),e-n},r.prototype.copySubsectionsIntoBuffer=function(t,e,n){for(var i=n,a=t.length,o=0;o<a;o++){var s=this.subsections[o],u=String(s[0].ref.objectNumber);n+=Jt(u,e,n),e[n++]=y.Space;var c=String(s.length);n+=Jt(c,e,n),e[n++]=y.Newline,n+=this.copyEntriesIntoBuffer(s,e,n)}return n-i},r.prototype.copyEntriesIntoBuffer=function(t,e,n){for(var i=t.length,a=0;a<i;a++){var o=t[a],s=Ie(String(o.offset),10,"0");n+=Jt(s,e,n),e[n++]=y.Space;var u=Ie(String(o.ref.generationNumber),5,"0");n+=Jt(u,e,n),e[n++]=y.Space,e[n++]=o.deleted?y.f:y.n,e[n++]=y.Space,e[n++]=y.Newline}return 20*i},r.prototype.append=function(t){if(this.chunkLength===0){this.subsections.push([t]),this.chunkIdx=0,this.chunkLength=1;return}var e=this.subsections[this.chunkIdx],n=e[this.chunkLength-1];t.ref.objectNumber-n.ref.objectNumber>1?(this.subsections.push([t]),this.chunkIdx+=1,this.chunkLength=1):(e.push(t),this.chunkLength+=1)},r.create=function(){return new r({ref:At.of(0,65535),offset:0,deleted:!0})},r.createEmpty=function(){return new r},r})(),zi=(function(){function r(t){this.lastXRefOffset=String(t)}return r.prototype.toString=function(){return`startxref
`+this.lastXRefOffset+`
%%EOF`},r.prototype.sizeInBytes=function(){return 16+this.lastXRefOffset.length},r.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=y.s,t[e++]=y.t,t[e++]=y.a,t[e++]=y.r,t[e++]=y.t,t[e++]=y.x,t[e++]=y.r,t[e++]=y.e,t[e++]=y.f,t[e++]=y.Newline,e+=Jt(this.lastXRefOffset,t,e),t[e++]=y.Newline,t[e++]=y.Percent,t[e++]=y.Percent,t[e++]=y.E,t[e++]=y.O,t[e++]=y.F,e-n},r.forLastCrossRefSectionOffset=function(t){return new r(t)},r})(),lu=(function(){function r(t){this.dict=t}return r.prototype.toString=function(){return`trailer
`+this.dict.toString()},r.prototype.sizeInBytes=function(){return 8+this.dict.sizeInBytes()},r.prototype.copyBytesInto=function(t,e){var n=e;return t[e++]=y.t,t[e++]=y.r,t[e++]=y.a,t[e++]=y.i,t[e++]=y.l,t[e++]=y.e,t[e++]=y.r,t[e++]=y.Newline,e+=this.dict.copyBytesInto(t,e),e-n},r.of=function(t){return new r(t)},r})(),vo=(function(r){L(t,r);function t(e,n,i){i===void 0&&(i=!0);var a=r.call(this,e.obj({}),i)||this;return a.objects=n,a.offsets=a.computeObjectOffsets(),a.offsetsString=a.computeOffsetsString(),a.dict.set(g.of("Type"),g.of("ObjStm")),a.dict.set(g.of("N"),it.of(a.objects.length)),a.dict.set(g.of("First"),it.of(a.offsetsString.length)),a}return t.prototype.getObjectsCount=function(){return this.objects.length},t.prototype.clone=function(e){return t.withContextAndObjects(e||this.dict.context,this.objects.slice(),this.encode)},t.prototype.getContentsString=function(){for(var e=this.offsetsString,n=0,i=this.objects.length;n<i;n++){var a=this.objects[n],o=a[1];e+=o+`
`}return e},t.prototype.getUnencodedContents=function(){for(var e=new Uint8Array(this.getUnencodedContentsSize()),n=Jt(this.offsetsString,e,0),i=0,a=this.objects.length;i<a;i++){var o=this.objects[i],s=o[1];n+=s.copyBytesInto(e,n),e[n++]=y.Newline}return e},t.prototype.getUnencodedContentsSize=function(){return this.offsetsString.length+Bn(this.offsets)[1]+Bn(this.objects)[1].sizeInBytes()+1},t.prototype.computeOffsetsString=function(){for(var e="",n=0,i=this.offsets.length;n<i;n++){var a=this.offsets[n],o=a[0],s=a[1];e+=o+" "+s+" "}return e},t.prototype.computeObjectOffsets=function(){for(var e=0,n=new Array(this.objects.length),i=0,a=this.objects.length;i<a;i++){var o=this.objects[i],s=o[0],u=o[1];n[i]=[s.objectNumber,e],e+=u.sizeInBytes()+1}return n},t.withContextAndObjects=function(e,n,i){return i===void 0&&(i=!0),new t(e,n,i)},t})(Ii),po=(function(){function r(t,e){var n=this;this.parsedObjects=0,this.shouldWaitForTick=function(i){return n.parsedObjects+=i,n.parsedObjects%n.objectsPerTick===0},this.context=t,this.objectsPerTick=e}return r.prototype.serializeToBuffer=function(){return lt(this,void 0,void 0,function(){var t,e,n,i,a,o,s,u,c,l,v,b,m,w,F,C,k;return ht(this,function(B){switch(B.label){case 0:return[4,this.computeBufferSize()];case 1:t=B.sent(),e=t.size,n=t.header,i=t.indirectObjects,a=t.xref,o=t.trailerDict,s=t.trailer,u=0,c=new Uint8Array(e),u+=n.copyBytesInto(c,u),c[u++]=y.Newline,c[u++]=y.Newline,l=0,v=i.length,B.label=2;case 2:return l<v?(b=i[l],m=b[0],w=b[1],F=String(m.objectNumber),u+=Jt(F,c,u),c[u++]=y.Space,C=String(m.generationNumber),u+=Jt(C,c,u),c[u++]=y.Space,c[u++]=y.o,c[u++]=y.b,c[u++]=y.j,c[u++]=y.Newline,u+=w.copyBytesInto(c,u),c[u++]=y.Newline,c[u++]=y.e,c[u++]=y.n,c[u++]=y.d,c[u++]=y.o,c[u++]=y.b,c[u++]=y.j,c[u++]=y.Newline,c[u++]=y.Newline,k=w instanceof vo?w.getObjectsCount():1,this.shouldWaitForTick(k)?[4,Tr()]:[3,4]):[3,5];case 3:B.sent(),B.label=4;case 4:return l++,[3,2];case 5:return a&&(u+=a.copyBytesInto(c,u),c[u++]=y.Newline),o&&(u+=o.copyBytesInto(c,u),c[u++]=y.Newline,c[u++]=y.Newline),u+=s.copyBytesInto(c,u),[2,c]}})})},r.prototype.computeIndirectObjectSize=function(t){var e=t[0],n=t[1],i=e.sizeInBytes()+3,a=n.sizeInBytes()+9;return i+a},r.prototype.createTrailerDict=function(){return this.context.obj({Size:this.context.largestObjectNumber+1,Root:this.context.trailerInfo.Root,Encrypt:this.context.trailerInfo.Encrypt,Info:this.context.trailerInfo.Info,ID:this.context.trailerInfo.ID})},r.prototype.computeBufferSize=function(){return lt(this,void 0,void 0,function(){var t,e,n,i,a,o,s,u,c,l,v;return ht(this,function(b){switch(b.label){case 0:t=Zn.forVersion(1,7),e=t.sizeInBytes()+2,n=ho.create(),i=this.context.enumerateIndirectObjects(),a=0,o=i.length,b.label=1;case 1:return a<o?(s=i[a],u=s[0],n.addEntry(u,e),e+=this.computeIndirectObjectSize(s),this.shouldWaitForTick(1)?[4,Tr()]:[3,3]):[3,4];case 2:b.sent(),b.label=3;case 3:return a++,[3,1];case 4:return c=e,e+=n.sizeInBytes()+1,l=lu.of(this.createTrailerDict()),e+=l.sizeInBytes()+2,v=zi.forLastCrossRefSectionOffset(c),e+=v.sizeInBytes(),[2,{size:e,header:t,indirectObjects:i,xref:n,trailerDict:l,trailer:v}]}})})},r.forContext=function(t,e){return new r(t,e)},r})(),go=(function(r){L(t,r);function t(e){var n=r.call(this)||this;return n.data=e,n}return t.prototype.clone=function(){return t.of(this.data.slice())},t.prototype.toString=function(){return"PDFInvalidObject("+this.data.length+" bytes)"},t.prototype.sizeInBytes=function(){return this.data.length},t.prototype.copyBytesInto=function(e,n){for(var i=this.data.length,a=0;a<i;a++)e[n++]=this.data[a];return i},t.of=function(e){return new t(e)},t})(ie),Qe;(function(r){r[r.Deleted=0]="Deleted",r[r.Uncompressed=1]="Uncompressed",r[r.Compressed=2]="Compressed"})(Qe||(Qe={}));var hu=(function(r){L(t,r);function t(e,n,i){i===void 0&&(i=!0);var a=r.call(this,e,i)||this;return a.computeIndex=function(){for(var o=[],s=0,u=0,c=a.entries.length;u<c;u++){var l=a.entries[u],v=a.entries[u-1];u===0?o.push(l.ref.objectNumber):l.ref.objectNumber-v.ref.objectNumber>1&&(o.push(s),o.push(l.ref.objectNumber),s=0),s+=1}return o.push(s),o},a.computeEntryTuples=function(){for(var o=new Array(a.entries.length),s=0,u=a.entries.length;s<u;s++){var c=a.entries[s];if(c.type===Qe.Deleted){var l=c.type,v=c.nextFreeObjectNumber,b=c.ref;o[s]=[l,v,b.generationNumber]}if(c.type===Qe.Uncompressed){var l=c.type,m=c.offset,b=c.ref;o[s]=[l,m,b.generationNumber]}if(c.type===Qe.Compressed){var l=c.type,w=c.objectStreamRef,F=c.index;o[s]=[l,w.objectNumber,F]}}return o},a.computeMaxEntryByteWidths=function(){for(var o=a.entryTuplesCache.access(),s=[0,0,0],u=0,c=o.length;u<c;u++){var l=o[u],v=l[0],b=l[1],m=l[2],w=Fn(v),F=Fn(b),C=Fn(m);w>s[0]&&(s[0]=w),F>s[1]&&(s[1]=F),C>s[2]&&(s[2]=C)}return s},a.entries=n||[],a.entryTuplesCache=He.populatedBy(a.computeEntryTuples),a.maxByteWidthsCache=He.populatedBy(a.computeMaxEntryByteWidths),a.indexCache=He.populatedBy(a.computeIndex),e.set(g.of("Type"),g.of("XRef")),a}return t.prototype.addDeletedEntry=function(e,n){var i=Qe.Deleted;this.entries.push({type:i,ref:e,nextFreeObjectNumber:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addUncompressedEntry=function(e,n){var i=Qe.Uncompressed;this.entries.push({type:i,ref:e,offset:n}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.addCompressedEntry=function(e,n,i){var a=Qe.Compressed;this.entries.push({type:a,ref:e,objectStreamRef:n,index:i}),this.entryTuplesCache.invalidate(),this.maxByteWidthsCache.invalidate(),this.indexCache.invalidate(),this.contentsCache.invalidate()},t.prototype.clone=function(e){var n=this,i=n.dict,a=n.entries,o=n.encode;return t.of(i.clone(e),a.slice(),o)},t.prototype.getContentsString=function(){for(var e=this.entryTuplesCache.access(),n=this.maxByteWidthsCache.access(),i="",a=0,o=e.length;a<o;a++){for(var s=e[a],u=s[0],c=s[1],l=s[2],v=Sr(_r(u)),b=Sr(_r(c)),m=Sr(_r(l)),w=n[0]-1;w>=0;w--)i+=(v[w]||0).toString(2);for(var w=n[1]-1;w>=0;w--)i+=(b[w]||0).toString(2);for(var w=n[2]-1;w>=0;w--)i+=(m[w]||0).toString(2)}return i},t.prototype.getUnencodedContents=function(){for(var e=this.entryTuplesCache.access(),n=this.maxByteWidthsCache.access(),i=new Uint8Array(this.getUnencodedContentsSize()),a=0,o=0,s=e.length;o<s;o++){for(var u=e[o],c=u[0],l=u[1],v=u[2],b=Sr(_r(c)),m=Sr(_r(l)),w=Sr(_r(v)),F=n[0]-1;F>=0;F--)i[a++]=b[F]||0;for(var F=n[1]-1;F>=0;F--)i[a++]=m[F]||0;for(var F=n[2]-1;F>=0;F--)i[a++]=w[F]||0}return i},t.prototype.getUnencodedContentsSize=function(){var e=this.maxByteWidthsCache.access(),n=ps(e);return n*this.entries.length},t.prototype.updateDict=function(){r.prototype.updateDict.call(this);var e=this.maxByteWidthsCache.access(),n=this.indexCache.access(),i=this.dict.context;this.dict.set(g.of("W"),i.obj(e)),this.dict.set(g.of("Index"),i.obj(n))},t.create=function(e,n){n===void 0&&(n=!0);var i=new t(e,[],n);return i.addDeletedEntry(At.of(0,65535),0),i},t.of=function(e,n,i){return i===void 0&&(i=!0),new t(e,n,i)},t})(Ii),du=(function(r){L(t,r);function t(e,n,i,a){var o=r.call(this,e,n)||this;return o.encodeStreams=i,o.objectsPerStream=a,o}return t.prototype.computeBufferSize=function(){return lt(this,void 0,void 0,function(){var e,n,i,a,o,s,u,c,w,F,l,k,v,b,C,m,w,F,C,k,B,O,N,R;return ht(this,function(M){switch(M.label){case 0:e=this.context.largestObjectNumber+1,n=Zn.forVersion(1,7),i=n.sizeInBytes()+2,a=hu.create(this.createTrailerDict(),this.encodeStreams),o=[],s=[],u=[],c=this.context.enumerateIndirectObjects(),w=0,F=c.length,M.label=1;case 1:return w<F?(l=c[w],k=l[0],v=l[1],b=k===this.context.trailerInfo.Encrypt||v instanceof de||v instanceof go||k.generationNumber!==0,b?(o.push(l),a.addUncompressedEntry(k,i),i+=this.computeIndirectObjectSize(l),this.shouldWaitForTick(1)?[4,Tr()]:[3,3]):[3,4]):[3,6];case 2:M.sent(),M.label=3;case 3:return[3,5];case 4:C=Bn(s),m=Bn(u),(!C||C.length%this.objectsPerStream===0)&&(C=[],s.push(C),m=At.of(e++),u.push(m)),a.addCompressedEntry(k,m,C.length),C.push(l),M.label=5;case 5:return w++,[3,1];case 6:w=0,F=s.length,M.label=7;case 7:return w<F?(C=s[w],k=u[w],B=vo.withContextAndObjects(this.context,C,this.encodeStreams),a.addUncompressedEntry(k,i),i+=this.computeIndirectObjectSize([k,B]),o.push([k,B]),this.shouldWaitForTick(C.length)?[4,Tr()]:[3,9]):[3,10];case 8:M.sent(),M.label=9;case 9:return w++,[3,7];case 10:return O=At.of(e++),a.dict.set(g.of("Size"),it.of(e)),a.addUncompressedEntry(O,i),N=i,i+=this.computeIndirectObjectSize([O,a]),o.push([O,a]),R=zi.forLastCrossRefSectionOffset(N),i+=R.sizeInBytes(),[2,{size:i,header:n,indirectObjects:o,trailer:R}]}})})},t.forContext=function(e,n,i,a){return i===void 0&&(i=!0),a===void 0&&(a=50),new t(e,n,i,a)},t})(po),et=(function(r){L(t,r);function t(e){var n=r.call(this)||this;return n.value=e,n}return t.prototype.asBytes=function(){for(var e=this.value+(this.value.length%2===1?"0":""),n=e.length,i=new Uint8Array(e.length/2),a=0,o=0;a<n;){var s=parseInt(e.substring(a,a+2),16);i[o]=s,a+=2,o+=1}return i},t.prototype.decodeText=function(){var e=this.asBytes();return eo(e)?Qa(e):io(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),n=Xa(e);if(!n)throw new ao(e);return n},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"<"+this.value+">"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,n){return e[n++]=y.LessThan,n+=Jt(this.value,e,n),e[n++]=y.GreaterThan,this.value.length+2},t.of=function(e){return new t(e)},t.fromText=function(e){for(var n=ms(e),i="",a=0,o=n.length;a<o;a++)i+=an(n[a],4);return new t(i)},t})(ie),On=(function(){function r(t,e){this.encoding=t===bi.ZapfDingbats?vn.ZapfDingbats:t===bi.Symbol?vn.Symbol:vn.WinAnsi,this.font=Jo.load(t),this.fontName=this.font.FontName,this.customName=e}return r.prototype.encodeText=function(t){for(var e=this.encodeTextAsGlyphs(t),n=new Array(e.length),i=0,a=e.length;i<a;i++)n[i]=Kn(e[i].code);return et.of(n.join(""))},r.prototype.widthOfTextAtSize=function(t,e){for(var n=this.encodeTextAsGlyphs(t),i=0,a=0,o=n.length;a<o;a++){var s=n[a].name,u=(n[a+1]||{}).name,c=this.font.getXAxisKerningForPair(s,u)||0;i+=this.widthOfGlyph(s)+c}var l=e/1e3;return i*l},r.prototype.heightOfFontAtSize=function(t,e){e===void 0&&(e={});var n=e.descender,i=n===void 0?!0:n,a=this.font,o=a.Ascender,s=a.Descender,u=a.FontBBox,c=o||u[3],l=s||u[1],v=c-l;return i||(v+=s||0),v/1e3*t},r.prototype.sizeOfFontAtHeight=function(t){var e=this.font,n=e.Ascender,i=e.Descender,a=e.FontBBox,o=n||a[3],s=i||a[1];return 1e3*t/(o-s)},r.prototype.embedIntoContext=function(t,e){var n=t.obj({Type:"Font",Subtype:"Type1",BaseFont:this.customName||this.fontName,Encoding:this.encoding===vn.WinAnsi?"WinAnsiEncoding":void 0});return e?(t.assign(e,n),e):t.register(n)},r.prototype.widthOfGlyph=function(t){return this.font.getWidthOfGlyph(t)||250},r.prototype.encodeTextAsGlyphs=function(t){for(var e=Array.from(t),n=new Array(e.length),i=0,a=e.length;i<a;i++){var o=ns(e[i]);n[i]=this.encoding.encodeUnicodeCodePoint(o)}return n},r.for=function(t,e){return new r(t,e)},r})(),vu=function(r,t){for(var e=new Array(r.length),n=0,i=r.length;n<i;n++){var a=r[n],o=Pa(kn(t(a))),s=Pa.apply(void 0,a.codePoints.map(gu));e[n]=[o,s]}return pu(e)},pu=function(r){return`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange
`+r.length+` beginbfchar
`+r.map(function(t){var e=t[0],n=t[1];return e+" "+n}).join(`
`)+`
endbfchar
endcmap
CMapName currentdict /CMap defineresource pop
end
end`},Pa=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return"<"+r.join("")+">"},kn=function(r){return an(r,4)},gu=function(r){if(xs(r))return kn(r);if(ws(r)){var t=Ya(r),e=Ja(r);return""+kn(t)+kn(e)}var n=Kn(r),i="0x"+n+" is not a valid UTF-8 or UTF-16 codepoint.";throw new Error(i)},yu=function(r){var t=0,e=function(n){t|=1<<n-1};return r.fixedPitch&&e(1),r.serif&&e(2),e(3),r.script&&e(4),r.nonsymbolic&&e(6),r.italic&&e(7),r.allCap&&e(17),r.smallCap&&e(18),r.forceBold&&e(19),t},bu=function(r){var t=r["OS/2"]?r["OS/2"].sFamilyClass:0,e=yu({fixedPitch:r.post.isFixedPitch,serif:1<=t&&t<=7,script:t===10,italic:r.head.macStyle.italic});return e},kt=(function(r){L(t,r);function t(e){var n=r.call(this)||this;return n.value=e,n}return t.prototype.asBytes=function(){for(var e=[],n="",i=!1,a=function(v){v!==void 0&&e.push(v),i=!1},o=0,s=this.value.length;o<s;o++){var u=this.value[o],c=st(u),l=this.value[o+1];i?c===y.Newline||c===y.CarriageReturn?a():c===y.n?a(y.Newline):c===y.r?a(y.CarriageReturn):c===y.t?a(y.Tab):c===y.b?a(y.Backspace):c===y.f?a(y.FormFeed):c===y.LeftParen?a(y.LeftParen):c===y.RightParen?a(y.RightParen):c===y.Backspace?a(y.BackSlash):c>=y.Zero&&c<=y.Seven?(n+=u,(n.length===3||!(l>="0"&&l<="7"))&&(a(parseInt(n,8)),n="")):a(c):c===y.BackSlash?i=!0:a(c)}return new Uint8Array(e)},t.prototype.decodeText=function(){var e=this.asBytes();return eo(e)?Qa(e):io(e)},t.prototype.decodeDate=function(){var e=this.decodeText(),n=Xa(e);if(!n)throw new ao(e);return n},t.prototype.asString=function(){return this.value},t.prototype.clone=function(){return t.of(this.value)},t.prototype.toString=function(){return"("+this.value+")"},t.prototype.sizeInBytes=function(){return this.value.length+2},t.prototype.copyBytesInto=function(e,n){return e[n++]=y.LeftParen,n+=Jt(this.value,e,n),e[n++]=y.RightParen,this.value.length+2},t.of=function(e){return new t(e)},t.fromDate=function(e){var n=Ie(String(e.getUTCFullYear()),4,"0"),i=Ie(String(e.getUTCMonth()+1),2,"0"),a=Ie(String(e.getUTCDate()),2,"0"),o=Ie(String(e.getUTCHours()),2,"0"),s=Ie(String(e.getUTCMinutes()),2,"0"),u=Ie(String(e.getUTCSeconds()),2,"0");return new t("D:"+n+i+a+o+s+u+"Z")},t})(ie),Ni=(function(){function r(t,e,n,i){var a=this;this.allGlyphsInFontSortedById=function(){for(var o=new Array(a.font.characterSet.length),s=0,u=o.length;s<u;s++){var c=a.font.characterSet[s];o[s]=a.font.glyphForCodePoint(c)}return vs(o.sort(ds),function(l){return l.id})},this.font=t,this.scale=1e3/this.font.unitsPerEm,this.fontData=e,this.fontName=this.font.postscriptName||"Font",this.customName=n,this.fontFeatures=i,this.baseFontName="",this.glyphCache=He.populatedBy(this.allGlyphsInFontSortedById)}return r.for=function(t,e,n,i){return lt(this,void 0,void 0,function(){var a;return ht(this,function(o){switch(o.label){case 0:return[4,t.create(e)];case 1:return a=o.sent(),[2,new r(a,e,n,i)]}})})},r.prototype.encodeText=function(t){for(var e=this.font.layout(t,this.fontFeatures).glyphs,n=new Array(e.length),i=0,a=e.length;i<a;i++)n[i]=an(e[i].id,4);return et.of(n.join(""))},r.prototype.widthOfTextAtSize=function(t,e){for(var n=this.font.layout(t,this.fontFeatures).glyphs,i=0,a=0,o=n.length;a<o;a++)i+=n[a].advanceWidth*this.scale;var s=e/1e3;return i*s},r.prototype.heightOfFontAtSize=function(t,e){e===void 0&&(e={});var n=e.descender,i=n===void 0?!0:n,a=this.font,o=a.ascent,s=a.descent,u=a.bbox,c=(o||u.maxY)*this.scale,l=(s||u.minY)*this.scale,v=c-l;return i||(v-=Math.abs(s)||0),v/1e3*t},r.prototype.sizeOfFontAtHeight=function(t){var e=this.font,n=e.ascent,i=e.descent,a=e.bbox,o=(n||a.maxY)*this.scale,s=(i||a.minY)*this.scale;return 1e3*t/(o-s)},r.prototype.embedIntoContext=function(t,e){return this.baseFontName=this.customName||t.addRandomSuffix(this.fontName),this.embedFontDict(t,e)},r.prototype.embedFontDict=function(t,e){return lt(this,void 0,void 0,function(){var n,i,a;return ht(this,function(o){switch(o.label){case 0:return[4,this.embedCIDFontDict(t)];case 1:return n=o.sent(),i=this.embedUnicodeCmap(t),a=t.obj({Type:"Font",Subtype:"Type0",BaseFont:this.baseFontName,Encoding:"Identity-H",DescendantFonts:[n],ToUnicode:i}),e?(t.assign(e,a),[2,e]):[2,t.register(a)]}})})},r.prototype.isCFF=function(){return this.font.cff},r.prototype.embedCIDFontDict=function(t){return lt(this,void 0,void 0,function(){var e,n;return ht(this,function(i){switch(i.label){case 0:return[4,this.embedFontDescriptor(t)];case 1:return e=i.sent(),n=t.obj({Type:"Font",Subtype:this.isCFF()?"CIDFontType0":"CIDFontType2",CIDToGIDMap:"Identity",BaseFont:this.baseFontName,CIDSystemInfo:{Registry:kt.of("Adobe"),Ordering:kt.of("Identity"),Supplement:0},FontDescriptor:e,W:this.computeWidths()}),[2,t.register(n)]}})})},r.prototype.embedFontDescriptor=function(t){return lt(this,void 0,void 0,function(){var e,n,i,a,o,s,u,c,l,v,b,m,w,F,C;return ht(this,function(k){switch(k.label){case 0:return[4,this.embedFontStream(t)];case 1:return e=k.sent(),n=this.scale,i=this.font,a=i.italicAngle,o=i.ascent,s=i.descent,u=i.capHeight,c=i.xHeight,l=this.font.bbox,v=l.minX,b=l.minY,m=l.maxX,w=l.maxY,F=t.obj((C={Type:"FontDescriptor",FontName:this.baseFontName,Flags:bu(this.font),FontBBox:[v*n,b*n,m*n,w*n],ItalicAngle:a,Ascent:o*n,Descent:s*n,CapHeight:(u||o)*n,XHeight:(c||0)*n,StemV:0},C[this.isCFF()?"FontFile3":"FontFile2"]=e,C)),[2,t.register(F)]}})})},r.prototype.serializeFont=function(){return lt(this,void 0,void 0,function(){return ht(this,function(t){return[2,this.fontData]})})},r.prototype.embedFontStream=function(t){return lt(this,void 0,void 0,function(){var e,n,i;return ht(this,function(a){switch(a.label){case 0:return i=(n=t).flateStream,[4,this.serializeFont()];case 1:return e=i.apply(n,[a.sent(),{Subtype:this.isCFF()?"CIDFontType0C":void 0}]),[2,t.register(e)]}})})},r.prototype.embedUnicodeCmap=function(t){var e=vu(this.glyphCache.access(),this.glyphId.bind(this)),n=t.flateStream(e);return t.register(n)},r.prototype.glyphId=function(t){return t?t.id:-1},r.prototype.computeWidths=function(){for(var t=this.glyphCache.access(),e=[],n=[],i=0,a=t.length;i<a;i++){var o=t[i],s=t[i-1],u=this.glyphId(o),c=this.glyphId(s);i===0?e.push(u):u-c!==1&&(e.push(n),e.push(u),n=[]),n.push(o.advanceWidth*this.scale)}return e.push(n),e},r})(),mu=(function(r){L(t,r);function t(e,n,i,a){var o=r.call(this,e,n,i,a)||this;return o.subset=o.font.createSubset(),o.glyphs=[],o.glyphCache=He.populatedBy(function(){return o.glyphs}),o.glyphIdMap=new Map,o}return t.for=function(e,n,i,a){return lt(this,void 0,void 0,function(){var o;return ht(this,function(s){switch(s.label){case 0:return[4,e.create(n)];case 1:return o=s.sent(),[2,new t(o,n,i,a)]}})})},t.prototype.encodeText=function(e){for(var n=this.font.layout(e,this.fontFeatures).glyphs,i=new Array(n.length),a=0,o=n.length;a<o;a++){var s=n[a],u=this.subset.includeGlyph(s);this.glyphs[u-1]=s,this.glyphIdMap.set(s.id,u),i[a]=an(u,4)}return this.glyphCache.invalidate(),et.of(i.join(""))},t.prototype.isCFF=function(){return this.subset.cff},t.prototype.glyphId=function(e){return e?this.glyphIdMap.get(e.id):-1},t.prototype.serializeFont=function(){var e=this;return new Promise(function(n,i){var a=[];e.subset.encodeStream().on("data",function(o){return a.push(o)}).on("end",function(){return n(hs(a))}).on("error",function(o){return i(o)})})},t})(Ni),Si;(function(r){r.Source="Source",r.Data="Data",r.Alternative="Alternative",r.Supplement="Supplement",r.EncryptedPayload="EncryptedPayload",r.FormData="EncryptedPayload",r.Schema="Schema",r.Unspecified="Unspecified"})(Si||(Si={}));var xu=(function(){function r(t,e,n){n===void 0&&(n={}),this.fileData=t,this.fileName=e,this.options=n}return r.for=function(t,e,n){return n===void 0&&(n={}),new r(t,e,n)},r.prototype.embedIntoContext=function(t,e){return lt(this,void 0,void 0,function(){var n,i,a,o,s,u,c,l,v;return ht(this,function(b){return n=this.options,i=n.mimeType,a=n.description,o=n.creationDate,s=n.modificationDate,u=n.afRelationship,c=t.flateStream(this.fileData,{Type:"EmbeddedFile",Subtype:i??void 0,Params:{Size:this.fileData.length,CreationDate:o?kt.fromDate(o):void 0,ModDate:s?kt.fromDate(s):void 0}}),l=t.register(c),v=t.obj({Type:"Filespec",F:kt.of(this.fileName),UF:et.fromText(this.fileName),EF:{F:l},Desc:a?et.fromText(a):void 0,AFRelationship:u??void 0}),e?(t.assign(e,v),[2,e]):[2,t.register(v)]})})},r})(),Ba=[65472,65473,65474,65475,65477,65478,65479,65480,65481,65482,65483,65484,65485,65486,65487],Br;(function(r){r.DeviceGray="DeviceGray",r.DeviceRGB="DeviceRGB",r.DeviceCMYK="DeviceCMYK"})(Br||(Br={}));var wu={1:Br.DeviceGray,3:Br.DeviceRGB,4:Br.DeviceCMYK},yo=(function(){function r(t,e,n,i,a){this.imageData=t,this.bitsPerComponent=e,this.width=n,this.height=i,this.colorSpace=a}return r.for=function(t){return lt(this,void 0,void 0,function(){var e,n,i,a,o,s,u,c,l,v;return ht(this,function(b){if(e=new DataView(t.buffer),n=e.getUint16(0),n!==65496)throw new Error("SOI not found in JPEG");for(i=2;i<e.byteLength&&(a=e.getUint16(i),i+=2,!Ba.includes(a));)i+=e.getUint16(i);if(!Ba.includes(a))throw new Error("Invalid JPEG");if(i+=2,o=e.getUint8(i++),s=e.getUint16(i),i+=2,u=e.getUint16(i),i+=2,c=e.getUint8(i++),l=wu[c],!l)throw new Error("Unknown JPEG channel.");return v=l,[2,new r(t,o,u,s,v)]})})},r.prototype.embedIntoContext=function(t,e){return lt(this,void 0,void 0,function(){var n;return ht(this,function(i){return n=t.stream(this.imageData,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.bitsPerComponent,Width:this.width,Height:this.height,ColorSpace:this.colorSpace,Filter:"DCTDecode",Decode:this.colorSpace===Br.DeviceCMYK?[1,0,1,0,1,0,1,0]:void 0}),e?(t.assign(e,n),[2,e]):[2,t.register(n)]})})},r})(),Su=function(r){if(r===0)return hr.Greyscale;if(r===2)return hr.Truecolour;if(r===3)return hr.IndexedColour;if(r===4)return hr.GreyscaleWithAlpha;if(r===6)return hr.TruecolourWithAlpha;throw new Error("Unknown color type: "+r)},_u=function(r){for(var t=Math.floor(r.length/4),e=new Uint8Array(t*3),n=new Uint8Array(t*1),i=0,a=0,o=0;i<r.length;)e[a++]=r[i++],e[a++]=r[i++],e[a++]=r[i++],n[o++]=r[i++];return{rgbChannel:e,alphaChannel:n}},hr;(function(r){r.Greyscale="Greyscale",r.Truecolour="Truecolour",r.IndexedColour="IndexedColour",r.GreyscaleWithAlpha="GreyscaleWithAlpha",r.TruecolourWithAlpha="TruecolourWithAlpha"})(hr||(hr={}));var Fu=(function(){function r(t){var e=$i.decode(t),n=$i.toRGBA8(e);if(n.length>1)throw new Error("Animated PNGs are not supported");var i=new Uint8Array(n[0]),a=_u(i),o=a.rgbChannel,s=a.alphaChannel;this.rgbChannel=o;var u=s.some(function(c){return c<255});u&&(this.alphaChannel=s),this.type=Su(e.ctype),this.width=e.width,this.height=e.height,this.bitsPerComponent=8}return r.load=function(t){return new r(t)},r})(),bo=(function(){function r(t){this.image=t,this.bitsPerComponent=t.bitsPerComponent,this.width=t.width,this.height=t.height,this.colorSpace="DeviceRGB"}return r.for=function(t){return lt(this,void 0,void 0,function(){var e;return ht(this,function(n){return e=Fu.load(t),[2,new r(e)]})})},r.prototype.embedIntoContext=function(t,e){return lt(this,void 0,void 0,function(){var n,i;return ht(this,function(a){return n=this.embedAlphaChannel(t),i=t.flateStream(this.image.rgbChannel,{Type:"XObject",Subtype:"Image",BitsPerComponent:this.image.bitsPerComponent,Width:this.image.width,Height:this.image.height,ColorSpace:this.colorSpace,SMask:n}),e?(t.assign(e,i),[2,e]):[2,t.register(i)]})})},r.prototype.embedAlphaChannel=function(t){if(this.image.alphaChannel){var e=t.flateStream(this.image.alphaChannel,{Type:"XObject",Subtype:"Image",Height:this.image.height,Width:this.image.width,BitsPerComponent:this.image.bitsPerComponent,ColorSpace:"DeviceGray",Decode:[0,1]});return t.register(e)}},r})(),mo=(function(){function r(t,e,n){this.bytes=t,this.start=e||0,this.pos=this.start,this.end=e&&n?e+n:this.bytes.length}return Object.defineProperty(r.prototype,"length",{get:function(){return this.end-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"isEmpty",{get:function(){return this.length===0},enumerable:!1,configurable:!0}),r.prototype.getByte=function(){return this.pos>=this.end?-1:this.bytes[this.pos++]},r.prototype.getUint16=function(){var t=this.getByte(),e=this.getByte();return t===-1||e===-1?-1:(t<<8)+e},r.prototype.getInt32=function(){var t=this.getByte(),e=this.getByte(),n=this.getByte(),i=this.getByte();return(t<<24)+(e<<16)+(n<<8)+i},r.prototype.getBytes=function(t,e){e===void 0&&(e=!1);var n=this.bytes,i=this.pos,a=this.end;if(t){var s=i+t;s>a&&(s=a),this.pos=s;var o=n.subarray(i,s);return e?new Uint8ClampedArray(o):o}else{var o=n.subarray(i,a);return e?new Uint8ClampedArray(o):o}},r.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},r.prototype.peekBytes=function(t,e){e===void 0&&(e=!1);var n=this.getBytes(t,e);return this.pos-=n.length,n},r.prototype.skip=function(t){t||(t=1),this.pos+=t},r.prototype.reset=function(){this.pos=this.start},r.prototype.moveStart=function(){this.start=this.pos},r.prototype.makeSubStream=function(t,e){return new r(this.bytes,t,e)},r.prototype.decode=function(){return this.bytes},r})(),ku=new Uint8Array(0),un=(function(){function r(t){if(this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=ku,this.minBufferLength=512,t)for(;this.minBufferLength<t;)this.minBufferLength*=2}return Object.defineProperty(r.prototype,"isEmpty",{get:function(){for(;!this.eof&&this.bufferLength===0;)this.readBlock();return this.bufferLength===0},enumerable:!1,configurable:!0}),r.prototype.getByte=function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]},r.prototype.getUint16=function(){var t=this.getByte(),e=this.getByte();return t===-1||e===-1?-1:(t<<8)+e},r.prototype.getInt32=function(){var t=this.getByte(),e=this.getByte(),n=this.getByte(),i=this.getByte();return(t<<24)+(e<<16)+(n<<8)+i},r.prototype.getBytes=function(t,e){e===void 0&&(e=!1);var n,i=this.pos;if(t){for(this.ensureBuffer(i+t),n=i+t;!this.eof&&this.bufferLength<n;)this.readBlock();var a=this.bufferLength;n>a&&(n=a)}else{for(;!this.eof;)this.readBlock();n=this.bufferLength}this.pos=n;var o=this.buffer.subarray(i,n);return e&&!(o instanceof Uint8ClampedArray)?new Uint8ClampedArray(o):o},r.prototype.peekByte=function(){var t=this.getByte();return this.pos--,t},r.prototype.peekBytes=function(t,e){e===void 0&&(e=!1);var n=this.getBytes(t,e);return this.pos-=n.length,n},r.prototype.skip=function(t){t||(t=1),this.pos+=t},r.prototype.reset=function(){this.pos=0},r.prototype.makeSubStream=function(t,e){for(var n=t+e;this.bufferLength<=n&&!this.eof;)this.readBlock();return new mo(this.buffer,t,e)},r.prototype.decode=function(){for(;!this.eof;)this.readBlock();return this.buffer.subarray(0,this.bufferLength)},r.prototype.readBlock=function(){throw new Ae(this.constructor.name,"readBlock")},r.prototype.ensureBuffer=function(t){var e=this.buffer;if(t<=e.byteLength)return e;for(var n=this.minBufferLength;n<t;)n*=2;var i=new Uint8Array(n);return i.set(e),this.buffer=i},r})(),Ta=function(r){return r===32||r===9||r===13||r===10},Au=(function(r){L(t,r);function t(e,n){var i=r.call(this,n)||this;return i.stream=e,i.input=new Uint8Array(5),n&&(n=.8*n),i}return t.prototype.readBlock=function(){for(var e=126,n=122,i=-1,a=this.stream,o=a.getByte();Ta(o);)o=a.getByte();if(o===i||o===e){this.eof=!0;return}var s=this.bufferLength,u,c;if(o===n){for(u=this.ensureBuffer(s+4),c=0;c<4;++c)u[s+c]=0;this.bufferLength+=4}else{var l=this.input;for(l[0]=o,c=1;c<5;++c){for(o=a.getByte();Ta(o);)o=a.getByte();if(l[c]=o,o===i||o===e)break}if(u=this.ensureBuffer(s+c-1),this.bufferLength+=c-1,c<5){for(;c<5;++c)l[c]=117;this.eof=!0}var v=0;for(c=0;c<5;++c)v=v*85+(l[c]-33);for(c=3;c>=0;--c)u[s+c]=v&255,v>>=8}},t})(un),Cu=(function(r){L(t,r);function t(e,n){var i=r.call(this,n)||this;return i.stream=e,i.firstDigit=-1,n&&(n=.5*n),i}return t.prototype.readBlock=function(){var e=8e3,n=this.stream.getBytes(e);if(!n.length){this.eof=!0;return}for(var i=n.length+1>>1,a=this.ensureBuffer(this.bufferLength+i),o=this.bufferLength,s=this.firstDigit,u=0,c=n.length;u<c;u++){var l=n[u],v=void 0;if(l>=48&&l<=57)v=l&15;else if(l>=65&&l<=70||l>=97&&l<=102)v=(l&15)+9;else if(l===62){this.eof=!0;break}else continue;s<0?s=v:(a[o++]=s<<4|v,s=-1)}s>=0&&this.eof&&(a[o++]=s<<4,s=-1),this.firstDigit=s,this.bufferLength=o},t})(un),Ea=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Du=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),Pu=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),Bu=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],Tu=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5],Eu=(function(r){L(t,r);function t(e,n){var i=r.call(this,n)||this;i.stream=e;var a=e.getByte(),o=e.getByte();if(a===-1||o===-1)throw new Error("Invalid header in flate stream: "+a+", "+o);if((a&15)!==8)throw new Error("Unknown compression method in flate stream: "+a+", "+o);if(((a<<8)+o)%31!==0)throw new Error("Bad FCHECK in flate stream: "+a+", "+o);if(o&32)throw new Error("FDICT bit set in flate stream: "+a+", "+o);return i.codeSize=0,i.codeBuf=0,i}return t.prototype.readBlock=function(){var e,n,i=this.stream,a=this.getBits(3);if(a&1&&(this.eof=!0),a>>=1,a===0){var o=void 0;if((o=i.getByte())===-1)throw new Error("Bad block header in flate stream");var s=o;if((o=i.getByte())===-1)throw new Error("Bad block header in flate stream");if(s|=o<<8,(o=i.getByte())===-1)throw new Error("Bad block header in flate stream");var u=o;if((o=i.getByte())===-1)throw new Error("Bad block header in flate stream");if(u|=o<<8,u!==(~s&65535)&&(s!==0||u!==0))throw new Error("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;var c=this.bufferLength;e=this.ensureBuffer(c+s);var l=c+s;if(this.bufferLength=l,s===0)i.peekByte()===-1&&(this.eof=!0);else for(var v=c;v<l;++v){if((o=i.getByte())===-1){this.eof=!0;break}e[v]=o}return}var b,m;if(a===1)b=Bu,m=Tu;else if(a===2){var w=this.getBits(5)+257,F=this.getBits(5)+1,C=this.getBits(4)+4,k=new Uint8Array(Ea.length),B=void 0;for(B=0;B<C;++B)k[Ea[B]]=this.getBits(3);var O=this.generateHuffmanTable(k);n=0,B=0;for(var N=w+F,R=new Uint8Array(N),M=void 0,E=void 0,H=void 0;B<N;){var Q=this.getCode(O);if(Q===16)M=2,E=3,H=n;else if(Q===17)M=3,E=3,H=n=0;else if(Q===18)M=7,E=11,H=n=0;else{R[B++]=n=Q;continue}for(var X=this.getBits(M)+E;X-- >0;)R[B++]=H}b=this.generateHuffmanTable(R.subarray(0,w)),m=this.generateHuffmanTable(R.subarray(w,N))}else throw new Error("Unknown block type in flate stream");e=this.buffer;for(var ot=e?e.length:0,V=this.bufferLength;;){var U=this.getCode(b);if(U<256){V+1>=ot&&(e=this.ensureBuffer(V+1),ot=e.length),e[V++]=U;continue}if(U===256){this.bufferLength=V;return}U-=257,U=Du[U];var tt=U>>16;tt>0&&(tt=this.getBits(tt)),n=(U&65535)+tt,U=this.getCode(m),U=Pu[U],tt=U>>16,tt>0&&(tt=this.getBits(tt));var xt=(U&65535)+tt;V+n>=ot&&(e=this.ensureBuffer(V+n),ot=e.length);for(var Pt=0;Pt<n;++Pt,++V)e[V]=e[V-xt]}},t.prototype.getBits=function(e){for(var n=this.stream,i=this.codeSize,a=this.codeBuf,o;i<e;){if((o=n.getByte())===-1)throw new Error("Bad encoding in flate stream");a|=o<<i,i+=8}return o=a&(1<<e)-1,this.codeBuf=a>>e,this.codeSize=i-=e,o},t.prototype.getCode=function(e){for(var n=this.stream,i=e[0],a=e[1],o=this.codeSize,s=this.codeBuf,u;o<a&&(u=n.getByte())!==-1;)s|=u<<o,o+=8;var c=i[s&(1<<a)-1];typeof i=="number"&&console.log("FLATE:",c);var l=c>>16,v=c&65535;if(l<1||o<l)throw new Error("Bad encoding in flate stream");return this.codeBuf=s>>l,this.codeSize=o-l,v},t.prototype.generateHuffmanTable=function(e){var n=e.length,i=0,a;for(a=0;a<n;++a)e[a]>i&&(i=e[a]);for(var o=1<<i,s=new Int32Array(o),u=1,c=0,l=2;u<=i;++u,c<<=1,l<<=1)for(var v=0;v<n;++v)if(e[v]===u){var b=0,m=c;for(a=0;a<u;++a)b=b<<1|m&1,m>>=1;for(a=b;a<o;a+=l)s[a]=u<<16|v;++c}return[s,i]},t})(un),Ou=(function(r){L(t,r);function t(e,n,i){var a=r.call(this,n)||this;a.stream=e,a.cachedData=0,a.bitsCached=0;for(var o=4096,s={earlyChange:i,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(o),dictionaryLengths:new Uint16Array(o),dictionaryPrevCodes:new Uint16Array(o),currentSequence:new Uint8Array(o),currentSequenceLength:0},u=0;u<256;++u)s.dictionaryValues[u]=u,s.dictionaryLengths[u]=1;return a.lzwState=s,a}return t.prototype.readBlock=function(){var e=512,n=e*2,i=e,a,o,s,u=this.lzwState;if(u){var c=u.earlyChange,l=u.nextCode,v=u.dictionaryValues,b=u.dictionaryLengths,m=u.dictionaryPrevCodes,w=u.codeLength,F=u.prevCode,C=u.currentSequence,k=u.currentSequenceLength,B=0,O=this.bufferLength,N=this.ensureBuffer(this.bufferLength+n);for(a=0;a<e;a++){var R=this.readBits(w),M=k>0;if(!R||R<256)C[0]=R,k=1;else if(R>=258)if(R<l)for(k=b[R],o=k-1,s=R;o>=0;o--)C[o]=v[s],s=m[s];else C[k++]=C[0];else if(R===256){w=9,l=258,k=0;continue}else{this.eof=!0,delete this.lzwState;break}if(M&&(m[l]=F,b[l]=b[F]+1,v[l]=C[0],l++,w=l+c&l+c-1?w:Math.min(Math.log(l+c)/.6931471805599453+1,12)|0),F=R,B+=k,n<B){do n+=i;while(n<B);N=this.ensureBuffer(this.bufferLength+n)}for(o=0;o<k;o++)N[O++]=C[o]}u.nextCode=l,u.codeLength=w,u.prevCode=F,u.currentSequenceLength=k,this.bufferLength=O}},t.prototype.readBits=function(e){for(var n=this.bitsCached,i=this.cachedData;n<e;){var a=this.stream.getByte();if(a===-1)return this.eof=!0,null;i=i<<8|a,n+=8}return this.bitsCached=n-=e,this.cachedData=i,i>>>n&(1<<e)-1},t})(un),Ru=(function(r){L(t,r);function t(e,n){var i=r.call(this,n)||this;return i.stream=e,i}return t.prototype.readBlock=function(){var e=this.stream.getBytes(2);if(!e||e.length<2||e[0]===128){this.eof=!0;return}var n,i=this.bufferLength,a=e[0];if(a<128){if(n=this.ensureBuffer(i+a+1),n[i++]=e[1],a>0){var o=this.stream.getBytes(a);n.set(o,i),i+=a}}else{a=257-a;var s=e[1];n=this.ensureBuffer(i+a+1);for(var u=0;u<a;u++)n[i++]=s}this.bufferLength=i},t})(un),Oa=function(r,t,e){if(t===g.of("FlateDecode"))return new Eu(r);if(t===g.of("LZWDecode")){var n=1;if(e instanceof ct){var i=e.lookup(g.of("EarlyChange"));i instanceof it&&(n=i.asNumber())}return new Ou(r,void 0,n)}if(t===g.of("ASCII85Decode"))return new Au(r);if(t===g.of("ASCIIHexDecode"))return new Cu(r);if(t===g.of("RunLengthDecode"))return new Ru(r);throw new Os(t.asString())},xo=function(r){var t=r.dict,e=r.contents,n=new mo(e),i=t.lookup(g.of("Filter")),a=t.lookup(g.of("DecodeParms"));if(i instanceof g)n=Oa(n,i,a);else if(i instanceof _t)for(var o=0,s=i.size();o<s;o++)n=Oa(n,i.lookup(o,g),a&&a.lookupMaybe(o,ct));else if(i)throw new Tn([g,_t],i);return n},Iu=function(r){var t=r.MediaBox(),e=t.lookup(2,it).asNumber()-t.lookup(0,it).asNumber(),n=t.lookup(3,it).asNumber()-t.lookup(1,it).asNumber();return{left:0,bottom:0,right:e,top:n}},zu=function(r){return[1,0,0,1,-r.left,-r.bottom]},wo=(function(){function r(t,e,n){this.page=t;var i=e??Iu(t);this.width=i.right-i.left,this.height=i.top-i.bottom,this.boundingBox=i,this.transformationMatrix=n??zu(i)}return r.for=function(t,e,n){return lt(this,void 0,void 0,function(){return ht(this,function(i){return[2,new r(t,e,n)]})})},r.prototype.embedIntoContext=function(t,e){return lt(this,void 0,void 0,function(){var n,i,a,o,s,u,c,l,v,b;return ht(this,function(m){if(n=this.page.normalizedEntries(),i=n.Contents,a=n.Resources,!i)throw new Rs;return o=this.decodeContents(i),s=this.boundingBox,u=s.left,c=s.bottom,l=s.right,v=s.top,b=t.flateStream(o,{Type:"XObject",Subtype:"Form",FormType:1,BBox:[u,c,l,v],Matrix:this.transformationMatrix,Resources:a}),e?(t.assign(e,b),[2,e]):[2,t.register(b)]})})},r.prototype.decodeContents=function(t){for(var e=Uint8Array.of(y.Newline),n=[],i=0,a=t.size();i<a;i++){var o=t.lookup(i,de),s=void 0;if(o instanceof en)s=xo(o).decode();else if(o instanceof qr)s=o.getUnencodedContents();else throw new Is(o);n.push(s,e)}return ls.apply(void 0,n)},r})(),bn=function(r,t){if(r!==void 0)return t[r]},Yr;(function(r){r.UseNone="UseNone",r.UseOutlines="UseOutlines",r.UseThumbs="UseThumbs",r.UseOC="UseOC"})(Yr||(Yr={}));var Jr;(function(r){r.L2R="L2R",r.R2L="R2L"})(Jr||(Jr={}));var Qr;(function(r){r.None="None",r.AppDefault="AppDefault"})(Qr||(Qr={}));var Rn;(function(r){r.Simplex="Simplex",r.DuplexFlipShortEdge="DuplexFlipShortEdge",r.DuplexFlipLongEdge="DuplexFlipLongEdge"})(Rn||(Rn={}));var Ra=(function(){function r(t){this.dict=t}return r.prototype.lookupBool=function(t){var e=this.dict.lookup(g.of(t));if(e instanceof tn)return e},r.prototype.lookupName=function(t){var e=this.dict.lookup(g.of(t));if(e instanceof g)return e},r.prototype.HideToolbar=function(){return this.lookupBool("HideToolbar")},r.prototype.HideMenubar=function(){return this.lookupBool("HideMenubar")},r.prototype.HideWindowUI=function(){return this.lookupBool("HideWindowUI")},r.prototype.FitWindow=function(){return this.lookupBool("FitWindow")},r.prototype.CenterWindow=function(){return this.lookupBool("CenterWindow")},r.prototype.DisplayDocTitle=function(){return this.lookupBool("DisplayDocTitle")},r.prototype.NonFullScreenPageMode=function(){return this.lookupName("NonFullScreenPageMode")},r.prototype.Direction=function(){return this.lookupName("Direction")},r.prototype.PrintScaling=function(){return this.lookupName("PrintScaling")},r.prototype.Duplex=function(){return this.lookupName("Duplex")},r.prototype.PickTrayByPDFSize=function(){return this.lookupBool("PickTrayByPDFSize")},r.prototype.PrintPageRange=function(){var t=this.dict.lookup(g.of("PrintPageRange"));if(t instanceof _t)return t},r.prototype.NumCopies=function(){var t=this.dict.lookup(g.of("NumCopies"));if(t instanceof it)return t},r.prototype.getHideToolbar=function(){var t,e;return(e=(t=this.HideToolbar())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},r.prototype.getHideMenubar=function(){var t,e;return(e=(t=this.HideMenubar())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},r.prototype.getHideWindowUI=function(){var t,e;return(e=(t=this.HideWindowUI())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},r.prototype.getFitWindow=function(){var t,e;return(e=(t=this.FitWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},r.prototype.getCenterWindow=function(){var t,e;return(e=(t=this.CenterWindow())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},r.prototype.getDisplayDocTitle=function(){var t,e;return(e=(t=this.DisplayDocTitle())===null||t===void 0?void 0:t.asBoolean())!==null&&e!==void 0?e:!1},r.prototype.getNonFullScreenPageMode=function(){var t,e,n=(t=this.NonFullScreenPageMode())===null||t===void 0?void 0:t.decodeText();return(e=bn(n,Yr))!==null&&e!==void 0?e:Yr.UseNone},r.prototype.getReadingDirection=function(){var t,e,n=(t=this.Direction())===null||t===void 0?void 0:t.decodeText();return(e=bn(n,Jr))!==null&&e!==void 0?e:Jr.L2R},r.prototype.getPrintScaling=function(){var t,e,n=(t=this.PrintScaling())===null||t===void 0?void 0:t.decodeText();return(e=bn(n,Qr))!==null&&e!==void 0?e:Qr.AppDefault},r.prototype.getDuplex=function(){var t,e=(t=this.Duplex())===null||t===void 0?void 0:t.decodeText();return bn(e,Rn)},r.prototype.getPickTrayByPDFSize=function(){var t;return(t=this.PickTrayByPDFSize())===null||t===void 0?void 0:t.asBoolean()},r.prototype.getPrintPageRange=function(){var t=this.PrintPageRange();if(!t)return[];for(var e=[],n=0;n<t.size();n+=2){var i=t.lookup(n,it).asNumber(),a=t.lookup(n+1,it).asNumber();e.push({start:i,end:a})}return e},r.prototype.getNumCopies=function(){var t,e;return(e=(t=this.NumCopies())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:1},r.prototype.setHideToolbar=function(t){var e=this.dict.context.obj(t);this.dict.set(g.of("HideToolbar"),e)},r.prototype.setHideMenubar=function(t){var e=this.dict.context.obj(t);this.dict.set(g.of("HideMenubar"),e)},r.prototype.setHideWindowUI=function(t){var e=this.dict.context.obj(t);this.dict.set(g.of("HideWindowUI"),e)},r.prototype.setFitWindow=function(t){var e=this.dict.context.obj(t);this.dict.set(g.of("FitWindow"),e)},r.prototype.setCenterWindow=function(t){var e=this.dict.context.obj(t);this.dict.set(g.of("CenterWindow"),e)},r.prototype.setDisplayDocTitle=function(t){var e=this.dict.context.obj(t);this.dict.set(g.of("DisplayDocTitle"),e)},r.prototype.setNonFullScreenPageMode=function(t){$e(t,"nonFullScreenPageMode",Yr);var e=g.of(t);this.dict.set(g.of("NonFullScreenPageMode"),e)},r.prototype.setReadingDirection=function(t){$e(t,"readingDirection",Jr);var e=g.of(t);this.dict.set(g.of("Direction"),e)},r.prototype.setPrintScaling=function(t){$e(t,"printScaling",Qr);var e=g.of(t);this.dict.set(g.of("PrintScaling"),e)},r.prototype.setDuplex=function(t){$e(t,"duplex",Rn);var e=g.of(t);this.dict.set(g.of("Duplex"),e)},r.prototype.setPickTrayByPDFSize=function(t){var e=this.dict.context.obj(t);this.dict.set(g.of("PickTrayByPDFSize"),e)},r.prototype.setPrintPageRange=function(t){Array.isArray(t)||(t=[t]);for(var e=[],n=0,i=t.length;n<i;n++)e.push(t[n].start),e.push(t[n].end);ro(e,"printPageRange",["number"]);var a=this.dict.context.obj(e);this.dict.set(g.of("PrintPageRange"),a)},r.prototype.setNumCopies=function(t){le(t,"numCopies",1,Number.MAX_VALUE),Es(t,"numCopies");var e=this.dict.context.obj(t);this.dict.set(g.of("NumCopies"),e)},r.fromDict=function(t){return new r(t)},r.create=function(t){var e=t.obj({});return new r(e)},r})(),Nu=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+Tf/,So=(function(){function r(t,e){this.dict=t,this.ref=e}return r.prototype.T=function(){return this.dict.lookupMaybe(g.of("T"),kt,et)},r.prototype.Ff=function(){var t=this.getInheritableAttribute(g.of("Ff"));return this.dict.context.lookupMaybe(t,it)},r.prototype.V=function(){var t=this.getInheritableAttribute(g.of("V"));return this.dict.context.lookup(t)},r.prototype.Kids=function(){return this.dict.lookupMaybe(g.of("Kids"),_t)},r.prototype.DA=function(){var t=this.dict.lookup(g.of("DA"));if(t instanceof kt||t instanceof et)return t},r.prototype.setKids=function(t){this.dict.set(g.of("Kids"),this.dict.context.obj(t))},r.prototype.getParent=function(){var t=this.dict.get(g.of("Parent"));if(t instanceof At){var e=this.dict.lookup(g.of("Parent"),ct);return new r(e,t)}},r.prototype.setParent=function(t){t?this.dict.set(g.of("Parent"),t):this.dict.delete(g.of("Parent"))},r.prototype.getFullyQualifiedName=function(){var t=this.getParent();return t?t.getFullyQualifiedName()+"."+this.getPartialName():this.getPartialName()},r.prototype.getPartialName=function(){var t;return(t=this.T())===null||t===void 0?void 0:t.decodeText()},r.prototype.setPartialName=function(t){t?this.dict.set(g.of("T"),et.fromText(t)):this.dict.delete(g.of("T"))},r.prototype.setDefaultAppearance=function(t){this.dict.set(g.of("DA"),kt.of(t))},r.prototype.getDefaultAppearance=function(){var t=this.DA();return t instanceof et?t.decodeText():t==null?void 0:t.asString()},r.prototype.setFontSize=function(t){var e,n=(e=this.getFullyQualifiedName())!==null&&e!==void 0?e:"",i=this.getDefaultAppearance();if(!i)throw new Ms(n);var a=Pi(i,Nu);if(!a.match)throw new Ws(n);var o=i.slice(0,a.pos-a.match[0].length),s=a.pos<=i.length?i.slice(a.pos):"",u=a.match[1],c=o+" /"+u+" "+t+" Tf "+s;this.setDefaultAppearance(c)},r.prototype.getFlags=function(){var t,e;return(e=(t=this.Ff())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:0},r.prototype.setFlags=function(t){this.dict.set(g.of("Ff"),it.of(t))},r.prototype.hasFlag=function(t){var e=this.getFlags();return(e&t)!==0},r.prototype.setFlag=function(t){var e=this.getFlags();this.setFlags(e|t)},r.prototype.clearFlag=function(t){var e=this.getFlags();this.setFlags(e&~t)},r.prototype.setFlagTo=function(t,e){e?this.setFlag(t):this.clearFlag(t)},r.prototype.getInheritableAttribute=function(t){var e;return this.ascend(function(n){e||(e=n.dict.get(t))}),e},r.prototype.ascend=function(t){t(this);var e=this.getParent();e&&e.ascend(t)},r})(),gi=(function(){function r(t){this.dict=t}return r.prototype.W=function(){var t=this.dict.lookup(g.of("W"));if(t instanceof it)return t},r.prototype.getWidth=function(){var t,e;return(e=(t=this.W())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:1},r.prototype.setWidth=function(t){var e=this.dict.context.obj(t);this.dict.set(g.of("W"),e)},r.fromDict=function(t){return new r(t)},r})(),ju=(function(){function r(t){this.dict=t}return r.prototype.Rect=function(){return this.dict.lookup(g.of("Rect"),_t)},r.prototype.AP=function(){return this.dict.lookupMaybe(g.of("AP"),ct)},r.prototype.F=function(){var t=this.dict.lookup(g.of("F"));return this.dict.context.lookupMaybe(t,it)},r.prototype.getRectangle=function(){var t,e=this.Rect();return(t=e==null?void 0:e.asRectangle())!==null&&t!==void 0?t:{x:0,y:0,width:0,height:0}},r.prototype.setRectangle=function(t){var e=t.x,n=t.y,i=t.width,a=t.height,o=this.dict.context.obj([e,n,e+i,n+a]);this.dict.set(g.of("Rect"),o)},r.prototype.getAppearanceState=function(){var t=this.dict.lookup(g.of("AS"));if(t instanceof g)return t},r.prototype.setAppearanceState=function(t){this.dict.set(g.of("AS"),t)},r.prototype.setAppearances=function(t){this.dict.set(g.of("AP"),t)},r.prototype.ensureAP=function(){var t=this.AP();return t||(t=this.dict.context.obj({}),this.dict.set(g.of("AP"),t)),t},r.prototype.getNormalAppearance=function(){var t=this.ensureAP(),e=t.get(g.of("N"));if(e instanceof At||e instanceof ct)return e;throw new Error("Unexpected N type: "+(e==null?void 0:e.constructor.name))},r.prototype.setNormalAppearance=function(t){var e=this.ensureAP();e.set(g.of("N"),t)},r.prototype.setRolloverAppearance=function(t){var e=this.ensureAP();e.set(g.of("R"),t)},r.prototype.setDownAppearance=function(t){var e=this.ensureAP();e.set(g.of("D"),t)},r.prototype.removeRolloverAppearance=function(){var t=this.AP();t==null||t.delete(g.of("R"))},r.prototype.removeDownAppearance=function(){var t=this.AP();t==null||t.delete(g.of("D"))},r.prototype.getAppearances=function(){var t=this.AP();if(t){var e=t.lookup(g.of("N"),ct,de),n=t.lookupMaybe(g.of("R"),ct,de),i=t.lookupMaybe(g.of("D"),ct,de);return{normal:e,rollover:n,down:i}}},r.prototype.getFlags=function(){var t,e;return(e=(t=this.F())===null||t===void 0?void 0:t.asNumber())!==null&&e!==void 0?e:0},r.prototype.setFlags=function(t){this.dict.set(g.of("F"),it.of(t))},r.prototype.hasFlag=function(t){var e=this.getFlags();return(e&t)!==0},r.prototype.setFlag=function(t){var e=this.getFlags();this.setFlags(e|t)},r.prototype.clearFlag=function(t){var e=this.getFlags();this.setFlags(e&~t)},r.prototype.setFlagTo=function(t,e){e?this.setFlag(t):this.clearFlag(t)},r.fromDict=function(t){return new r(t)},r})(),yi=(function(){function r(t){this.dict=t}return r.prototype.R=function(){var t=this.dict.lookup(g.of("R"));if(t instanceof it)return t},r.prototype.BC=function(){var t=this.dict.lookup(g.of("BC"));if(t instanceof _t)return t},r.prototype.BG=function(){var t=this.dict.lookup(g.of("BG"));if(t instanceof _t)return t},r.prototype.CA=function(){var t=this.dict.lookup(g.of("CA"));if(t instanceof et||t instanceof kt)return t},r.prototype.RC=function(){var t=this.dict.lookup(g.of("RC"));if(t instanceof et||t instanceof kt)return t},r.prototype.AC=function(){var t=this.dict.lookup(g.of("AC"));if(t instanceof et||t instanceof kt)return t},r.prototype.getRotation=function(){var t;return(t=this.R())===null||t===void 0?void 0:t.asNumber()},r.prototype.getBorderColor=function(){var t=this.BC();if(t){for(var e=[],n=0,i=t==null?void 0:t.size();n<i;n++){var a=t.get(n);a instanceof it&&e.push(a.asNumber())}return e}},r.prototype.getBackgroundColor=function(){var t=this.BG();if(t){for(var e=[],n=0,i=t==null?void 0:t.size();n<i;n++){var a=t.get(n);a instanceof it&&e.push(a.asNumber())}return e}},r.prototype.getCaptions=function(){var t=this.CA(),e=this.RC(),n=this.AC();return{normal:t==null?void 0:t.decodeText(),rollover:e==null?void 0:e.decodeText(),down:n==null?void 0:n.decodeText()}},r.prototype.setRotation=function(t){var e=this.dict.context.obj(t);this.dict.set(g.of("R"),e)},r.prototype.setBorderColor=function(t){var e=this.dict.context.obj(t);this.dict.set(g.of("BC"),e)},r.prototype.setBackgroundColor=function(t){var e=this.dict.context.obj(t);this.dict.set(g.of("BG"),e)},r.prototype.setCaptions=function(t){var e=et.fromText(t.normal);if(this.dict.set(g.of("CA"),e),t.rollover){var n=et.fromText(t.rollover);this.dict.set(g.of("RC"),n)}else this.dict.delete(g.of("RC"));if(t.down){var i=et.fromText(t.down);this.dict.set(g.of("AC"),i)}else this.dict.delete(g.of("AC"))},r.fromDict=function(t){return new r(t)},r})(),_i=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.MK=function(){var e=this.dict.lookup(g.of("MK"));if(e instanceof ct)return e},t.prototype.BS=function(){var e=this.dict.lookup(g.of("BS"));if(e instanceof ct)return e},t.prototype.DA=function(){var e=this.dict.lookup(g.of("DA"));if(e instanceof kt||e instanceof et)return e},t.prototype.P=function(){var e=this.dict.get(g.of("P"));if(e instanceof At)return e},t.prototype.setP=function(e){this.dict.set(g.of("P"),e)},t.prototype.setDefaultAppearance=function(e){this.dict.set(g.of("DA"),kt.of(e))},t.prototype.getDefaultAppearance=function(){var e=this.DA();return e instanceof et?e.decodeText():e==null?void 0:e.asString()},t.prototype.getAppearanceCharacteristics=function(){var e=this.MK();if(e)return yi.fromDict(e)},t.prototype.getOrCreateAppearanceCharacteristics=function(){var e=this.MK();if(e)return yi.fromDict(e);var n=yi.fromDict(this.dict.context.obj({}));return this.dict.set(g.of("MK"),n.dict),n},t.prototype.getBorderStyle=function(){var e=this.BS();if(e)return gi.fromDict(e)},t.prototype.getOrCreateBorderStyle=function(){var e=this.BS();if(e)return gi.fromDict(e);var n=gi.fromDict(this.dict.context.obj({}));return this.dict.set(g.of("BS"),n.dict),n},t.prototype.getOnValue=function(){var e,n=(e=this.getAppearances())===null||e===void 0?void 0:e.normal;if(n instanceof ct)for(var i=n.keys(),a=0,o=i.length;a<o;a++){var s=i[a];if(s!==g.of("Off"))return s}},t.fromDict=function(e){return new t(e)},t.create=function(e,n){var i=e.obj({Type:"Annot",Subtype:"Widget",Rect:[0,0,0,0],Parent:n});return new t(i)},t})(ju),Or=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.FT=function(){var e=this.getInheritableAttribute(g.of("FT"));return this.dict.context.lookup(e,g)},t.prototype.getWidgets=function(){var e=this.Kids();if(!e)return[_i.fromDict(this.dict)];for(var n=new Array(e.size()),i=0,a=e.size();i<a;i++){var o=e.lookup(i,ct);n[i]=_i.fromDict(o)}return n},t.prototype.addWidget=function(e){var n=this.normalizedEntries().Kids;n.push(e)},t.prototype.removeWidget=function(e){var n=this.Kids();if(n){if(e<0||e>n.size())throw new En(e,0,n.size());n.remove(e)}else{if(e!==0)throw new En(e,0,0);this.setKids([])}},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([this.ref]),this.dict.set(g.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,n){return new t(e,n)},t})(So),ji=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.Opt=function(){return this.dict.lookupMaybe(g.of("Opt"),kt,et,_t)},t.prototype.setOpt=function(e){this.dict.set(g.of("Opt"),this.dict.context.obj(e))},t.prototype.getExportValues=function(){var e=this.Opt();if(e){if(e instanceof kt||e instanceof et)return[e];for(var n=[],i=0,a=e.size();i<a;i++){var o=e.lookup(i);(o instanceof kt||o instanceof et)&&n.push(o)}return n}},t.prototype.removeExportValue=function(e){var n=this.Opt();if(n)if(n instanceof kt||n instanceof et){if(e!==0)throw new En(e,0,0);this.setOpt([])}else{if(e<0||e>n.size())throw new En(e,0,n.size());n.remove(e)}},t.prototype.normalizeExportValues=function(){for(var e,n,i,a,o=(e=this.getExportValues())!==null&&e!==void 0?e:[],s=[],u=this.getWidgets(),c=0,l=u.length;c<l;c++){var v=u[c],b=(n=o[c])!==null&&n!==void 0?n:et.fromText((a=(i=v.getOnValue())===null||i===void 0?void 0:i.decodeText())!==null&&a!==void 0?a:"");s.push(b)}this.setOpt(s)},t.prototype.addOpt=function(e,n){var i;this.normalizeExportValues();var a=e.decodeText(),o;if(n)for(var s=(i=this.getExportValues())!==null&&i!==void 0?i:[],u=0,c=s.length;u<c;u++){var l=s[u];l.decodeText()===a&&(o=u)}var v=this.Opt();return v.push(e),o??v.size()-1},t.prototype.addWidgetWithOpt=function(e,n,i){var a=this.addOpt(n,i),o=g.of(String(a));return this.addWidget(e),o},t})(Or),Vn=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setValue=function(e){var n,i=(n=this.getOnValue())!==null&&n!==void 0?n:g.of("Yes");if(e!==i&&e!==g.of("Off"))throw new Ei;this.dict.set(g.of("V"),e);for(var a=this.getWidgets(),o=0,s=a.length;o<s;o++){var u=a[o],c=u.getOnValue()===e?e:g.of("Off");u.setAppearanceState(c)}},t.prototype.getValue=function(){var e=this.V();return e instanceof g?e:g.of("Off")},t.prototype.getOnValue=function(){var e=this.getWidgets()[0];return e==null?void 0:e.getOnValue()},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Kids:[]}),i=e.register(n);return new t(n,i)},t})(ji),Lt=function(r){return 1<<r},Re;(function(r){r[r.ReadOnly=Lt(0)]="ReadOnly",r[r.Required=Lt(1)]="Required",r[r.NoExport=Lt(2)]="NoExport"})(Re||(Re={}));var Fe;(function(r){r[r.NoToggleToOff=Lt(14)]="NoToggleToOff",r[r.Radio=Lt(15)]="Radio",r[r.PushButton=Lt(16)]="PushButton",r[r.RadiosInUnison=Lt(25)]="RadiosInUnison"})(Fe||(Fe={}));var It;(function(r){r[r.Multiline=Lt(12)]="Multiline",r[r.Password=Lt(13)]="Password",r[r.FileSelect=Lt(20)]="FileSelect",r[r.DoNotSpellCheck=Lt(22)]="DoNotSpellCheck",r[r.DoNotScroll=Lt(23)]="DoNotScroll",r[r.Comb=Lt(24)]="Comb",r[r.RichText=Lt(25)]="RichText"})(It||(It={}));var Ft;(function(r){r[r.Combo=Lt(17)]="Combo",r[r.Edit=Lt(18)]="Edit",r[r.Sort=Lt(19)]="Sort",r[r.MultiSelect=Lt(21)]="MultiSelect",r[r.DoNotSpellCheck=Lt(22)]="DoNotSpellCheck",r[r.CommitOnSelChange=Lt(26)]="CommitOnSelChange"})(Ft||(Ft={}));var _o=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setValues=function(e){if(this.hasFlag(Ft.Combo)&&!this.hasFlag(Ft.Edit)&&!this.valuesAreValid(e))throw new Ei;if(e.length===0&&this.dict.delete(g.of("V")),e.length===1&&this.dict.set(g.of("V"),e[0]),e.length>1){if(!this.hasFlag(Ft.MultiSelect))throw new js;this.dict.set(g.of("V"),this.dict.context.obj(e))}this.updateSelectedIndices(e)},t.prototype.valuesAreValid=function(e){for(var n=this.getOptions(),i=function(u,c){var l=e[u].decodeText();if(!n.find(function(v){return l===(v.display||v.value).decodeText()}))return{value:!1}},a=0,o=e.length;a<o;a++){var s=i(a);if(typeof s=="object")return s.value}return!0},t.prototype.updateSelectedIndices=function(e){if(e.length>1){for(var n=new Array(e.length),i=this.getOptions(),a=function(u,c){var l=e[u].decodeText();n[u]=i.findIndex(function(v){return l===(v.display||v.value).decodeText()})},o=0,s=e.length;o<s;o++)a(o,s);this.dict.set(g.of("I"),this.dict.context.obj(n.sort()))}else this.dict.delete(g.of("I"))},t.prototype.getValues=function(){var e=this.V();if(e instanceof kt||e instanceof et)return[e];if(e instanceof _t){for(var n=[],i=0,a=e.size();i<a;i++){var o=e.lookup(i);(o instanceof kt||o instanceof et)&&n.push(o)}return n}return[]},t.prototype.Opt=function(){return this.dict.lookupMaybe(g.of("Opt"),kt,et,_t)},t.prototype.setOptions=function(e){for(var n=new Array(e.length),i=0,a=e.length;i<a;i++){var o=e[i],s=o.value,u=o.display;n[i]=this.dict.context.obj([s,u||s])}this.dict.set(g.of("Opt"),this.dict.context.obj(n))},t.prototype.getOptions=function(){var e=this.Opt();if(e instanceof kt||e instanceof et)return[{value:e,display:e}];if(e instanceof _t){for(var n=[],i=0,a=e.size();i<a;i++){var o=e.lookup(i);if((o instanceof kt||o instanceof et)&&n.push({value:o,display:o}),o instanceof _t&&o.size()>0){var s=o.lookup(0,kt,et),u=o.lookupMaybe(1,kt,et);n.push({value:s,display:u||s})}}return n}return[]},t})(Or),Xn=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Ch",Ff:Ft.Combo,Kids:[]}),i=e.register(n);return new t(n,i)},t})(_o),In=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.addField=function(e){var n=this.normalizedEntries().Kids;n==null||n.push(e)},t.prototype.normalizedEntries=function(){var e=this.Kids();return e||(e=this.dict.context.obj([]),this.dict.set(g.of("Kids"),e)),{Kids:e}},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({}),i=e.register(n);return new t(n,i)},t})(So),Mi=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.fromDict=function(e,n){return new t(e,n)},t})(Or),qn=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.MaxLen=function(){var e=this.dict.lookup(g.of("MaxLen"));if(e instanceof it)return e},t.prototype.Q=function(){var e=this.dict.lookup(g.of("Q"));if(e instanceof it)return e},t.prototype.setMaxLength=function(e){this.dict.set(g.of("MaxLen"),it.of(e))},t.prototype.removeMaxLength=function(){this.dict.delete(g.of("MaxLen"))},t.prototype.getMaxLength=function(){var e;return(e=this.MaxLen())===null||e===void 0?void 0:e.asNumber()},t.prototype.setQuadding=function(e){this.dict.set(g.of("Q"),it.of(e))},t.prototype.getQuadding=function(){var e;return(e=this.Q())===null||e===void 0?void 0:e.asNumber()},t.prototype.setValue=function(e){this.dict.set(g.of("V"),e)},t.prototype.removeValue=function(){this.dict.delete(g.of("V"))},t.prototype.getValue=function(){var e=this.V();if(e instanceof kt||e instanceof et)return e},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Tx",Kids:[]}),i=e.register(n);return new t(n,i)},t})(Or),Yn=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Ff:Fe.PushButton,Kids:[]}),i=e.register(n);return new t(n,i)},t})(ji),Jn=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.setValue=function(e){var n=this.getOnValues();if(!n.includes(e)&&e!==g.of("Off"))throw new Ei;this.dict.set(g.of("V"),e);for(var i=this.getWidgets(),a=0,o=i.length;a<o;a++){var s=i[a],u=s.getOnValue()===e?e:g.of("Off");s.setAppearanceState(u)}},t.prototype.getValue=function(){var e=this.V();return e instanceof g?e:g.of("Off")},t.prototype.getOnValues=function(){for(var e=this.getWidgets(),n=[],i=0,a=e.length;i<a;i++){var o=e[i].getOnValue();o&&n.push(o)}return n},t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Btn",Ff:Fe.Radio,Kids:[]}),i=e.register(n);return new t(n,i)},t})(ji),Qn=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.fromDict=function(e,n){return new t(e,n)},t.create=function(e){var n=e.obj({FT:"Ch",Kids:[]}),i=e.register(n);return new t(n,i)},t})(_o),Wi=function(r){if(!r)return[];for(var t=[],e=0,n=r.size();e<n;e++){var i=r.get(e),a=r.lookup(e);i instanceof At&&a instanceof ct&&t.push([Fo(a,i),i])}return t},Fo=function(r,t){var e=Mu(r);return e?In.fromDict(r,t):Wu(r,t)},Mu=function(r){var t=r.lookup(g.of("Kids"));if(t instanceof _t)for(var e=0,n=t.size();e<n;e++){var i=t.lookup(e),a=i instanceof ct&&i.has(g.of("T"));if(a)return!0}return!1},Wu=function(r,t){var e=Li(r,g.of("FT")),n=r.context.lookup(e,g);return n===g.of("Btn")?Lu(r,t):n===g.of("Ch")?Uu(r,t):n===g.of("Tx")?qn.fromDict(r,t):n===g.of("Sig")?Mi.fromDict(r,t):Or.fromDict(r,t)},Lu=function(r,t){var e,n=Li(r,g.of("Ff")),i=r.context.lookupMaybe(n,it),a=(e=i==null?void 0:i.asNumber())!==null&&e!==void 0?e:0;return Fi(a,Fe.PushButton)?Yn.fromDict(r,t):Fi(a,Fe.Radio)?Jn.fromDict(r,t):Vn.fromDict(r,t)},Uu=function(r,t){var e,n=Li(r,g.of("Ff")),i=r.context.lookupMaybe(n,it),a=(e=i==null?void 0:i.asNumber())!==null&&e!==void 0?e:0;return Fi(a,Ft.Combo)?Xn.fromDict(r,t):Qn.fromDict(r,t)},Fi=function(r,t){return(r&t)!==0},Li=function(r,t){var e;return ko(r,function(n){e||(e=n.get(t))}),e},ko=function(r,t){t(r);var e=r.lookupMaybe(g.of("Parent"),ct);e&&ko(e,t)},zn=(function(){function r(t){this.dict=t}return r.prototype.Fields=function(){var t=this.dict.lookup(g.of("Fields"));if(t instanceof _t)return t},r.prototype.getFields=function(){for(var t=this.normalizedEntries().Fields,e=new Array(t.size()),n=0,i=t.size();n<i;n++){var a=t.get(n),o=t.lookup(n,ct);e[n]=[Fo(o,a),a]}return e},r.prototype.getAllFields=function(){var t=[],e=function(n){if(n)for(var i=0,a=n.length;i<a;i++){var o=n[i];t.push(o);var s=o[0];s instanceof In&&e(Wi(s.Kids()))}};return e(this.getFields()),t},r.prototype.addField=function(t){var e=this.normalizedEntries().Fields;e==null||e.push(t)},r.prototype.removeField=function(t){var e=t.getParent(),n=e===void 0?this.normalizedEntries().Fields:e.Kids(),i=n==null?void 0:n.indexOf(t.ref);if(n===void 0||i===void 0)throw new Error("Tried to remove inexistent field "+t.getFullyQualifiedName());n.remove(i),e!==void 0&&n.size()===0&&this.removeField(e)},r.prototype.normalizedEntries=function(){var t=this.Fields();return t||(t=this.dict.context.obj([]),this.dict.set(g.of("Fields"),t)),{Fields:t}},r.fromDict=function(t){return new r(t)},r.create=function(t){var e=t.obj({Fields:[]});return new r(e)},r})(),Ao=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.Pages=function(){return this.lookup(g.of("Pages"),ct)},t.prototype.AcroForm=function(){return this.lookupMaybe(g.of("AcroForm"),ct)},t.prototype.getAcroForm=function(){var e=this.AcroForm();if(e)return zn.fromDict(e)},t.prototype.getOrCreateAcroForm=function(){var e=this.getAcroForm();if(!e){e=zn.create(this.context);var n=this.context.register(e.dict);this.set(g.of("AcroForm"),n)}return e},t.prototype.ViewerPreferences=function(){return this.lookupMaybe(g.of("ViewerPreferences"),ct)},t.prototype.getViewerPreferences=function(){var e=this.ViewerPreferences();if(e)return Ra.fromDict(e)},t.prototype.getOrCreateViewerPreferences=function(){var e=this.getViewerPreferences();if(!e){e=Ra.create(this.context);var n=this.context.register(e.dict);this.set(g.of("ViewerPreferences"),n)}return e},t.prototype.insertLeafNode=function(e,n){var i=this.get(g.of("Pages")),a=this.Pages().insertLeafNode(e,n);return a||i},t.prototype.removeLeafNode=function(e){this.Pages().removeLeafNode(e)},t.withContextAndPages=function(e,n){var i=new Map;return i.set(g.of("Type"),g.of("Catalog")),i.set(g.of("Pages"),n),new t(i,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t})(ct),Co=(function(r){L(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.Parent=function(){return this.lookup(g.of("Parent"))},t.prototype.Kids=function(){return this.lookup(g.of("Kids"),_t)},t.prototype.Count=function(){return this.lookup(g.of("Count"),it)},t.prototype.pushTreeNode=function(e){var n=this.Kids();n.push(e)},t.prototype.pushLeafNode=function(e){var n=this.Kids();this.insertLeafKid(n.size(),e)},t.prototype.insertLeafNode=function(e,n){var i=this.Kids(),a=this.Count().asNumber();if(n>a)throw new aa(n,a);for(var o=n,s=0,u=i.size();s<u;s++){if(o===0){this.insertLeafKid(s,e);return}var c=i.get(s),l=this.context.lookup(c);if(l instanceof t){if(l.Count().asNumber()>o)return l.insertLeafNode(e,o)||c;o-=l.Count().asNumber()}l instanceof Ge&&(o-=1)}if(o===0){this.insertLeafKid(i.size(),e);return}throw new oa(n,"insertLeafNode")},t.prototype.removeLeafNode=function(e,n){n===void 0&&(n=!0);var i=this.Kids(),a=this.Count().asNumber();if(e>=a)throw new aa(e,a);for(var o=e,s=0,u=i.size();s<u;s++){var c=i.get(s),l=this.context.lookup(c);if(l instanceof t)if(l.Count().asNumber()>o){l.removeLeafNode(o,n),n&&l.Kids().size()===0&&i.remove(s);return}else o-=l.Count().asNumber();if(l instanceof Ge)if(o===0){this.removeKid(s);return}else o-=1}throw new oa(e,"removeLeafNode")},t.prototype.ascend=function(e){e(this);var n=this.Parent();n&&n.ascend(e)},t.prototype.traverse=function(e){for(var n=this.Kids(),i=0,a=n.size();i<a;i++){var o=n.get(i),s=this.context.lookup(o);s instanceof t&&s.traverse(e),e(s,o)}},t.prototype.insertLeafKid=function(e,n){var i=this.Kids();this.ascend(function(a){var o=a.Count().asNumber()+1;a.set(g.of("Count"),it.of(o))}),i.insert(e,n)},t.prototype.removeKid=function(e){var n=this.Kids(),i=n.lookup(e);i instanceof Ge&&this.ascend(function(a){var o=a.Count().asNumber()-1;a.set(g.of("Count"),it.of(o))}),n.remove(e)},t.withContext=function(e,n){var i=new Map;return i.set(g.of("Type"),g.of("Pages")),i.set(g.of("Kids"),e.obj([])),i.set(g.of("Count"),e.obj(0)),n&&i.set(g.of("Parent"),n),new t(i,e)},t.fromMapWithContext=function(e,n){return new t(e,n)},t})(ct),re=new Uint8Array(256);re[y.Zero]=1;re[y.One]=1;re[y.Two]=1;re[y.Three]=1;re[y.Four]=1;re[y.Five]=1;re[y.Six]=1;re[y.Seven]=1;re[y.Eight]=1;re[y.Nine]=1;var $n=new Uint8Array(256);$n[y.Period]=1;$n[y.Plus]=1;$n[y.Minus]=1;var Ui=new Uint8Array(256);for(var Wr=0,Ku=256;Wr<Ku;Wr++)Ui[Wr]=re[Wr]||$n[Wr]?1:0;var Ia=y.Newline,za=y.CarriageReturn,Hu=(function(){function r(t,e){e===void 0&&(e=!1),this.bytes=t,this.capNumbers=e}return r.prototype.parseRawInt=function(){for(var t="";!this.bytes.done();){var e=this.bytes.peek();if(!re[e])break;t+=Ke(this.bytes.next())}var n=Number(t);if(!t||!isFinite(n))throw new sa(this.bytes.position(),t);return n},r.prototype.parseRawNumber=function(){for(var t="";!this.bytes.done();){var e=this.bytes.peek();if(!Ui[e]||(t+=Ke(this.bytes.next()),e===y.Period))break}for(;!this.bytes.done();){var e=this.bytes.peek();if(!re[e])break;t+=Ke(this.bytes.next())}var n=Number(t);if(!t||!isFinite(n))throw new sa(this.bytes.position(),t);if(n>Number.MAX_SAFE_INTEGER)if(this.capNumbers){var i="Parsed number that is too large for some PDF readers: "+t+", using Number.MAX_SAFE_INTEGER instead.";return console.warn(i),Number.MAX_SAFE_INTEGER}else{var i="Parsed number that is too large for some PDF readers: "+t+", not capping.";console.warn(i)}return n},r.prototype.skipWhitespace=function(){for(;!this.bytes.done()&&Ze[this.bytes.peek()];)this.bytes.next()},r.prototype.skipLine=function(){for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Ia||t===za)return;this.bytes.next()}},r.prototype.skipComment=function(){if(this.bytes.peek()!==y.Percent)return!1;for(;!this.bytes.done();){var t=this.bytes.peek();if(t===Ia||t===za)return!0;this.bytes.next()}return!0},r.prototype.skipWhitespaceAndComments=function(){for(this.skipWhitespace();this.skipComment();)this.skipWhitespace()},r.prototype.matchKeyword=function(t){for(var e=this.bytes.offset(),n=0,i=t.length;n<i;n++)if(this.bytes.done()||this.bytes.next()!==t[n])return this.bytes.moveTo(e),!1;return!0},r})(),ti=(function(){function r(t){this.idx=0,this.line=0,this.column=0,this.bytes=t,this.length=this.bytes.length}return r.prototype.moveTo=function(t){this.idx=t},r.prototype.next=function(){var t=this.bytes[this.idx++];return t===y.Newline?(this.line+=1,this.column=0):this.column+=1,t},r.prototype.assertNext=function(t){if(this.peek()!==t)throw new Ls(this.position(),t,this.peek());return this.next()},r.prototype.peek=function(){return this.bytes[this.idx]},r.prototype.peekAhead=function(t){return this.bytes[this.idx+t]},r.prototype.peekAt=function(t){return this.bytes[t]},r.prototype.done=function(){return this.idx>=this.length},r.prototype.offset=function(){return this.idx},r.prototype.slice=function(t,e){return this.bytes.slice(t,e)},r.prototype.position=function(){return{line:this.line,column:this.column,offset:this.idx}},r.of=function(t){return new r(t)},r.fromPDFRawStream=function(t){return r.of(xo(t).decode())},r})(),Gu=y.Space,Lr=y.CarriageReturn,Ur=y.Newline,Kr=[y.s,y.t,y.r,y.e,y.a,y.m],mn=[y.e,y.n,y.d,y.s,y.t,y.r,y.e,y.a,y.m],Ot={header:[y.Percent,y.P,y.D,y.F,y.Dash],eof:[y.Percent,y.Percent,y.E,y.O,y.F],obj:[y.o,y.b,y.j],endobj:[y.e,y.n,y.d,y.o,y.b,y.j],xref:[y.x,y.r,y.e,y.f],trailer:[y.t,y.r,y.a,y.i,y.l,y.e,y.r],startxref:[y.s,y.t,y.a,y.r,y.t,y.x,y.r,y.e,y.f],true:[y.t,y.r,y.u,y.e],false:[y.f,y.a,y.l,y.s,y.e],null:[y.n,y.u,y.l,y.l],stream:Kr,streamEOF1:mt(Kr,[Gu,Lr,Ur]),streamEOF2:mt(Kr,[Lr,Ur]),streamEOF3:mt(Kr,[Lr]),streamEOF4:mt(Kr,[Ur]),endstream:mn,EOF1endstream:mt([Lr,Ur],mn),EOF2endstream:mt([Lr],mn),EOF3endstream:mt([Ur],mn)},Do=(function(r){L(t,r);function t(e,n,i){i===void 0&&(i=!1);var a=r.call(this,e,i)||this;return a.context=n,a}return t.prototype.parseObject=function(){if(this.skipWhitespaceAndComments(),this.matchKeyword(Ot.true))return tn.True;if(this.matchKeyword(Ot.false))return tn.False;if(this.matchKeyword(Ot.null))return ue;var e=this.bytes.peek();if(e===y.LessThan&&this.bytes.peekAhead(1)===y.LessThan)return this.parseDictOrStream();if(e===y.LessThan)return this.parseHexString();if(e===y.LeftParen)return this.parseString();if(e===y.ForwardSlash)return this.parseName();if(e===y.LeftSquareBracket)return this.parseArray();if(Ui[e])return this.parseNumberOrRef();throw new Us(this.bytes.position(),e)},t.prototype.parseNumberOrRef=function(){var e=this.parseRawNumber();this.skipWhitespaceAndComments();var n=this.bytes.offset();if(re[this.bytes.peek()]){var i=this.parseRawNumber();if(this.skipWhitespaceAndComments(),this.bytes.peek()===y.R)return this.bytes.assertNext(y.R),At.of(e,i)}return this.bytes.moveTo(n),it.of(e)},t.prototype.parseHexString=function(){var e="";for(this.bytes.assertNext(y.LessThan);!this.bytes.done()&&this.bytes.peek()!==y.GreaterThan;)e+=Ke(this.bytes.next());return this.bytes.assertNext(y.GreaterThan),et.of(e)},t.prototype.parseString=function(){for(var e=0,n=!1,i="";!this.bytes.done();){var a=this.bytes.next();if(i+=Ke(a),n||(a===y.LeftParen&&(e+=1),a===y.RightParen&&(e-=1)),a===y.BackSlash?n=!n:n&&(n=!1),e===0)return kt.of(i.substring(1,i.length-1))}throw new Gs(this.bytes.position())},t.prototype.parseName=function(){this.bytes.assertNext(y.ForwardSlash);for(var e="";!this.bytes.done();){var n=this.bytes.peek();if(Ze[n]||Be[n])break;e+=Ke(n),this.bytes.next()}return g.of(e)},t.prototype.parseArray=function(){this.bytes.assertNext(y.LeftSquareBracket),this.skipWhitespaceAndComments();for(var e=_t.withContext(this.context);this.bytes.peek()!==y.RightSquareBracket;){var n=this.parseObject();e.push(n),this.skipWhitespaceAndComments()}return this.bytes.assertNext(y.RightSquareBracket),e},t.prototype.parseDict=function(){this.bytes.assertNext(y.LessThan),this.bytes.assertNext(y.LessThan),this.skipWhitespaceAndComments();for(var e=new Map;!this.bytes.done()&&this.bytes.peek()!==y.GreaterThan&&this.bytes.peekAhead(1)!==y.GreaterThan;){var n=this.parseName(),i=this.parseObject();e.set(n,i),this.skipWhitespaceAndComments()}this.skipWhitespaceAndComments(),this.bytes.assertNext(y.GreaterThan),this.bytes.assertNext(y.GreaterThan);var a=e.get(g.of("Type"));return a===g.of("Catalog")?Ao.fromMapWithContext(e,this.context):a===g.of("Pages")?Co.fromMapWithContext(e,this.context):a===g.of("Page")?Ge.fromMapWithContext(e,this.context):ct.fromMapWithContext(e,this.context)},t.prototype.parseDictOrStream=function(){var e=this.bytes.position(),n=this.parseDict();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Ot.streamEOF1)&&!this.matchKeyword(Ot.streamEOF2)&&!this.matchKeyword(Ot.streamEOF3)&&!this.matchKeyword(Ot.streamEOF4)&&!this.matchKeyword(Ot.stream))return n;var i=this.bytes.offset(),a,o=n.get(g.of("Length"));o instanceof it?(a=i+o.asNumber(),this.bytes.moveTo(a),this.skipWhitespaceAndComments(),this.matchKeyword(Ot.endstream)||(this.bytes.moveTo(i),a=this.findEndOfStreamFallback(e))):a=this.findEndOfStreamFallback(e);var s=this.bytes.slice(i,a);return en.of(n,s)},t.prototype.findEndOfStreamFallback=function(e){for(var n=1,i=this.bytes.offset();!this.bytes.done()&&(i=this.bytes.offset(),this.matchKeyword(Ot.stream)?n+=1:this.matchKeyword(Ot.EOF1endstream)||this.matchKeyword(Ot.EOF2endstream)||this.matchKeyword(Ot.EOF3endstream)||this.matchKeyword(Ot.endstream)?n-=1:this.bytes.next(),n!==0););if(n!==0)throw new Hs(e);return i},t.forBytes=function(e,n,i){return new t(ti.of(e),n,i)},t.forByteStream=function(e,n,i){return i===void 0&&(i=!1),new t(e,n,i)},t})(Hu),Zu=(function(r){L(t,r);function t(e,n){var i=r.call(this,ti.fromPDFRawStream(e),e.dict.context)||this,a=e.dict;return i.alreadyParsed=!1,i.shouldWaitForTick=n||(function(){return!1}),i.firstOffset=a.lookup(g.of("First"),it).asNumber(),i.objectCount=a.lookup(g.of("N"),it).asNumber(),i}return t.prototype.parseIntoContext=function(){return lt(this,void 0,void 0,function(){var e,n,i,a,o,s,u,c;return ht(this,function(l){switch(l.label){case 0:if(this.alreadyParsed)throw new Ti("PDFObjectStreamParser","parseIntoContext");this.alreadyParsed=!0,e=this.parseOffsetsAndObjectNumbers(),n=0,i=e.length,l.label=1;case 1:return n<i?(a=e[n],o=a.objectNumber,s=a.offset,this.bytes.moveTo(this.firstOffset+s),u=this.parseObject(),c=At.of(o,0),this.context.assign(c,u),this.shouldWaitForTick()?[4,Tr()]:[3,3]):[3,4];case 2:l.sent(),l.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},t.prototype.parseOffsetsAndObjectNumbers=function(){for(var e=[],n=0,i=this.objectCount;n<i;n++){this.skipWhitespaceAndComments();var a=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.parseRawInt();e.push({objectNumber:a,offset:o})}return e},t.forStream=function(e,n){return new t(e,n)},t})(Do),Vu=(function(){function r(t){this.alreadyParsed=!1,this.dict=t.dict,this.bytes=ti.fromPDFRawStream(t),this.context=this.dict.context;var e=this.dict.lookup(g.of("Size"),it),n=this.dict.lookup(g.of("Index"));if(n instanceof _t){this.subsections=[];for(var i=0,a=n.size();i<a;i+=2){var o=n.lookup(i+0,it).asNumber(),s=n.lookup(i+1,it).asNumber();this.subsections.push({firstObjectNumber:o,length:s})}}else this.subsections=[{firstObjectNumber:0,length:e.asNumber()}];var u=this.dict.lookup(g.of("W"),_t);this.byteWidths=[-1,-1,-1];for(var i=0,a=u.size();i<a;i++)this.byteWidths[i]=u.lookup(i,it).asNumber()}return r.prototype.parseIntoContext=function(){if(this.alreadyParsed)throw new Ti("PDFXRefStreamParser","parseIntoContext");this.alreadyParsed=!0,this.context.trailerInfo={Root:this.dict.get(g.of("Root")),Encrypt:this.dict.get(g.of("Encrypt")),Info:this.dict.get(g.of("Info")),ID:this.dict.get(g.of("ID"))};var t=this.parseEntries();return t},r.prototype.parseEntries=function(){for(var t=[],e=this.byteWidths,n=e[0],i=e[1],a=e[2],o=0,s=this.subsections.length;o<s;o++)for(var u=this.subsections[o],c=u.firstObjectNumber,l=u.length,v=0;v<l;v++){for(var b=0,m=0,w=n;m<w;m++)b=b<<8|this.bytes.next();for(var F=0,m=0,w=i;m<w;m++)F=F<<8|this.bytes.next();for(var C=0,m=0,w=a;m<w;m++)C=C<<8|this.bytes.next();n===0&&(b=1);var k=c+v,B={ref:At.of(k,C),offset:F,deleted:b===0,inObjectStream:b===2};t.push(B)}return t},r.forStream=function(t){return new r(t)},r})(),Xu=(function(r){L(t,r);function t(e,n,i,a){n===void 0&&(n=1/0),i===void 0&&(i=!1),a===void 0&&(a=!1);var o=r.call(this,ti.of(e),wi.create(),a)||this;return o.alreadyParsed=!1,o.parsedObjects=0,o.shouldWaitForTick=function(){return o.parsedObjects+=1,o.parsedObjects%o.objectsPerTick===0},o.objectsPerTick=n,o.throwOnInvalidObject=i,o}return t.prototype.parseDocument=function(){return lt(this,void 0,void 0,function(){var e,n;return ht(this,function(i){switch(i.label){case 0:if(this.alreadyParsed)throw new Ti("PDFParser","parseDocument");this.alreadyParsed=!0,this.context.header=this.parseHeader(),i.label=1;case 1:return this.bytes.done()?[3,3]:[4,this.parseDocumentSection()];case 2:if(i.sent(),n=this.bytes.offset(),n===e)throw new Zs(this.bytes.position());return e=n,[3,1];case 3:return this.maybeRecoverRoot(),this.context.lookup(At.of(0))&&(console.warn("Removing parsed object: 0 0 R"),this.context.delete(At.of(0))),[2,this.context]}})})},t.prototype.maybeRecoverRoot=function(){var e=function(l){return l instanceof ct&&l.lookup(g.of("Type"))===g.of("Catalog")},n=this.context.lookup(this.context.trailerInfo.Root);if(!e(n))for(var i=this.context.enumerateIndirectObjects(),a=0,o=i.length;a<o;a++){var s=i[a],u=s[0],c=s[1];e(c)&&(this.context.trailerInfo.Root=u)}},t.prototype.parseHeader=function(){for(;!this.bytes.done();){if(this.matchKeyword(Ot.header)){var e=this.parseRawInt();this.bytes.assertNext(y.Period);var n=this.parseRawInt(),i=Zn.forVersion(e,n);return this.skipBinaryHeaderComment(),i}this.bytes.next()}throw new Vs(this.bytes.position())},t.prototype.parseIndirectObjectHeader=function(){this.skipWhitespaceAndComments();var e=this.parseRawInt();this.skipWhitespaceAndComments();var n=this.parseRawInt();if(this.skipWhitespaceAndComments(),!this.matchKeyword(Ot.obj))throw new Xs(this.bytes.position(),Ot.obj);return At.of(e,n)},t.prototype.matchIndirectObjectHeader=function(){var e=this.bytes.offset();try{return this.parseIndirectObjectHeader(),!0}catch{return this.bytes.moveTo(e),!1}},t.prototype.parseIndirectObject=function(){return lt(this,void 0,void 0,function(){var e,n;return ht(this,function(i){switch(i.label){case 0:return e=this.parseIndirectObjectHeader(),this.skipWhitespaceAndComments(),n=this.parseObject(),this.skipWhitespaceAndComments(),this.matchKeyword(Ot.endobj),n instanceof en&&n.dict.lookup(g.of("Type"))===g.of("ObjStm")?[4,Zu.forStream(n,this.shouldWaitForTick).parseIntoContext()]:[3,2];case 1:return i.sent(),[3,3];case 2:n instanceof en&&n.dict.lookup(g.of("Type"))===g.of("XRef")?Vu.forStream(n).parseIntoContext():this.context.assign(e,n),i.label=3;case 3:return[2,e]}})})},t.prototype.tryToParseInvalidIndirectObject=function(){var e=this.bytes.position(),n="Trying to parse invalid object: "+JSON.stringify(e)+")";if(this.throwOnInvalidObject)throw new Error(n);console.warn(n);var i=this.parseIndirectObjectHeader();console.warn("Invalid object ref: "+i),this.skipWhitespaceAndComments();for(var a=this.bytes.offset(),o=!0;!this.bytes.done()&&(this.matchKeyword(Ot.endobj)&&(o=!1),!!o);)this.bytes.next();if(o)throw new Ks(e);var s=this.bytes.offset()-Ot.endobj.length,u=go.of(this.bytes.slice(a,s));return this.context.assign(i,u),i},t.prototype.parseIndirectObjects=function(){return lt(this,void 0,void 0,function(){var e;return ht(this,function(n){switch(n.label){case 0:this.skipWhitespaceAndComments(),n.label=1;case 1:if(!(!this.bytes.done()&&re[this.bytes.peek()]))return[3,8];e=this.bytes.offset(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.parseIndirectObject()];case 3:return n.sent(),[3,5];case 4:return n.sent(),this.bytes.moveTo(e),this.tryToParseInvalidIndirectObject(),[3,5];case 5:return this.skipWhitespaceAndComments(),this.skipJibberish(),this.shouldWaitForTick()?[4,Tr()]:[3,7];case 6:n.sent(),n.label=7;case 7:return[3,1];case 8:return[2]}})})},t.prototype.maybeParseCrossRefSection=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Ot.xref)){this.skipWhitespaceAndComments();for(var e=-1,n=ho.createEmpty();!this.bytes.done()&&re[this.bytes.peek()];){var i=this.parseRawInt();this.skipWhitespaceAndComments();var a=this.parseRawInt();this.skipWhitespaceAndComments();var o=this.bytes.peek();if(o===y.n||o===y.f){var s=At.of(e,a);this.bytes.next()===y.n?n.addEntry(s,i):n.addDeletedEntry(s,i),e+=1}else e=i;this.skipWhitespaceAndComments()}return n}},t.prototype.maybeParseTrailerDict=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Ot.trailer)){this.skipWhitespaceAndComments();var e=this.parseDict(),n=this.context;n.trailerInfo={Root:e.get(g.of("Root"))||n.trailerInfo.Root,Encrypt:e.get(g.of("Encrypt"))||n.trailerInfo.Encrypt,Info:e.get(g.of("Info"))||n.trailerInfo.Info,ID:e.get(g.of("ID"))||n.trailerInfo.ID}}},t.prototype.maybeParseTrailer=function(){if(this.skipWhitespaceAndComments(),!!this.matchKeyword(Ot.startxref)){this.skipWhitespaceAndComments();var e=this.parseRawInt();return this.skipWhitespace(),this.matchKeyword(Ot.eof),this.skipWhitespaceAndComments(),this.matchKeyword(Ot.eof),this.skipWhitespaceAndComments(),zi.forLastCrossRefSectionOffset(e)}},t.prototype.parseDocumentSection=function(){return lt(this,void 0,void 0,function(){return ht(this,function(e){switch(e.label){case 0:return[4,this.parseIndirectObjects()];case 1:return e.sent(),this.maybeParseCrossRefSection(),this.maybeParseTrailerDict(),this.maybeParseTrailer(),this.skipJibberish(),[2]}})})},t.prototype.skipJibberish=function(){for(this.skipWhitespaceAndComments();!this.bytes.done();){var e=this.bytes.offset(),n=this.bytes.peek(),i=n>=y.Space&&n<=y.Tilde;if(i&&(this.matchKeyword(Ot.xref)||this.matchKeyword(Ot.trailer)||this.matchKeyword(Ot.startxref)||this.matchIndirectObjectHeader())){this.bytes.moveTo(e);break}this.bytes.next()}},t.prototype.skipBinaryHeaderComment=function(){this.skipWhitespaceAndComments();try{var e=this.bytes.offset();this.parseIndirectObjectHeader(),this.bytes.moveTo(e)}catch{this.bytes.next(),this.skipWhitespaceAndComments()}},t.forBytesWithOptions=function(e,n,i,a){return new t(e,n,i,a)},t})(Do),je=function(r){return 1<<r},$r;(function(r){r[r.Invisible=je(0)]="Invisible",r[r.Hidden=je(1)]="Hidden",r[r.Print=je(2)]="Print",r[r.NoZoom=je(3)]="NoZoom",r[r.NoRotate=je(4)]="NoRotate",r[r.NoView=je(5)]="NoView",r[r.ReadOnly=je(6)]="ReadOnly",r[r.Locked=je(7)]="Locked",r[r.ToggleNoView=je(8)]="ToggleNoView",r[r.LockedContents=je(9)]="LockedContents"})($r||($r={}));var ei=function(r){return r instanceof g?r:g.of(r)},at=function(r){return r instanceof it?r:it.of(r)},dt=function(r){return r instanceof it?r.asNumber():r},rn;(function(r){r.Degrees="degrees",r.Radians="radians"})(rn||(rn={}));var nt=function(r){return _(r,"degreeAngle",["number"]),{type:rn.Degrees,angle:r}},Po=rn.Radians,Bo=rn.Degrees,To=function(r){return r*Math.PI/180},qu=function(r){return r*180/Math.PI},Qt=function(r){return r.type===Po?r.angle:r.type===Bo?To(r.angle):sn("Invalid rotation: "+JSON.stringify(r))},Eo=function(r){return r.type===Po?qu(r.angle):r.type===Bo?r.angle:sn("Invalid rotation: "+JSON.stringify(r))},Ve=function(r){r===void 0&&(r=0);var t=r/90%4;return t===0?0:t===1?90:t===2?180:t===3?270:0},vr=function(r,t){t===void 0&&(t=0);var e=Ve(t);return e===90||e===270?{width:r.height,height:r.width}:{width:r.width,height:r.height}},Yu=function(r,t,e){t===void 0&&(t=0),e===void 0&&(e=0);var n=r.x,i=r.y,a=r.width,o=r.height,s=Ve(e),u=t/2;return s===0?{x:n-u,y:i-u,width:a,height:o}:s===90?{x:n-o+u,y:i-u,width:o,height:a}:s===180?{x:n-a+u,y:i-o+u,width:a,height:o}:s===270?{x:n-u,y:i-a+u,width:o,height:a}:{x:n-u,y:i-u,width:a,height:o}},Oo=function(){return bt.of(pt.ClipNonZero)},Nn=Math.cos,jn=Math.sin,Mn=Math.tan,ri=function(r,t,e,n,i,a){return bt.of(pt.ConcatTransformationMatrix,[at(r),at(t),at(e),at(n),at(i),at(a)])},Ce=function(r,t){return ri(1,0,0,1,r,t)},nn=function(r,t){return ri(r,0,0,t,0,0)},Rr=function(r){return ri(Nn(dt(r)),jn(dt(r)),-jn(dt(r)),Nn(dt(r)),0,0)},xn=function(r){return Rr(To(dt(r)))},Ki=function(r,t){return ri(1,Mn(dt(r)),Mn(dt(t)),1,0,0)},ni=function(r,t){return bt.of(pt.SetLineDashPattern,["["+r.map(at).join(" ")+"]",at(t)])},Pr;(function(r){r[r.Butt=0]="Butt",r[r.Round=1]="Round",r[r.Projecting=2]="Projecting"})(Pr||(Pr={}));var ii=function(r){return bt.of(pt.SetLineCapStyle,[at(r)])},Na;(function(r){r[r.Miter=0]="Miter",r[r.Round=1]="Round",r[r.Bevel=2]="Bevel"})(Na||(Na={}));var pr=function(r){return bt.of(pt.SetGraphicsStateParams,[ei(r)])},Gt=function(){return bt.of(pt.PushGraphicsState)},Zt=function(){return bt.of(pt.PopGraphicsState)},fn=function(r){return bt.of(pt.SetLineWidth,[at(r)])},he=function(r,t,e,n,i,a){return bt.of(pt.AppendBezierCurve,[at(r),at(t),at(e),at(n),at(i),at(a)])},wn=function(r,t,e,n){return bt.of(pt.CurveToReplicateInitialPoint,[at(r),at(t),at(e),at(n)])},rr=function(){return bt.of(pt.ClosePath)},Me=function(r,t){return bt.of(pt.MoveTo,[at(r),at(t)])},Xt=function(r,t){return bt.of(pt.LineTo,[at(r),at(t)])},cn=function(){return bt.of(pt.StrokePath)},Hi=function(){return bt.of(pt.FillNonZero)},Gi=function(){return bt.of(pt.FillNonZeroAndStroke)},Ro=function(){return bt.of(pt.EndPath)},Ju=function(){return bt.of(pt.NextLine)},Io=function(r){return bt.of(pt.ShowText,[r])},zo=function(){return bt.of(pt.BeginText)},No=function(){return bt.of(pt.EndText)},Zi=function(r,t){return bt.of(pt.SetFontAndSize,[ei(r),at(t)])},Qu=function(r){return bt.of(pt.SetTextLineHeight,[at(r)])},ja;(function(r){r[r.Fill=0]="Fill",r[r.Outline=1]="Outline",r[r.FillAndOutline=2]="FillAndOutline",r[r.Invisible=3]="Invisible",r[r.FillAndClip=4]="FillAndClip",r[r.OutlineAndClip=5]="OutlineAndClip",r[r.FillAndOutlineAndClip=6]="FillAndOutlineAndClip",r[r.Clip=7]="Clip"})(ja||(ja={}));var $u=function(r,t,e,n,i,a){return bt.of(pt.SetTextMatrix,[at(r),at(t),at(e),at(n),at(i),at(a)])},jo=function(r,t,e,n,i){return $u(Nn(dt(r)),jn(dt(r))+Mn(dt(t)),-jn(dt(r))+Mn(dt(e)),Nn(dt(r)),n,i)},Vi=function(r){return bt.of(pt.DrawObject,[ei(r)])},tf=function(r){return bt.of(pt.NonStrokingColorGray,[at(r)])},ef=function(r){return bt.of(pt.StrokingColorGray,[at(r)])},rf=function(r,t,e){return bt.of(pt.NonStrokingColorRgb,[at(r),at(t),at(e)])},nf=function(r,t,e){return bt.of(pt.StrokingColorRgb,[at(r),at(t),at(e)])},af=function(r,t,e,n){return bt.of(pt.NonStrokingColorCmyk,[at(r),at(t),at(e),at(n)])},of=function(r,t,e,n){return bt.of(pt.StrokingColorCmyk,[at(r),at(t),at(e),at(n)])},Mo=function(r){return bt.of(pt.BeginMarkedContent,[ei(r)])},Wo=function(){return bt.of(pt.EndMarkedContent)},nr;(function(r){r.Grayscale="Grayscale",r.RGB="RGB",r.CMYK="CMYK"})(nr||(nr={}));var Lo=function(r){return le(r,"gray",0,1),{type:nr.Grayscale,gray:r}},Ct=function(r,t,e){return le(r,"red",0,1),le(t,"green",0,1),le(e,"blue",0,1),{type:nr.RGB,red:r,green:t,blue:e}},Uo=function(r,t,e,n){return le(r,"cyan",0,1),le(t,"magenta",0,1),le(e,"yellow",0,1),le(n,"key",0,1),{type:nr.CMYK,cyan:r,magenta:t,yellow:e,key:n}},Xi=nr.Grayscale,qi=nr.RGB,Yi=nr.CMYK,gr=function(r){return r.type===Xi?tf(r.gray):r.type===qi?rf(r.red,r.green,r.blue):r.type===Yi?af(r.cyan,r.magenta,r.yellow,r.key):sn("Invalid color: "+JSON.stringify(r))},ln=function(r){return r.type===Xi?ef(r.gray):r.type===qi?nf(r.red,r.green,r.blue):r.type===Yi?of(r.cyan,r.magenta,r.yellow,r.key):sn("Invalid color: "+JSON.stringify(r))},ae=function(r,t){return t===void 0&&(t=1),(r==null?void 0:r.length)===1?Lo(r[0]*t):(r==null?void 0:r.length)===3?Ct(r[0]*t,r[1]*t,r[2]*t):(r==null?void 0:r.length)===4?Uo(r[0]*t,r[1]*t,r[2]*t,r[3]*t):void 0},Ma=function(r){return r.type===Xi?[r.gray]:r.type===qi?[r.red,r.green,r.blue]:r.type===Yi?[r.cyan,r.magenta,r.yellow,r.key]:sn("Invalid color: "+JSON.stringify(r))},Y=0,J=0,gt=0,yt=0,Gr=0,Zr=0,Wa=new Map([["A",7],["a",7],["C",6],["c",6],["H",1],["h",1],["L",2],["l",2],["M",2],["m",2],["Q",4],["q",4],["S",4],["s",4],["T",2],["t",2],["V",1],["v",1],["Z",0],["z",0]]),sf=function(r){for(var t,e=[],n=[],i="",a=!1,o=0,s=0,u=r;s<u.length;s++){var c=u[s];if(Wa.has(c))o=Wa.get(c),t&&(i.length>0&&(n[n.length]=+i),e[e.length]={cmd:t,args:n},n=[],i="",a=!1),t=c;else if([" ",","].includes(c)||c==="-"&&i.length>0&&i[i.length-1]!=="e"||c==="."&&a){if(i.length===0)continue;n.length===o?(e[e.length]={cmd:t,args:n},n=[+i],t==="M"&&(t="L"),t==="m"&&(t="l")):n[n.length]=+i,a=c===".",i=["-","."].includes(c)?c:""}else i+=c,c==="."&&(a=!0)}return i.length>0&&(n.length===o?(e[e.length]={cmd:t,args:n},n=[+i],t==="M"&&(t="L"),t==="m"&&(t="l")):n[n.length]=+i),e[e.length]={cmd:t,args:n},e},uf=function(r){Y=J=gt=yt=Gr=Zr=0;for(var t=[],e=0;e<r.length;e++){var n=r[e];if(n.cmd&&typeof La[n.cmd]=="function"){var i=La[n.cmd](n.args);Array.isArray(i)?t=t.concat(i):t.push(i)}}return t},La={M:function(r){return Y=r[0],J=r[1],gt=yt=null,Gr=Y,Zr=J,Me(Y,J)},m:function(r){return Y+=r[0],J+=r[1],gt=yt=null,Gr=Y,Zr=J,Me(Y,J)},C:function(r){return Y=r[4],J=r[5],gt=r[2],yt=r[3],he(r[0],r[1],r[2],r[3],r[4],r[5])},c:function(r){var t=he(r[0]+Y,r[1]+J,r[2]+Y,r[3]+J,r[4]+Y,r[5]+J);return gt=Y+r[2],yt=J+r[3],Y+=r[4],J+=r[5],t},S:function(r){(gt===null||yt===null)&&(gt=Y,yt=J);var t=he(Y-(gt-Y),J-(yt-J),r[0],r[1],r[2],r[3]);return gt=r[0],yt=r[1],Y=r[2],J=r[3],t},s:function(r){(gt===null||yt===null)&&(gt=Y,yt=J);var t=he(Y-(gt-Y),J-(yt-J),Y+r[0],J+r[1],Y+r[2],J+r[3]);return gt=Y+r[0],yt=J+r[1],Y+=r[2],J+=r[3],t},Q:function(r){return gt=r[0],yt=r[1],Y=r[2],J=r[3],wn(r[0],r[1],Y,J)},q:function(r){var t=wn(r[0]+Y,r[1]+J,r[2]+Y,r[3]+J);return gt=Y+r[0],yt=J+r[1],Y+=r[2],J+=r[3],t},T:function(r){gt===null||yt===null?(gt=Y,yt=J):(gt=Y-(gt-Y),yt=J-(yt-J));var t=wn(gt,yt,r[0],r[1]);return gt=Y-(gt-Y),yt=J-(yt-J),Y=r[0],J=r[1],t},t:function(r){gt===null||yt===null?(gt=Y,yt=J):(gt=Y-(gt-Y),yt=J-(yt-J));var t=wn(gt,yt,Y+r[0],J+r[1]);return Y+=r[0],J+=r[1],t},A:function(r){var t=Ua(Y,J,r);return Y=r[5],J=r[6],t},a:function(r){r[5]+=Y,r[6]+=J;var t=Ua(Y,J,r);return Y=r[5],J=r[6],t},L:function(r){return Y=r[0],J=r[1],gt=yt=null,Xt(Y,J)},l:function(r){return Y+=r[0],J+=r[1],gt=yt=null,Xt(Y,J)},H:function(r){return Y=r[0],gt=yt=null,Xt(Y,J)},h:function(r){return Y+=r[0],gt=yt=null,Xt(Y,J)},V:function(r){return J=r[0],gt=yt=null,Xt(Y,J)},v:function(r){return J+=r[0],gt=yt=null,Xt(Y,J)},Z:function(){var r=rr();return Y=Gr,J=Zr,r},z:function(){var r=rr();return Y=Gr,J=Zr,r}},Ua=function(r,t,e){for(var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=ff(u,c,n,i,o,s,a,r,t),v=[],b=0,m=l;b<m.length;b++){var w=m[b],F=cf.apply(void 0,w);v.push(he.apply(void 0,F))}return v},ff=function(r,t,e,n,i,a,o,s,u){var c=o*(Math.PI/180),l=Math.sin(c),v=Math.cos(c);e=Math.abs(e),n=Math.abs(n),gt=v*(s-r)*.5+l*(u-t)*.5,yt=v*(u-t)*.5-l*(s-r)*.5;var b=gt*gt/(e*e)+yt*yt/(n*n);b>1&&(b=Math.sqrt(b),e*=b,n*=b);var m=v/e,w=l/e,F=-l/n,C=v/n,k=m*s+w*u,B=F*s+C*u,O=m*r+w*t,N=F*r+C*t,R=(O-k)*(O-k)+(N-B)*(N-B),M=1/R-.25;M<0&&(M=0);var E=Math.sqrt(M);a===i&&(E=-E);var H=.5*(k+O)-E*(N-B),Q=.5*(B+N)+E*(O-k),X=Math.atan2(B-Q,k-H),ot=Math.atan2(N-Q,O-H),V=ot-X;V<0&&a===1?V+=2*Math.PI:V>0&&a===0&&(V-=2*Math.PI);for(var U=Math.ceil(Math.abs(V/(Math.PI*.5+.001))),tt=[],xt=0;xt<U;xt++){var Pt=X+xt*V/U,$=X+(xt+1)*V/U;tt[xt]=[H,Q,Pt,$,e,n,l,v]}return tt},cf=function(r,t,e,n,i,a,o,s){var u=s*i,c=-o*a,l=o*i,v=s*a,b=.5*(n-e),m=8/3*Math.sin(b*.5)*Math.sin(b*.5)/Math.sin(b),w=r+Math.cos(e)-m*Math.sin(e),F=t+Math.sin(e)+m*Math.cos(e),C=r+Math.cos(n),k=t+Math.sin(n),B=C+m*Math.sin(n),O=k-m*Math.cos(n),N=[u*w+c*F,l*w+v*F,u*B+c*O,l*B+v*O,u*C+c*k,l*C+v*k];return N},lf=function(r){return uf(sf(r))},hf=function(r,t){for(var e=[Gt(),t.graphicsState&&pr(t.graphicsState),zo(),gr(t.color),Zi(t.font,t.size),Qu(t.lineHeight),jo(Qt(t.rotate),Qt(t.xSkew),Qt(t.ySkew),t.x,t.y)].filter(Boolean),n=0,i=r.length;n<i;n++)e.push(Io(r[n]),Ju());return e.push(No(),Zt()),e},Ko=function(r,t){return[Gt(),t.graphicsState&&pr(t.graphicsState),Ce(t.x,t.y),Rr(Qt(t.rotate)),nn(t.width,t.height),Ki(Qt(t.xSkew),Qt(t.ySkew)),Vi(r),Zt()].filter(Boolean)},df=function(r,t){return[Gt(),t.graphicsState&&pr(t.graphicsState),Ce(t.x,t.y),Rr(Qt(t.rotate)),nn(t.xScale,t.yScale),Ki(Qt(t.xSkew),Qt(t.ySkew)),Vi(r),Zt()].filter(Boolean)},vf=function(r){var t,e;return[Gt(),r.graphicsState&&pr(r.graphicsState),r.color&&ln(r.color),fn(r.thickness),ni((t=r.dashArray)!==null&&t!==void 0?t:[],(e=r.dashPhase)!==null&&e!==void 0?e:0),Me(r.start.x,r.start.y),r.lineCap&&ii(r.lineCap),Me(r.start.x,r.start.y),Xt(r.end.x,r.end.y),cn(),Zt()].filter(Boolean)},Er=function(r){var t,e;return[Gt(),r.graphicsState&&pr(r.graphicsState),r.color&&gr(r.color),r.borderColor&&ln(r.borderColor),fn(r.borderWidth),r.borderLineCap&&ii(r.borderLineCap),ni((t=r.borderDashArray)!==null&&t!==void 0?t:[],(e=r.borderDashPhase)!==null&&e!==void 0?e:0),Ce(r.x,r.y),Rr(Qt(r.rotate)),Ki(Qt(r.xSkew),Qt(r.ySkew)),Me(0,0),Xt(0,r.height),Xt(r.width,r.height),Xt(r.width,0),rr(),r.color&&r.borderWidth?Gi():r.color?Hi():r.borderColor?cn():rr(),Zt()].filter(Boolean)},Wn=4*((Math.sqrt(2)-1)/3),pf=function(r){var t=dt(r.x),e=dt(r.y),n=dt(r.xScale),i=dt(r.yScale);t-=n,e-=i;var a=n*Wn,o=i*Wn,s=t+n*2,u=e+i*2,c=t+n,l=e+i;return[Gt(),Me(t,l),he(t,l-o,c-a,e,c,e),he(c+a,e,s,l-o,s,l),he(s,l+o,c+a,u,c,u),he(c-a,u,t,l+o,t,l),Zt()]},gf=function(r){var t=dt(r.x),e=dt(r.y),n=dt(r.xScale),i=dt(r.yScale),a=-n,o=-i,s=n*Wn,u=i*Wn,c=a+n*2,l=o+i*2,v=a+n,b=o+i;return[Ce(t,e),Rr(Qt(r.rotate)),Me(a,b),he(a,b-u,v-s,o,v,o),he(v+s,o,c,b-u,c,b),he(c,b+u,v+s,l,v,l),he(v-s,l,a,b+u,a,b)]},ki=function(r){var t,e,n;return mt([Gt(),r.graphicsState&&pr(r.graphicsState),r.color&&gr(r.color),r.borderColor&&ln(r.borderColor),fn(r.borderWidth),r.borderLineCap&&ii(r.borderLineCap),ni((t=r.borderDashArray)!==null&&t!==void 0?t:[],(e=r.borderDashPhase)!==null&&e!==void 0?e:0)],r.rotate===void 0?pf({x:r.x,y:r.y,xScale:r.xScale,yScale:r.yScale}):gf({x:r.x,y:r.y,xScale:r.xScale,yScale:r.yScale,rotate:(n=r.rotate)!==null&&n!==void 0?n:nt(0)}),[r.color&&r.borderWidth?Gi():r.color?Hi():r.borderColor?cn():rr(),Zt()]).filter(Boolean)},yf=function(r,t){var e,n,i;return mt([Gt(),t.graphicsState&&pr(t.graphicsState),Ce(t.x,t.y),Rr(Qt((e=t.rotate)!==null&&e!==void 0?e:nt(0))),t.scale?nn(t.scale,-t.scale):nn(1,-1),t.color&&gr(t.color),t.borderColor&&ln(t.borderColor),t.borderWidth&&fn(t.borderWidth),t.borderLineCap&&ii(t.borderLineCap),ni((n=t.borderDashArray)!==null&&n!==void 0?n:[],(i=t.borderDashPhase)!==null&&i!==void 0?i:0)],lf(r),[t.color&&t.borderWidth?Gi():t.color?Hi():t.borderColor?cn():rr(),Zt()]).filter(Boolean)},bf=function(r){var t=dt(r.size),e=-1+.75,n=-1+.51,i=1-.525,a=1-.31,o=-1+.325,s=.3995/(i-n)+n;return[Gt(),r.color&&ln(r.color),fn(r.thickness),Ce(r.x,r.y),Me(o*t,s*t),Xt(e*t,n*t),Xt(a*t,i*t),cn(),Zt()].filter(Boolean)},sr=function(r){return r.rotation===0?[Ce(0,0),xn(0)]:r.rotation===90?[Ce(r.width,0),xn(90)]:r.rotation===180?[Ce(r.width,r.height),xn(180)]:r.rotation===270?[Ce(0,r.height),xn(270)]:[]},Sn=function(r){var t=Er({x:r.x,y:r.y,width:r.width,height:r.height,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:nt(0),xSkew:nt(0),ySkew:nt(0)});if(!r.filled)return t;var e=dt(r.width),n=dt(r.height),i=Math.min(e,n)/2,a=bf({x:e/2,y:n/2,size:i,thickness:r.thickness,color:r.markColor});return mt([Gt()],t,a,[Zt()])},_n=function(r){var t=dt(r.width),e=dt(r.height),n=Math.min(t,e)/2,i=ki({x:r.x,y:r.y,xScale:n,yScale:n,color:r.color,borderColor:r.borderColor,borderWidth:r.borderWidth});if(!r.filled)return i;var a=ki({x:r.x,y:r.y,xScale:n*.45,yScale:n*.45,color:r.dotColor,borderColor:void 0,borderWidth:0});return mt([Gt()],i,a,[Zt()])},Ka=function(r){var t=dt(r.x),e=dt(r.y),n=dt(r.width),i=dt(r.height),a=Er({x:t,y:e,width:n,height:i,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:nt(0),xSkew:nt(0),ySkew:nt(0)}),o=Ji(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:nt(0),xSkew:nt(0),ySkew:nt(0)});return mt([Gt()],a,o,[Zt()])},Ji=function(r,t){for(var e=[zo(),gr(t.color),Zi(t.font,t.size)],n=0,i=r.length;n<i;n++){var a=r[n],o=a.encoded,s=a.x,u=a.y;e.push(jo(Qt(t.rotate),Qt(t.xSkew),Qt(t.ySkew),s,u),Io(o))}return e.push(No()),e},Ho=function(r){var t=dt(r.x),e=dt(r.y),n=dt(r.width),i=dt(r.height),a=dt(r.borderWidth),o=dt(r.padding),s=t+a/2+o,u=e+a/2+o,c=n-(a/2+o)*2,l=i-(a/2+o)*2,v=[Me(s,u),Xt(s,u+l),Xt(s+c,u+l),Xt(s+c,u),rr(),Oo(),Ro()],b=Er({x:t,y:e,width:n,height:i,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:nt(0),xSkew:nt(0),ySkew:nt(0)}),m=Ji(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:nt(0),xSkew:nt(0),ySkew:nt(0)}),w=mt([Mo("Tx"),Gt()],m,[Zt(),Wo()]);return mt([Gt()],b,v,w,[Zt()])},mf=function(r){for(var t=dt(r.x),e=dt(r.y),n=dt(r.width),i=dt(r.height),a=dt(r.lineHeight),o=dt(r.borderWidth),s=dt(r.padding),u=t+o/2+s,c=e+o/2+s,l=n-(o/2+s)*2,v=i-(o/2+s)*2,b=[Me(u,c),Xt(u,c+v),Xt(u+l,c+v),Xt(u+l,c),rr(),Oo(),Ro()],m=Er({x:t,y:e,width:n,height:i,borderWidth:r.borderWidth,color:r.color,borderColor:r.borderColor,rotate:nt(0),xSkew:nt(0),ySkew:nt(0)}),w=[],F=0,C=r.selectedLines.length;F<C;F++){var k=r.textLines[r.selectedLines[F]];w.push.apply(w,Er({x:k.x-s,y:k.y-(a-k.height)/2,width:n-o,height:k.height+(a-k.height)/2,borderWidth:0,color:r.selectedColor,borderColor:void 0,rotate:nt(0),xSkew:nt(0),ySkew:nt(0)}))}var B=Ji(r.textLines,{color:r.textColor,font:r.font,size:r.fontSize,rotate:nt(0),xSkew:nt(0),ySkew:nt(0)}),O=mt([Mo("Tx"),Gt()],B,[Zt(),Wo()]);return mt([Gt()],m,w,b,O,[Zt()])},xf=(function(r){L(t,r);function t(){var e=this,n="Input document to `PDFDocument.load` is encrypted. You can use `PDFDocument.load(..., { ignoreEncryption: true })` if you wish to load the document anyways.";return e=r.call(this,n)||this,e}return t})(Error),wf=(function(r){L(t,r);function t(){var e=this,n="Input to `PDFDocument.embedFont` was a custom font, but no `fontkit` instance was found. You must register a `fontkit` instance with `PDFDocument.registerFontkit(...)` before embedding custom fonts.";return e=r.call(this,n)||this,e}return t})(Error),Sf=(function(r){L(t,r);function t(){var e=this,n="A `page` passed to `PDFDocument.addPage` or `PDFDocument.insertPage` was from a different (foreign) PDF document. If you want to copy pages from one PDFDocument to another, you must use `PDFDocument.copyPages(...)` to copy the pages before adding or inserting them.";return e=r.call(this,n)||this,e}return t})(Error),_f=(function(r){L(t,r);function t(){var e=this,n="PDFDocument has no pages so `PDFDocument.removePage` cannot be called";return e=r.call(this,n)||this,e}return t})(Error),Ff=(function(r){L(t,r);function t(e){var n=this,i='PDFDocument has no form field with the name "'+e+'"';return n=r.call(this,i)||this,n}return t})(Error),lr=(function(r){L(t,r);function t(e,n,i){var a,o,s=this,u=n==null?void 0:n.name,c=(o=(a=i==null?void 0:i.constructor)===null||a===void 0?void 0:a.name)!==null&&o!==void 0?o:i,l='Expected field "'+e+'" to be of type '+u+", "+("but it is actually of type "+c);return s=r.call(this,l)||this,s}return t})(Error);(function(r){L(t,r);function t(e){var n=this,i='Failed to select check box due to missing onValue: "'+e+'"';return n=r.call(this,i)||this,n}return t})(Error);var Go=(function(r){L(t,r);function t(e){var n=this,i='A field already exists with the specified name: "'+e+'"';return n=r.call(this,i)||this,n}return t})(Error),kf=(function(r){L(t,r);function t(e){var n=this,i='Field name contains invalid component: "'+e+'"';return n=r.call(this,i)||this,n}return t})(Error);(function(r){L(t,r);function t(e){var n=this,i='A non-terminal field already exists with the specified name: "'+e+'"';return n=r.call(this,i)||this,n}return t})(Error);var Af=(function(r){L(t,r);function t(e){var n=this,i="Reading rich text fields is not supported: Attempted to read rich text field: "+e;return n=r.call(this,i)||this,n}return t})(Error),Cf=(function(r){L(t,r);function t(e,n){var i=this,a="Failed to layout combed text as lineLength="+e+" is greater than cellCount="+n;return i=r.call(this,a)||this,i}return t})(Error),Df=(function(r){L(t,r);function t(e,n,i){var a=this,o="Attempted to set text with length="+e+" for TextField with maxLength="+n+" and name="+i;return a=r.call(this,o)||this,a}return t})(Error),Pf=(function(r){L(t,r);function t(e,n,i){var a=this,o="Attempted to set maxLength="+n+", which is less than "+e+", the length of this field's current value (name="+i+")";return a=r.call(this,o)||this,a}return t})(Error),Ht;(function(r){r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right"})(Ht||(Ht={}));var Zo=4,Vo=500,Xo=function(r,t,e,n){n===void 0&&(n=!1);for(var i=Zo;i<Vo;){for(var a=0,o=0,s=r.length;o<s;o++){a+=1;for(var u=r[o],c=u.split(" "),l=e.width,v=0,b=c.length;v<b;v++){var m=v===b-1,w=m?c[v]:c[v]+" ",F=t.widthOfTextAtSize(w,i);l-=F,l<=0&&(a+=1,l=e.width-F)}}if(!n&&a>r.length)return i-1;var C=t.heightAtSize(i),k=C+C*.2,B=k*a;if(B>Math.abs(e.height))return i-1;i+=1}return i},Bf=function(r,t,e,n){for(var i=e.width/n,a=e.height,o=Zo,s=ss(r);o<Vo;){for(var u=0,c=s.length;u<c;u++){var l=s[u],v=t.widthOfTextAtSize(l,o)>i*.75;if(v)return o-1}var b=t.heightAtSize(o,{descender:!1});if(b>a)return o-1;o+=1}return o},Tf=function(r){for(var t=r.length;t>0;t--)if(/\s/.test(r[t]))return t},Ef=function(r,t,e,n){for(var i,a=r.length;a>0;){var o=r.substring(0,a),s=e.encodeText(o),u=e.widthOfTextAtSize(o,n);if(u<t){var c=r.substring(a)||void 0;return{line:o,encoded:s,width:u,remainder:c}}a=(i=Tf(o))!==null&&i!==void 0?i:0}return{line:r,encoded:e.encodeText(r),width:e.widthOfTextAtSize(r,n),remainder:void 0}},qo=function(r,t){var e=t.alignment,n=t.fontSize,i=t.font,a=t.bounds,o=Ga(on(r));(n===void 0||n===0)&&(n=Xo(o,i,a,!0));for(var s=i.heightAtSize(n),u=s+s*.2,c=[],l=a.x,v=a.y,b=a.x+a.width,m=a.y+a.height,w=a.y+a.height,F=0,C=o.length;F<C;F++)for(var k=o[F];k!==void 0;){var B=Ef(k,a.width,i,n),O=B.line,N=B.encoded,R=B.width,M=B.remainder,E=e===Ht.Left?a.x:e===Ht.Center?a.x+a.width/2-R/2:e===Ht.Right?a.x+a.width-R:a.x;w-=u,E<l&&(l=E),w<v&&(v=w),E+R>b&&(b=E+R),w+s>m&&(m=w+s),c.push({text:O,encoded:N,width:R,height:s,x:E,y:w}),k=M==null?void 0:M.trim()}return{fontSize:n,lineHeight:u,lines:c,bounds:{x:l,y:v,width:b-l,height:m-v}}},Of=function(r,t){var e=t.fontSize,n=t.font,i=t.bounds,a=t.cellCount,o=Za(on(r));if(o.length>a)throw new Cf(o.length,a);(e===void 0||e===0)&&(e=Bf(o,n,i,a));for(var s=i.width/a,u=n.heightAtSize(e,{descender:!1}),c=i.y+(i.height/2-u/2),l=[],v=i.x,b=i.y,m=i.x+i.width,w=i.y+i.height,F=0,C=0;F<a;){var k=Va(o,C),B=k[0],O=k[1],N=n.encodeText(B),R=n.widthOfTextAtSize(B,e),M=i.x+(s*F+s/2),E=M-R/2;E<v&&(v=E),c<b&&(b=c),E+R>m&&(m=E+R),c+u>w&&(w=c+u),l.push({text:o,encoded:N,width:R,height:u,x:E,y:c}),F+=1,C+=O}return{fontSize:e,cells:l,bounds:{x:v,y:b,width:m-v,height:w-b}}},Ln=function(r,t){var e=t.alignment,n=t.fontSize,i=t.font,a=t.bounds,o=Za(on(r));(n===void 0||n===0)&&(n=Xo([o],i,a));var s=i.encodeText(o),u=i.widthOfTextAtSize(o,n),c=i.heightAtSize(n,{descender:!1}),l=e===Ht.Left?a.x:e===Ht.Center?a.x+a.width/2-u/2:e===Ht.Right?a.x+a.width-u:a.x,v=a.y+(a.height/2-c/2);return{fontSize:n,line:{text:o,encoded:s,width:u,height:c,x:l,y:v},bounds:{x:l,y:v,width:u,height:c}}},Ir=function(r){return"normal"in r?r:{normal:r}},Rf=/\/([^\0\t\n\f\r\ ]+)[\0\t\n\f\r\ ]+(\d*\.\d+|\d+)[\0\t\n\f\r\ ]+Tf/,ir=function(r){var t,e,n=(t=r.getDefaultAppearance())!==null&&t!==void 0?t:"",i=(e=Pi(n,Rf).match)!==null&&e!==void 0?e:[],a=Number(i[2]);return isFinite(a)?a:void 0},If=/(\d*\.\d+|\d+)[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]*(\d*\.\d+|\d+)?[\0\t\n\f\r\ ]+(g|rg|k)/,De=function(r){var t,e=(t=r.getDefaultAppearance())!==null&&t!==void 0?t:"",n=Pi(e,If).match,i=n??[],a=i[1],o=i[2],s=i[3],u=i[4],c=i[5];if(c==="g"&&a)return Lo(Number(a));if(c==="rg"&&a&&o&&s)return Ct(Number(a),Number(o),Number(s));if(c==="k"&&a&&o&&s&&u)return Uo(Number(a),Number(o),Number(s),Number(u))},Pe=function(r,t,e,n){var i;n===void 0&&(n=0);var a=[gr(t).toString(),Zi((i=e==null?void 0:e.name)!==null&&i!==void 0?i:"dummy__noop",n).toString()].join(`
`);r.setDefaultAppearance(a)},zf=function(r,t){var e,n,i,a=De(t),o=De(r.acroField),s=t.getRectangle(),u=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),l=(e=c==null?void 0:c.getWidth())!==null&&e!==void 0?e:0,v=Ve(u==null?void 0:u.getRotation()),b=vr(s,v),m=b.width,w=b.height,F=sr(ut(ut({},s),{rotation:v})),C=Ct(0,0,0),k=(n=ae(u==null?void 0:u.getBorderColor()))!==null&&n!==void 0?n:C,B=ae(u==null?void 0:u.getBackgroundColor()),O=ae(u==null?void 0:u.getBackgroundColor(),.8),N=(i=a??o)!==null&&i!==void 0?i:C;Pe(a?t:r.acroField,N);var R={x:0+l/2,y:0+l/2,width:m-l,height:w-l,thickness:1.5,borderWidth:l,borderColor:k,markColor:N};return{normal:{on:mt(F,Sn(ut(ut({},R),{color:B,filled:!0}))),off:mt(F,Sn(ut(ut({},R),{color:B,filled:!1})))},down:{on:mt(F,Sn(ut(ut({},R),{color:O,filled:!0}))),off:mt(F,Sn(ut(ut({},R),{color:O,filled:!1})))}}},Nf=function(r,t){var e,n,i,a=De(t),o=De(r.acroField),s=t.getRectangle(),u=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),l=(e=c==null?void 0:c.getWidth())!==null&&e!==void 0?e:0,v=Ve(u==null?void 0:u.getRotation()),b=vr(s,v),m=b.width,w=b.height,F=sr(ut(ut({},s),{rotation:v})),C=Ct(0,0,0),k=(n=ae(u==null?void 0:u.getBorderColor()))!==null&&n!==void 0?n:C,B=ae(u==null?void 0:u.getBackgroundColor()),O=ae(u==null?void 0:u.getBackgroundColor(),.8),N=(i=a??o)!==null&&i!==void 0?i:C;Pe(a?t:r.acroField,N);var R={x:m/2,y:w/2,width:m-l,height:w-l,borderWidth:l,borderColor:k,dotColor:N};return{normal:{on:mt(F,_n(ut(ut({},R),{color:B,filled:!0}))),off:mt(F,_n(ut(ut({},R),{color:B,filled:!1})))},down:{on:mt(F,_n(ut(ut({},R),{color:O,filled:!0}))),off:mt(F,_n(ut(ut({},R),{color:O,filled:!1})))}}},jf=function(r,t,e){var n,i,a,o,s,u=De(t),c=De(r.acroField),l=ir(t),v=ir(r.acroField),b=t.getRectangle(),m=t.getAppearanceCharacteristics(),w=t.getBorderStyle(),F=m==null?void 0:m.getCaptions(),C=(n=F==null?void 0:F.normal)!==null&&n!==void 0?n:"",k=(a=(i=F==null?void 0:F.down)!==null&&i!==void 0?i:C)!==null&&a!==void 0?a:"",B=(o=w==null?void 0:w.getWidth())!==null&&o!==void 0?o:0,O=Ve(m==null?void 0:m.getRotation()),N=vr(b,O),R=N.width,M=N.height,E=sr(ut(ut({},b),{rotation:O})),H=Ct(0,0,0),Q=ae(m==null?void 0:m.getBorderColor()),X=ae(m==null?void 0:m.getBackgroundColor()),ot=ae(m==null?void 0:m.getBackgroundColor(),.8),V={x:B,y:B,width:R-B*2,height:M-B*2},U=Ln(C,{alignment:Ht.Center,fontSize:l??v,font:e,bounds:V}),tt=Ln(k,{alignment:Ht.Center,fontSize:l??v,font:e,bounds:V}),xt=Math.min(U.fontSize,tt.fontSize),Pt=(s=u??c)!==null&&s!==void 0?s:H;Pe(u||l!==void 0?t:r.acroField,Pt,e,xt);var $={x:0+B/2,y:0+B/2,width:R-B,height:M-B,borderWidth:B,borderColor:Q,textColor:Pt,font:e.name,fontSize:xt};return{normal:mt(E,Ka(ut(ut({},$),{color:X,textLines:[U.line]}))),down:mt(E,Ka(ut(ut({},$),{color:ot,textLines:[tt.line]})))}},Mf=function(r,t,e){var n,i,a,o,s=De(t),u=De(r.acroField),c=ir(t),l=ir(r.acroField),v=t.getRectangle(),b=t.getAppearanceCharacteristics(),m=t.getBorderStyle(),w=(n=r.getText())!==null&&n!==void 0?n:"",F=(i=m==null?void 0:m.getWidth())!==null&&i!==void 0?i:0,C=Ve(b==null?void 0:b.getRotation()),k=vr(v,C),B=k.width,O=k.height,N=sr(ut(ut({},v),{rotation:C})),R=Ct(0,0,0),M=ae(b==null?void 0:b.getBorderColor()),E=ae(b==null?void 0:b.getBackgroundColor()),H,Q,X=r.isCombed()?0:1,ot={x:F+X,y:F+X,width:B-(F+X)*2,height:O-(F+X)*2};if(r.isMultiline()){var V=qo(w,{alignment:r.getAlignment(),fontSize:c??l,font:e,bounds:ot});H=V.lines,Q=V.fontSize}else if(r.isCombed()){var V=Of(w,{fontSize:c??l,font:e,bounds:ot,cellCount:(a=r.getMaxLength())!==null&&a!==void 0?a:0});H=V.cells,Q=V.fontSize}else{var V=Ln(w,{alignment:r.getAlignment(),fontSize:c??l,font:e,bounds:ot});H=[V.line],Q=V.fontSize}var U=(o=s??u)!==null&&o!==void 0?o:R;Pe(s||c!==void 0?t:r.acroField,U,e,Q);var tt={x:0+F/2,y:0+F/2,width:B-F,height:O-F,borderWidth:F??0,borderColor:M,textColor:U,font:e.name,fontSize:Q,color:E,textLines:H,padding:X};return mt(N,Ho(tt))},Wf=function(r,t,e){var n,i,a,o=De(t),s=De(r.acroField),u=ir(t),c=ir(r.acroField),l=t.getRectangle(),v=t.getAppearanceCharacteristics(),b=t.getBorderStyle(),m=(n=r.getSelected()[0])!==null&&n!==void 0?n:"",w=(i=b==null?void 0:b.getWidth())!==null&&i!==void 0?i:0,F=Ve(v==null?void 0:v.getRotation()),C=vr(l,F),k=C.width,B=C.height,O=sr(ut(ut({},l),{rotation:F})),N=Ct(0,0,0),R=ae(v==null?void 0:v.getBorderColor()),M=ae(v==null?void 0:v.getBackgroundColor()),E=1,H={x:w+E,y:w+E,width:k-(w+E)*2,height:B-(w+E)*2},Q=Ln(m,{alignment:Ht.Left,fontSize:u??c,font:e,bounds:H}),X=Q.line,ot=Q.fontSize,V=(a=o??s)!==null&&a!==void 0?a:N;Pe(o||u!==void 0?t:r.acroField,V,e,ot);var U={x:0+w/2,y:0+w/2,width:k-w,height:B-w,borderWidth:w??0,borderColor:R,textColor:V,font:e.name,fontSize:ot,color:M,textLines:[X],padding:E};return mt(O,Ho(U))},Lf=function(r,t,e){var n,i,a=De(t),o=De(r.acroField),s=ir(t),u=ir(r.acroField),c=t.getRectangle(),l=t.getAppearanceCharacteristics(),v=t.getBorderStyle(),b=(n=v==null?void 0:v.getWidth())!==null&&n!==void 0?n:0,m=Ve(l==null?void 0:l.getRotation()),w=vr(c,m),F=w.width,C=w.height,k=sr(ut(ut({},c),{rotation:m})),B=Ct(0,0,0),O=ae(l==null?void 0:l.getBorderColor()),N=ae(l==null?void 0:l.getBackgroundColor()),R=r.getOptions(),M=r.getSelected();r.isSorted()&&R.sort();for(var E="",H=0,Q=R.length;H<Q;H++)E+=R[H],H<Q-1&&(E+=`
`);for(var X=1,ot={x:b+X,y:b+X,width:F-(b+X)*2,height:C-(b+X)*2},V=qo(E,{alignment:Ht.Left,fontSize:s??u,font:e,bounds:ot}),U=V.lines,tt=V.fontSize,xt=V.lineHeight,Pt=[],H=0,Q=U.length;H<Q;H++){var $=U[H];M.includes($.text)&&Pt.push(H)}var zt=Ct(153/255,193/255,218/255),Bt=(i=a??o)!==null&&i!==void 0?i:B;return Pe(a||s!==void 0?t:r.acroField,Bt,e,tt),mt(k,mf({x:0+b/2,y:0+b/2,width:F-b,height:C-b,borderWidth:b??0,borderColor:O,textColor:Bt,font:e.name,fontSize:tt,color:N,textLines:U,lineHeight:xt,selectedColor:zt,selectedLines:Pt,padding:X}))},Yo=(function(){function r(t,e,n){this.alreadyEmbedded=!1,_(t,"ref",[[At,"PDFRef"]]),_(e,"doc",[[dr,"PDFDocument"]]),_(n,"embedder",[[wo,"PDFPageEmbedder"]]),this.ref=t,this.doc=e,this.width=n.width,this.height=n.height,this.embedder=n}return r.prototype.scale=function(t){return _(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},r.prototype.size=function(){return this.scale(1)},r.prototype.embed=function(){return lt(this,void 0,void 0,function(){return ht(this,function(t){switch(t.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t.sent(),this.alreadyEmbedded=!0,t.label=2;case 2:return[2]}})})},r.of=function(t,e,n){return new r(t,e,n)},r})(),ve=(function(){function r(t,e,n){this.modified=!0,_(t,"ref",[[At,"PDFRef"]]),_(e,"doc",[[dr,"PDFDocument"]]),_(n,"embedder",[[Ni,"CustomFontEmbedder"],[On,"StandardFontEmbedder"]]),this.ref=t,this.doc=e,this.name=n.fontName,this.embedder=n}return r.prototype.encodeText=function(t){return _(t,"text",["string"]),this.modified=!0,this.embedder.encodeText(t)},r.prototype.widthOfTextAtSize=function(t,e){return _(t,"text",["string"]),_(e,"size",["number"]),this.embedder.widthOfTextAtSize(t,e)},r.prototype.heightAtSize=function(t,e){var n;return _(t,"size",["number"]),j(e==null?void 0:e.descender,"options.descender",["boolean"]),this.embedder.heightOfFontAtSize(t,{descender:(n=e==null?void 0:e.descender)!==null&&n!==void 0?n:!0})},r.prototype.sizeAtHeight=function(t){return _(t,"height",["number"]),this.embedder.sizeOfFontAtHeight(t)},r.prototype.getCharacterSet=function(){return this.embedder instanceof On?this.embedder.encoding.supportedCodePoints:this.embedder.font.characterSet},r.prototype.embed=function(){return lt(this,void 0,void 0,function(){return ht(this,function(t){switch(t.label){case 0:return this.modified?[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]:[3,2];case 1:t.sent(),this.modified=!1,t.label=2;case 2:return[2]}})})},r.of=function(t,e,n){return new r(t,e,n)},r})(),Ai=(function(){function r(t,e,n){_(t,"ref",[[At,"PDFRef"]]),_(e,"doc",[[dr,"PDFDocument"]]),_(n,"embedder",[[yo,"JpegEmbedder"],[bo,"PngEmbedder"]]),this.ref=t,this.doc=e,this.width=n.width,this.height=n.height,this.embedder=n}return r.prototype.scale=function(t){return _(t,"factor",["number"]),{width:this.width*t,height:this.height*t}},r.prototype.scaleToFit=function(t,e){_(t,"width",["number"]),_(e,"height",["number"]);var n=t/this.width,i=e/this.height,a=Math.min(n,i);return this.scale(a)},r.prototype.size=function(){return this.scale(1)},r.prototype.embed=function(){return lt(this,void 0,void 0,function(){var t,e,n;return ht(this,function(i){switch(i.label){case 0:return this.embedder?(this.embedTask||(t=this,e=t.doc,n=t.ref,this.embedTask=this.embedder.embedIntoContext(e.context,n)),[4,this.embedTask]):[2];case 1:return i.sent(),this.embedder=void 0,[2]}})})},r.of=function(t,e,n){return new r(t,e,n)},r})(),er;(function(r){r[r.Left=0]="Left",r[r.Center=1]="Center",r[r.Right=2]="Right"})(er||(er={}));var zr=function(r){j(r==null?void 0:r.x,"options.x",["number"]),j(r==null?void 0:r.y,"options.y",["number"]),j(r==null?void 0:r.width,"options.width",["number"]),j(r==null?void 0:r.height,"options.height",["number"]),j(r==null?void 0:r.textColor,"options.textColor",[[Object,"Color"]]),j(r==null?void 0:r.backgroundColor,"options.backgroundColor",[[Object,"Color"]]),j(r==null?void 0:r.borderColor,"options.borderColor",[[Object,"Color"]]),j(r==null?void 0:r.borderWidth,"options.borderWidth",["number"]),j(r==null?void 0:r.rotate,"options.rotate",[[Object,"Rotation"]])},yr=(function(){function r(t,e,n){_(t,"acroField",[[Or,"PDFAcroTerminal"]]),_(e,"ref",[[At,"PDFRef"]]),_(n,"doc",[[dr,"PDFDocument"]]),this.acroField=t,this.ref=e,this.doc=n}return r.prototype.getName=function(){var t;return(t=this.acroField.getFullyQualifiedName())!==null&&t!==void 0?t:""},r.prototype.isReadOnly=function(){return this.acroField.hasFlag(Re.ReadOnly)},r.prototype.enableReadOnly=function(){this.acroField.setFlagTo(Re.ReadOnly,!0)},r.prototype.disableReadOnly=function(){this.acroField.setFlagTo(Re.ReadOnly,!1)},r.prototype.isRequired=function(){return this.acroField.hasFlag(Re.Required)},r.prototype.enableRequired=function(){this.acroField.setFlagTo(Re.Required,!0)},r.prototype.disableRequired=function(){this.acroField.setFlagTo(Re.Required,!1)},r.prototype.isExported=function(){return!this.acroField.hasFlag(Re.NoExport)},r.prototype.enableExporting=function(){this.acroField.setFlagTo(Re.NoExport,!1)},r.prototype.disableExporting=function(){this.acroField.setFlagTo(Re.NoExport,!0)},r.prototype.needsAppearancesUpdate=function(){throw new Ae(this.constructor.name,"needsAppearancesUpdate")},r.prototype.defaultUpdateAppearances=function(t){throw new Ae(this.constructor.name,"defaultUpdateAppearances")},r.prototype.markAsDirty=function(){this.doc.getForm().markFieldAsDirty(this.ref)},r.prototype.markAsClean=function(){this.doc.getForm().markFieldAsClean(this.ref)},r.prototype.isDirty=function(){return this.doc.getForm().fieldIsDirty(this.ref)},r.prototype.createWidget=function(t){var e,n=t.textColor,i=t.backgroundColor,a=t.borderColor,o=t.borderWidth,s=Eo(t.rotate),u=t.caption,c=t.x,l=t.y,v=t.width+o,b=t.height+o,m=!!t.hidden,w=t.page;no(s,"degreesAngle",90);var F=_i.create(this.doc.context,this.ref),C=Yu({x:c,y:l,width:v,height:b},o,s);F.setRectangle(C),w&&F.setP(w);var k=F.getOrCreateAppearanceCharacteristics();i&&k.setBackgroundColor(Ma(i)),k.setRotation(s),u&&k.setCaptions({normal:u}),a&&k.setBorderColor(Ma(a));var B=F.getOrCreateBorderStyle();if(o!==void 0&&B.setWidth(o),F.setFlagTo($r.Print,!0),F.setFlagTo($r.Hidden,m),F.setFlagTo($r.Invisible,!1),n){var O=(e=this.acroField.getDefaultAppearance())!==null&&e!==void 0?e:"",N=O+`
`+gr(n).toString();this.acroField.setDefaultAppearance(N)}return F},r.prototype.updateWidgetAppearanceWithFont=function(t,e,n){var i=n.normal,a=n.rollover,o=n.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceStream(t,i,e),rollover:a&&this.createAppearanceStream(t,a,e),down:o&&this.createAppearanceStream(t,o,e)})},r.prototype.updateOnOffWidgetAppearance=function(t,e,n){var i=n.normal,a=n.rollover,o=n.down;this.updateWidgetAppearances(t,{normal:this.createAppearanceDict(t,i,e),rollover:a&&this.createAppearanceDict(t,a,e),down:o&&this.createAppearanceDict(t,o,e)})},r.prototype.updateWidgetAppearances=function(t,e){var n=e.normal,i=e.rollover,a=e.down;t.setNormalAppearance(n),i?t.setRolloverAppearance(i):t.removeRolloverAppearance(),a?t.setDownAppearance(a):t.removeDownAppearance()},r.prototype.createAppearanceStream=function(t,e,n){var i,a=this.acroField.dict.context,o=t.getRectangle(),s=o.width,u=o.height,c=n&&{Font:(i={},i[n.name]=n.ref,i)},l=a.formXObject(e,{Resources:c,BBox:a.obj([0,0,s,u]),Matrix:a.obj([1,0,0,1,0,0])}),v=a.register(l);return v},r.prototype.createImageAppearanceStream=function(t,e,n){var i,a,o=this.acroField.dict.context,s=t.getRectangle(),u=t.getAppearanceCharacteristics(),c=t.getBorderStyle(),l=(a=c==null?void 0:c.getWidth())!==null&&a!==void 0?a:0,v=Ve(u==null?void 0:u.getRotation()),b=sr(ut(ut({},s),{rotation:v})),m=vr(s,v),w=e.scaleToFit(m.width-l*2,m.height-l*2),F={x:l,y:l,width:w.width,height:w.height,rotate:nt(0),xSkew:nt(0),ySkew:nt(0)};n===er.Center?(F.x+=(m.width-l*2)/2-w.width/2,F.y+=(m.height-l*2)/2-w.height/2):n===er.Right&&(F.x=m.width-l-w.width,F.y=m.height-l-w.height);var C=this.doc.context.addRandomSuffix("Image",10),k=mt(b,Ko(C,F)),B={XObject:(i={},i[C]=e.ref,i)},O=o.formXObject(k,{Resources:B,BBox:o.obj([0,0,s.width,s.height]),Matrix:o.obj([1,0,0,1,0,0])});return o.register(O)},r.prototype.createAppearanceDict=function(t,e,n){var i=this.acroField.dict.context,a=this.createAppearanceStream(t,e.on),o=this.createAppearanceStream(t,e.off),s=i.obj({});return s.set(n,a),s.set(g.of("Off"),o),s},r})(),Vr=(function(r){L(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return _(e,"acroCheckBox",[[Vn,"PDFAcroCheckBox"]]),a.acroField=e,a}return t.prototype.check=function(){var e,n=(e=this.acroField.getOnValue())!==null&&e!==void 0?e:g.of("Yes");this.markAsDirty(),this.acroField.setValue(n)},t.prototype.uncheck=function(){this.markAsDirty(),this.acroField.setValue(g.of("Off"))},t.prototype.isChecked=function(){var e=this.acroField.getOnValue();return!!e&&e===this.acroField.getValue()},t.prototype.addToPage=function(e,n){var i,a,o,s,u,c;_(e,"page",[[ke,"PDFPage"]]),zr(n),n||(n={}),"textColor"in n||(n.textColor=Ct(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Ct(1,1,1)),"borderColor"in n||(n.borderColor=Ct(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var l=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(a=n.y)!==null&&a!==void 0?a:0,width:(o=n.width)!==null&&o!==void 0?o:50,height:(s=n.height)!==null&&s!==void 0?s:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(u=n.borderWidth)!==null&&u!==void 0?u:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:nt(0),hidden:n.hidden,page:e.ref}),v=this.doc.context.register(l.dict);this.acroField.addWidget(v),l.setAppearanceState(g.of("Off")),this.updateWidgetAppearance(l,g.of("Yes")),e.node.addAnnot(v)},t.prototype.needsAppearancesUpdate=function(){for(var e,n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var o=n[i],s=o.getAppearanceState(),u=(e=o.getAppearances())===null||e===void 0?void 0:e.normal;if(!(u instanceof ct)||s&&!u.has(s))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){var n;j(e,"provider",[Function]);for(var i=this.acroField.getWidgets(),a=0,o=i.length;a<o;a++){var s=i[a],u=(n=s.getOnValue())!==null&&n!==void 0?n:g.of("Yes");u&&this.updateWidgetAppearance(s,u,e)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,n,i){var a=i??zf,o=Ir(a(this,e));this.updateOnOffWidgetAppearance(e,n,o)},t.of=function(e,n,i){return new t(e,n,i)},t})(yr),An=(function(r){L(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return _(e,"acroComboBox",[[Xn,"PDFAcroComboBox"]]),a.acroField=e,a}return t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),n=new Array(e.length),i=0,a=n.length;i<a;i++){var o=e[i],s=o.display,u=o.value;n[i]=(s??u).decodeText()}return n},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),n=new Array(e.length),i=0,a=e.length;i<a;i++)n[i]=e[i].decodeText();return n},t.prototype.setOptions=function(e){_(e,"options",[Array]);for(var n=new Array(e.length),i=0,a=e.length;i<a;i++)n[i]={value:et.fromText(e[i])};this.acroField.setOptions(n)},t.prototype.addOptions=function(e){_(e,"options",["string",Array]);for(var n=Array.isArray(e)?e:[e],i=this.acroField.getOptions(),a=new Array(n.length),o=0,s=n.length;o<s;o++)a[o]={value:et.fromText(n[o])};this.acroField.setOptions(i.concat(a))},t.prototype.select=function(e,n){n===void 0&&(n=!1),_(e,"options",["string",Array]),_(n,"merge",["boolean"]);var i=Array.isArray(e)?e:[e],a=this.getOptions(),o=i.find(function(v){return!a.includes(v)});o&&this.enableEditing(),this.markAsDirty(),(i.length>1||i.length===1&&n)&&this.enableMultiselect();for(var s=new Array(i.length),u=0,c=i.length;u<c;u++)s[u]=et.fromText(i[u]);if(n){var l=this.acroField.getValues();this.acroField.setValues(l.concat(s))}else this.acroField.setValues(s)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){Gn(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isEditable=function(){return this.acroField.hasFlag(Ft.Edit)},t.prototype.enableEditing=function(){this.acroField.setFlagTo(Ft.Edit,!0)},t.prototype.disableEditing=function(){this.acroField.setFlagTo(Ft.Edit,!1)},t.prototype.isSorted=function(){return this.acroField.hasFlag(Ft.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(Ft.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(Ft.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(Ft.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(Ft.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(Ft.MultiSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(Ft.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(Ft.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(Ft.DoNotSpellCheck,!0)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(Ft.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(Ft.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(Ft.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,n){var i,a,o,s,u,c,l;_(e,"page",[[ke,"PDFPage"]]),zr(n),n||(n={}),"textColor"in n||(n.textColor=Ct(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Ct(1,1,1)),"borderColor"in n||(n.borderColor=Ct(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var v=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(a=n.y)!==null&&a!==void 0?a:0,width:(o=n.width)!==null&&o!==void 0?o:200,height:(s=n.height)!==null&&s!==void 0?s:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(u=n.borderWidth)!==null&&u!==void 0?u:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:nt(0),hidden:n.hidden,page:e.ref}),b=this.doc.context.register(v.dict);this.acroField.addWidget(b);var m=(l=n.font)!==null&&l!==void 0?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(v,m),e.node.addAnnot(b)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var o=n[i],s=((e=o.getAppearances())===null||e===void 0?void 0:e.normal)instanceof de;if(!s)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){_(e,"font",[[ve,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,n){_(e,"font",[[ve,"PDFFont"]]),j(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),a=0,o=i.length;a<o;a++){var s=i[a];this.updateWidgetAppearance(s,e,n)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,n,i){var a=i??Wf,o=Ir(a(this,e,n));this.updateWidgetAppearanceWithFont(e,n,o)},t.of=function(e,n,i){return new t(e,n,i)},t})(yr),Cn=(function(r){L(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return _(e,"acroListBox",[[Qn,"PDFAcroListBox"]]),a.acroField=e,a}return t.prototype.getOptions=function(){for(var e=this.acroField.getOptions(),n=new Array(e.length),i=0,a=n.length;i<a;i++){var o=e[i],s=o.display,u=o.value;n[i]=(s??u).decodeText()}return n},t.prototype.getSelected=function(){for(var e=this.acroField.getValues(),n=new Array(e.length),i=0,a=e.length;i<a;i++)n[i]=e[i].decodeText();return n},t.prototype.setOptions=function(e){_(e,"options",[Array]),this.markAsDirty();for(var n=new Array(e.length),i=0,a=e.length;i<a;i++)n[i]={value:et.fromText(e[i])};this.acroField.setOptions(n)},t.prototype.addOptions=function(e){_(e,"options",["string",Array]),this.markAsDirty();for(var n=Array.isArray(e)?e:[e],i=this.acroField.getOptions(),a=new Array(n.length),o=0,s=n.length;o<s;o++)a[o]={value:et.fromText(n[o])};this.acroField.setOptions(i.concat(a))},t.prototype.select=function(e,n){n===void 0&&(n=!1),_(e,"options",["string",Array]),_(n,"merge",["boolean"]);var i=Array.isArray(e)?e:[e],a=this.getOptions();Ds(i,"option",a),this.markAsDirty(),(i.length>1||i.length===1&&n)&&this.enableMultiselect();for(var o=new Array(i.length),s=0,u=i.length;s<u;s++)o[s]=et.fromText(i[s]);if(n){var c=this.acroField.getValues();this.acroField.setValues(c.concat(o))}else this.acroField.setValues(o)},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValues([])},t.prototype.setFontSize=function(e){Gn(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isSorted=function(){return this.acroField.hasFlag(Ft.Sort)},t.prototype.enableSorting=function(){this.acroField.setFlagTo(Ft.Sort,!0)},t.prototype.disableSorting=function(){this.acroField.setFlagTo(Ft.Sort,!1)},t.prototype.isMultiselect=function(){return this.acroField.hasFlag(Ft.MultiSelect)},t.prototype.enableMultiselect=function(){this.acroField.setFlagTo(Ft.MultiSelect,!0)},t.prototype.disableMultiselect=function(){this.acroField.setFlagTo(Ft.MultiSelect,!1)},t.prototype.isSelectOnClick=function(){return this.acroField.hasFlag(Ft.CommitOnSelChange)},t.prototype.enableSelectOnClick=function(){this.acroField.setFlagTo(Ft.CommitOnSelChange,!0)},t.prototype.disableSelectOnClick=function(){this.acroField.setFlagTo(Ft.CommitOnSelChange,!1)},t.prototype.addToPage=function(e,n){var i,a,o,s,u,c,l;_(e,"page",[[ke,"PDFPage"]]),zr(n),n||(n={}),"textColor"in n||(n.textColor=Ct(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Ct(1,1,1)),"borderColor"in n||(n.borderColor=Ct(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var v=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(a=n.y)!==null&&a!==void 0?a:0,width:(o=n.width)!==null&&o!==void 0?o:200,height:(s=n.height)!==null&&s!==void 0?s:100,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(u=n.borderWidth)!==null&&u!==void 0?u:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:nt(0),hidden:n.hidden,page:e.ref}),b=this.doc.context.register(v.dict);this.acroField.addWidget(b);var m=(l=n.font)!==null&&l!==void 0?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(v,m),e.node.addAnnot(b)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var o=n[i],s=((e=o.getAppearances())===null||e===void 0?void 0:e.normal)instanceof de;if(!s)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){_(e,"font",[[ve,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,n){_(e,"font",[[ve,"PDFFont"]]),j(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),a=0,o=i.length;a<o;a++){var s=i[a];this.updateWidgetAppearance(s,e,n)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,n,i){var a=i??Lf,o=Ir(a(this,e,n));this.updateWidgetAppearanceWithFont(e,n,o)},t.of=function(e,n,i){return new t(e,n,i)},t})(yr),Xr=(function(r){L(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return _(e,"acroRadioButton",[[Jn,"PDFAcroRadioButton"]]),a.acroField=e,a}return t.prototype.getOptions=function(){var e=this.acroField.getExportValues();if(e){for(var n=new Array(e.length),i=0,a=e.length;i<a;i++)n[i]=e[i].decodeText();return n}for(var o=this.acroField.getOnValues(),s=new Array(o.length),i=0,a=s.length;i<a;i++)s[i]=o[i].decodeText();return s},t.prototype.getSelected=function(){var e=this.acroField.getValue();if(e!==g.of("Off")){var n=this.acroField.getExportValues();if(n){for(var i=this.acroField.getOnValues(),a=0,o=i.length;a<o;a++)if(i[a]===e)return n[a].decodeText()}return e.decodeText()}},t.prototype.select=function(e){_(e,"option",["string"]);var n=this.getOptions();$e(e,"option",n),this.markAsDirty();var i=this.acroField.getOnValues(),a=this.acroField.getExportValues();if(a)for(var o=0,s=a.length;o<s;o++)a[o].decodeText()===e&&this.acroField.setValue(i[o]);else for(var o=0,s=i.length;o<s;o++){var u=i[o];u.decodeText()===e&&this.acroField.setValue(u)}},t.prototype.clear=function(){this.markAsDirty(),this.acroField.setValue(g.of("Off"))},t.prototype.isOffToggleable=function(){return!this.acroField.hasFlag(Fe.NoToggleToOff)},t.prototype.enableOffToggling=function(){this.acroField.setFlagTo(Fe.NoToggleToOff,!1)},t.prototype.disableOffToggling=function(){this.acroField.setFlagTo(Fe.NoToggleToOff,!0)},t.prototype.isMutuallyExclusive=function(){return!this.acroField.hasFlag(Fe.RadiosInUnison)},t.prototype.enableMutualExclusion=function(){this.acroField.setFlagTo(Fe.RadiosInUnison,!1)},t.prototype.disableMutualExclusion=function(){this.acroField.setFlagTo(Fe.RadiosInUnison,!0)},t.prototype.addOptionToPage=function(e,n,i){var a,o,s,u,c,l,v,b,m;_(e,"option",["string"]),_(n,"page",[[ke,"PDFPage"]]),zr(i);var w=this.createWidget({x:(a=i==null?void 0:i.x)!==null&&a!==void 0?a:0,y:(o=i==null?void 0:i.y)!==null&&o!==void 0?o:0,width:(s=i==null?void 0:i.width)!==null&&s!==void 0?s:50,height:(u=i==null?void 0:i.height)!==null&&u!==void 0?u:50,textColor:(c=i==null?void 0:i.textColor)!==null&&c!==void 0?c:Ct(0,0,0),backgroundColor:(l=i==null?void 0:i.backgroundColor)!==null&&l!==void 0?l:Ct(1,1,1),borderColor:(v=i==null?void 0:i.borderColor)!==null&&v!==void 0?v:Ct(0,0,0),borderWidth:(b=i==null?void 0:i.borderWidth)!==null&&b!==void 0?b:1,rotate:(m=i==null?void 0:i.rotate)!==null&&m!==void 0?m:nt(0),hidden:i==null?void 0:i.hidden,page:n.ref}),F=this.doc.context.register(w.dict),C=this.acroField.addWidgetWithOpt(F,et.fromText(e),!this.isMutuallyExclusive());w.setAppearanceState(g.of("Off")),this.updateWidgetAppearance(w,C),n.node.addAnnot(F)},t.prototype.needsAppearancesUpdate=function(){for(var e,n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var o=n[i],s=o.getAppearanceState(),u=(e=o.getAppearances())===null||e===void 0?void 0:e.normal;if(!(u instanceof ct)||s&&!u.has(s))return!0}return!1},t.prototype.defaultUpdateAppearances=function(){this.updateAppearances()},t.prototype.updateAppearances=function(e){j(e,"provider",[Function]);for(var n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var o=n[i],s=o.getOnValue();s&&this.updateWidgetAppearance(o,s,e)}},t.prototype.updateWidgetAppearance=function(e,n,i){var a=i??Nf,o=Ir(a(this,e));this.updateOnOffWidgetAppearance(e,n,o)},t.of=function(e,n,i){return new t(e,n,i)},t})(yr),Ci=(function(r){L(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return _(e,"acroSignature",[[Mi,"PDFAcroSignature"]]),a.acroField=e,a}return t.prototype.needsAppearancesUpdate=function(){return!1},t.of=function(e,n,i){return new t(e,n,i)},t})(yr),Dn=(function(r){L(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return _(e,"acroText",[[qn,"PDFAcroText"]]),a.acroField=e,a}return t.prototype.getText=function(){var e=this.acroField.getValue();if(!e&&this.isRichFormatted())throw new Af(this.getName());return e==null?void 0:e.decodeText()},t.prototype.setText=function(e){j(e,"text",["string"]);var n=this.getMaxLength();if(n!==void 0&&e&&e.length>n)throw new Df(e.length,n,this.getName());this.markAsDirty(),this.disableRichFormatting(),e?this.acroField.setValue(et.fromText(e)):this.acroField.removeValue()},t.prototype.getAlignment=function(){var e=this.acroField.getQuadding();return e===0?Ht.Left:e===1?Ht.Center:e===2?Ht.Right:Ht.Left},t.prototype.setAlignment=function(e){$e(e,"alignment",Ht),this.markAsDirty(),this.acroField.setQuadding(e)},t.prototype.getMaxLength=function(){return this.acroField.getMaxLength()},t.prototype.setMaxLength=function(e){if(Oe(e,"maxLength",0,Number.MAX_SAFE_INTEGER),this.markAsDirty(),e===void 0)this.acroField.removeMaxLength();else{var n=this.getText();if(n&&n.length>e)throw new Pf(n.length,e,this.getName());this.acroField.setMaxLength(e)}},t.prototype.removeMaxLength=function(){this.markAsDirty(),this.acroField.removeMaxLength()},t.prototype.setImage=function(e){for(var n=this.getAlignment(),i=n===Ht.Center?er.Center:n===Ht.Right?er.Right:er.Left,a=this.acroField.getWidgets(),o=0,s=a.length;o<s;o++){var u=a[o],c=this.createImageAppearanceStream(u,e,i);this.updateWidgetAppearances(u,{normal:c})}this.markAsClean()},t.prototype.setFontSize=function(e){Gn(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.isMultiline=function(){return this.acroField.hasFlag(It.Multiline)},t.prototype.enableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(It.Multiline,!0)},t.prototype.disableMultiline=function(){this.markAsDirty(),this.acroField.setFlagTo(It.Multiline,!1)},t.prototype.isPassword=function(){return this.acroField.hasFlag(It.Password)},t.prototype.enablePassword=function(){this.acroField.setFlagTo(It.Password,!0)},t.prototype.disablePassword=function(){this.acroField.setFlagTo(It.Password,!1)},t.prototype.isFileSelector=function(){return this.acroField.hasFlag(It.FileSelect)},t.prototype.enableFileSelection=function(){this.acroField.setFlagTo(It.FileSelect,!0)},t.prototype.disableFileSelection=function(){this.acroField.setFlagTo(It.FileSelect,!1)},t.prototype.isSpellChecked=function(){return!this.acroField.hasFlag(It.DoNotSpellCheck)},t.prototype.enableSpellChecking=function(){this.acroField.setFlagTo(It.DoNotSpellCheck,!1)},t.prototype.disableSpellChecking=function(){this.acroField.setFlagTo(It.DoNotSpellCheck,!0)},t.prototype.isScrollable=function(){return!this.acroField.hasFlag(It.DoNotScroll)},t.prototype.enableScrolling=function(){this.acroField.setFlagTo(It.DoNotScroll,!1)},t.prototype.disableScrolling=function(){this.acroField.setFlagTo(It.DoNotScroll,!0)},t.prototype.isCombed=function(){return this.acroField.hasFlag(It.Comb)&&!this.isMultiline()&&!this.isPassword()&&!this.isFileSelector()&&this.getMaxLength()!==void 0},t.prototype.enableCombing=function(){if(this.getMaxLength()===void 0){var e="PDFTextFields must have a max length in order to be combed";console.warn(e)}this.markAsDirty(),this.disableMultiline(),this.disablePassword(),this.disableFileSelection(),this.acroField.setFlagTo(It.Comb,!0)},t.prototype.disableCombing=function(){this.markAsDirty(),this.acroField.setFlagTo(It.Comb,!1)},t.prototype.isRichFormatted=function(){return this.acroField.hasFlag(It.RichText)},t.prototype.enableRichFormatting=function(){this.acroField.setFlagTo(It.RichText,!0)},t.prototype.disableRichFormatting=function(){this.acroField.setFlagTo(It.RichText,!1)},t.prototype.addToPage=function(e,n){var i,a,o,s,u,c,l;_(e,"page",[[ke,"PDFPage"]]),zr(n),n||(n={}),"textColor"in n||(n.textColor=Ct(0,0,0)),"backgroundColor"in n||(n.backgroundColor=Ct(1,1,1)),"borderColor"in n||(n.borderColor=Ct(0,0,0)),"borderWidth"in n||(n.borderWidth=1);var v=this.createWidget({x:(i=n.x)!==null&&i!==void 0?i:0,y:(a=n.y)!==null&&a!==void 0?a:0,width:(o=n.width)!==null&&o!==void 0?o:200,height:(s=n.height)!==null&&s!==void 0?s:50,textColor:n.textColor,backgroundColor:n.backgroundColor,borderColor:n.borderColor,borderWidth:(u=n.borderWidth)!==null&&u!==void 0?u:0,rotate:(c=n.rotate)!==null&&c!==void 0?c:nt(0),hidden:n.hidden,page:e.ref}),b=this.doc.context.register(v.dict);this.acroField.addWidget(b);var m=(l=n.font)!==null&&l!==void 0?l:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(v,m),e.node.addAnnot(b)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var o=n[i],s=((e=o.getAppearances())===null||e===void 0?void 0:e.normal)instanceof de;if(!s)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){_(e,"font",[[ve,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,n){_(e,"font",[[ve,"PDFFont"]]),j(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),a=0,o=i.length;a<o;a++){var s=i[a];this.updateWidgetAppearance(s,e,n)}this.markAsClean()},t.prototype.updateWidgetAppearance=function(e,n,i){var a=i??Mf,o=Ir(a(this,e,n));this.updateWidgetAppearanceWithFont(e,n,o)},t.of=function(e,n,i){return new t(e,n,i)},t})(yr),Un;(function(r){r.Courier="Courier",r.CourierBold="Courier-Bold",r.CourierOblique="Courier-Oblique",r.CourierBoldOblique="Courier-BoldOblique",r.Helvetica="Helvetica",r.HelveticaBold="Helvetica-Bold",r.HelveticaOblique="Helvetica-Oblique",r.HelveticaBoldOblique="Helvetica-BoldOblique",r.TimesRoman="Times-Roman",r.TimesRomanBold="Times-Bold",r.TimesRomanItalic="Times-Italic",r.TimesRomanBoldItalic="Times-BoldItalic",r.Symbol="Symbol",r.ZapfDingbats="ZapfDingbats"})(Un||(Un={}));var Uf=(function(){function r(t,e){var n=this;this.embedDefaultFont=function(){return n.doc.embedStandardFont(Un.Helvetica)},_(t,"acroForm",[[zn,"PDFAcroForm"]]),_(e,"doc",[[dr,"PDFDocument"]]),this.acroForm=t,this.doc=e,this.dirtyFields=new Set,this.defaultFontCache=He.populatedBy(this.embedDefaultFont)}return r.prototype.hasXFA=function(){return this.acroForm.dict.has(g.of("XFA"))},r.prototype.deleteXFA=function(){this.acroForm.dict.delete(g.of("XFA"))},r.prototype.getFields=function(){for(var t=this.acroForm.getAllFields(),e=[],n=0,i=t.length;n<i;n++){var a=t[n],o=a[0],s=a[1],u=Kf(o,s,this.doc);u&&e.push(u)}return e},r.prototype.getFieldMaybe=function(t){_(t,"name",["string"]);for(var e=this.getFields(),n=0,i=e.length;n<i;n++){var a=e[n];if(a.getName()===t)return a}},r.prototype.getField=function(t){_(t,"name",["string"]);var e=this.getFieldMaybe(t);if(e)return e;throw new Ff(t)},r.prototype.getButton=function(t){_(t,"name",["string"]);var e=this.getField(t);if(e instanceof Pn)return e;throw new lr(t,Pn,e)},r.prototype.getCheckBox=function(t){_(t,"name",["string"]);var e=this.getField(t);if(e instanceof Vr)return e;throw new lr(t,Vr,e)},r.prototype.getDropdown=function(t){_(t,"name",["string"]);var e=this.getField(t);if(e instanceof An)return e;throw new lr(t,An,e)},r.prototype.getOptionList=function(t){_(t,"name",["string"]);var e=this.getField(t);if(e instanceof Cn)return e;throw new lr(t,Cn,e)},r.prototype.getRadioGroup=function(t){_(t,"name",["string"]);var e=this.getField(t);if(e instanceof Xr)return e;throw new lr(t,Xr,e)},r.prototype.getSignature=function(t){_(t,"name",["string"]);var e=this.getField(t);if(e instanceof Ci)return e;throw new lr(t,Ci,e)},r.prototype.getTextField=function(t){_(t,"name",["string"]);var e=this.getField(t);if(e instanceof Dn)return e;throw new lr(t,Dn,e)},r.prototype.createButton=function(t){_(t,"name",["string"]);var e=Ar(t),n=this.findOrCreateNonTerminals(e.nonTerminal),i=Yn.create(this.doc.context);return i.setPartialName(e.terminal),Cr(n,[i,i.ref],e.terminal),Pn.of(i,i.ref,this.doc)},r.prototype.createCheckBox=function(t){_(t,"name",["string"]);var e=Ar(t),n=this.findOrCreateNonTerminals(e.nonTerminal),i=Vn.create(this.doc.context);return i.setPartialName(e.terminal),Cr(n,[i,i.ref],e.terminal),Vr.of(i,i.ref,this.doc)},r.prototype.createDropdown=function(t){_(t,"name",["string"]);var e=Ar(t),n=this.findOrCreateNonTerminals(e.nonTerminal),i=Xn.create(this.doc.context);return i.setPartialName(e.terminal),Cr(n,[i,i.ref],e.terminal),An.of(i,i.ref,this.doc)},r.prototype.createOptionList=function(t){_(t,"name",["string"]);var e=Ar(t),n=this.findOrCreateNonTerminals(e.nonTerminal),i=Qn.create(this.doc.context);return i.setPartialName(e.terminal),Cr(n,[i,i.ref],e.terminal),Cn.of(i,i.ref,this.doc)},r.prototype.createRadioGroup=function(t){_(t,"name",["string"]);var e=Ar(t),n=this.findOrCreateNonTerminals(e.nonTerminal),i=Jn.create(this.doc.context);return i.setPartialName(e.terminal),Cr(n,[i,i.ref],e.terminal),Xr.of(i,i.ref,this.doc)},r.prototype.createTextField=function(t){_(t,"name",["string"]);var e=Ar(t),n=this.findOrCreateNonTerminals(e.nonTerminal),i=qn.create(this.doc.context);return i.setPartialName(e.terminal),Cr(n,[i,i.ref],e.terminal),Dn.of(i,i.ref,this.doc)},r.prototype.flatten=function(t){t===void 0&&(t={updateFieldAppearances:!0}),t.updateFieldAppearances&&this.updateFieldAppearances();for(var e=this.getFields(),n=0,i=e.length;n<i;n++){for(var a=e[n],o=a.acroField.getWidgets(),s=0,u=o.length;s<u;s++){var c=o[s],l=this.findWidgetPage(c),v=this.findWidgetAppearanceRef(a,c),b=l.node.newXObject("FlatWidget",v),m=c.getRectangle(),w=mt([Gt(),Ce(m.x,m.y)],sr(ut(ut({},m),{rotation:0})),[Vi(b),Zt()]).filter(Boolean);l.pushOperators.apply(l,w)}this.removeField(a)}},r.prototype.removeField=function(t){for(var e=t.acroField.getWidgets(),n=new Set,i=0,a=e.length;i<a;i++){var o=e[i],s=this.findWidgetAppearanceRef(t,o),u=this.findWidgetPage(o);n.add(u),u.node.removeAnnot(s)}n.forEach(function(m){return m.node.removeAnnot(t.ref)}),this.acroForm.removeField(t.acroField);for(var c=t.acroField.normalizedEntries().Kids,l=c.size(),v=0;v<l;v++){var b=c.get(v);b instanceof At&&this.doc.context.delete(b)}this.doc.context.delete(t.ref)},r.prototype.updateFieldAppearances=function(t){j(t,"font",[[ve,"PDFFont"]]),t=t??this.getDefaultFont();for(var e=this.getFields(),n=0,i=e.length;n<i;n++){var a=e[n];a.needsAppearancesUpdate()&&a.defaultUpdateAppearances(t)}},r.prototype.markFieldAsDirty=function(t){j(t,"fieldRef",[[At,"PDFRef"]]),this.dirtyFields.add(t)},r.prototype.markFieldAsClean=function(t){j(t,"fieldRef",[[At,"PDFRef"]]),this.dirtyFields.delete(t)},r.prototype.fieldIsDirty=function(t){return j(t,"fieldRef",[[At,"PDFRef"]]),this.dirtyFields.has(t)},r.prototype.getDefaultFont=function(){return this.defaultFontCache.access()},r.prototype.findWidgetPage=function(t){var e=t.P(),n=this.doc.getPages().find(function(a){return a.ref===e});if(n===void 0){var i=this.doc.context.getObjectRef(t.dict);if(i===void 0)throw new Error("Could not find PDFRef for PDFObject");if(n=this.doc.findPageForAnnotationRef(i),n===void 0)throw new Error("Could not find page for PDFRef "+i)}return n},r.prototype.findWidgetAppearanceRef=function(t,e){var n,i=e.getNormalAppearance();if(i instanceof ct&&(t instanceof Vr||t instanceof Xr)){var a=t.acroField.getValue(),o=(n=i.get(a))!==null&&n!==void 0?n:i.get(g.of("Off"));o instanceof At&&(i=o)}if(!(i instanceof At)){var s=t.getName();throw new Error("Failed to extract appearance ref for: "+s)}return i},r.prototype.findOrCreateNonTerminals=function(t){for(var e=[this.acroForm],n=0,i=t.length;n<i;n++){var a=t[n];if(!a)throw new kf(a);var o=e[0],s=e[1],u=this.findNonTerminal(a,o);if(u)e=u;else{var c=In.create(this.doc.context);c.setPartialName(a),c.setParent(s);var l=this.doc.context.register(c.dict);o.addField(l),e=[c,l]}}return e},r.prototype.findNonTerminal=function(t,e){for(var n=e instanceof zn?this.acroForm.getFields():Wi(e.Kids()),i=0,a=n.length;i<a;i++){var o=n[i],s=o[0],u=o[1];if(s.getPartialName()===t){if(s instanceof In)return[s,u];throw new Go(t)}}},r.of=function(t,e){return new r(t,e)},r})(),Kf=function(r,t,e){if(r instanceof Yn)return Pn.of(r,t,e);if(r instanceof Vn)return Vr.of(r,t,e);if(r instanceof Xn)return An.of(r,t,e);if(r instanceof Qn)return Cn.of(r,t,e);if(r instanceof qn)return Dn.of(r,t,e);if(r instanceof Jn)return Xr.of(r,t,e);if(r instanceof Mi)return Ci.of(r,t,e)},Ar=function(r){if(r.length===0)throw new Error("PDF field names must not be empty strings");for(var t=r.split("."),e=0,n=t.length;e<n;e++)if(t[e]==="")throw new Error('Periods in PDF field names must be separated by at least one character: "'+r+'"');return t.length===1?{nonTerminal:[],terminal:t[0]}:{nonTerminal:t.slice(0,t.length-1),terminal:t[t.length-1]}},Cr=function(r,t,e){for(var n=r[0],i=r[1],a=t[0],o=t[1],s=n.normalizedEntries(),u=Wi("Kids"in s?s.Kids:s.Fields),c=0,l=u.length;c<l;c++)if(u[c][0].getPartialName()===e)throw new Go(e);n.addField(o),a.setParent(i)},Hf={A4:[595.28,841.89]},Di;(function(r){r[r.Fastest=1/0]="Fastest",r[r.Fast=1500]="Fast",r[r.Medium=500]="Medium",r[r.Slow=100]="Slow"})(Di||(Di={}));var Gf=(function(){function r(t,e,n){this.alreadyEmbedded=!1,this.ref=t,this.doc=e,this.embedder=n}return r.prototype.embed=function(){return lt(this,void 0,void 0,function(){var t,e,n,i,a;return ht(this,function(o){switch(o.label){case 0:return this.alreadyEmbedded?[3,2]:[4,this.embedder.embedIntoContext(this.doc.context,this.ref)];case 1:t=o.sent(),this.doc.catalog.has(g.of("Names"))||this.doc.catalog.set(g.of("Names"),this.doc.context.obj({})),e=this.doc.catalog.lookup(g.of("Names"),ct),e.has(g.of("EmbeddedFiles"))||e.set(g.of("EmbeddedFiles"),this.doc.context.obj({})),n=e.lookup(g.of("EmbeddedFiles"),ct),n.has(g.of("Names"))||n.set(g.of("Names"),this.doc.context.obj([])),i=n.lookup(g.of("Names"),_t),i.push(et.fromText(this.embedder.fileName)),i.push(t),this.doc.catalog.has(g.of("AF"))||this.doc.catalog.set(g.of("AF"),this.doc.context.obj([])),a=this.doc.catalog.lookup(g.of("AF"),_t),a.push(t),this.alreadyEmbedded=!0,o.label=2;case 2:return[2]}})})},r.of=function(t,e,n){return new r(t,e,n)},r})(),Zf=(function(){function r(t,e,n){this.alreadyEmbedded=!1,this.ref=t,this.doc=e,this.embedder=n}return r.prototype.embed=function(){return lt(this,void 0,void 0,function(){var t,e,n,i,a,o,s;return ht(this,function(u){switch(u.label){case 0:return this.alreadyEmbedded?[3,2]:(t=this.doc,e=t.catalog,n=t.context,[4,this.embedder.embedIntoContext(this.doc.context,this.ref)]);case 1:i=u.sent(),e.has(g.of("Names"))||e.set(g.of("Names"),n.obj({})),a=e.lookup(g.of("Names"),ct),a.has(g.of("JavaScript"))||a.set(g.of("JavaScript"),n.obj({})),o=a.lookup(g.of("JavaScript"),ct),o.has(g.of("Names"))||o.set(g.of("Names"),n.obj([])),s=o.lookup(g.of("Names"),_t),s.push(et.fromText(this.embedder.scriptName)),s.push(i),this.alreadyEmbedded=!0,u.label=2;case 2:return[2]}})})},r.of=function(t,e,n){return new r(t,e,n)},r})(),Vf=(function(){function r(t,e){this.script=t,this.scriptName=e}return r.for=function(t,e){return new r(t,e)},r.prototype.embedIntoContext=function(t,e){return lt(this,void 0,void 0,function(){var n;return ht(this,function(i){return n=t.obj({Type:"Action",S:"JavaScript",JS:et.fromText(this.script)}),e?(t.assign(e,n),[2,e]):[2,t.register(n)]})})},r})(),dr=(function(){function r(t,e,n){var i=this;if(this.defaultWordBreaks=[" "],this.computePages=function(){var a=[];return i.catalog.Pages().traverse(function(o,s){if(o instanceof Ge){var u=i.pageMap.get(o);u||(u=ke.of(o,s,i),i.pageMap.set(o,u)),a.push(u)}}),a},this.getOrCreateForm=function(){var a=i.catalog.getOrCreateAcroForm();return Uf.of(a,i)},_(t,"context",[[wi,"PDFContext"]]),_(e,"ignoreEncryption",["boolean"]),this.context=t,this.catalog=t.lookup(t.trailerInfo.Root),this.isEncrypted=!!t.lookup(t.trailerInfo.Encrypt),this.pageCache=He.populatedBy(this.computePages),this.pageMap=new Map,this.formCache=He.populatedBy(this.getOrCreateForm),this.fonts=[],this.images=[],this.embeddedPages=[],this.embeddedFiles=[],this.javaScripts=[],!e&&this.isEncrypted)throw new xf;n&&this.updateInfoDict()}return r.load=function(t,e){return e===void 0&&(e={}),lt(this,void 0,void 0,function(){var n,i,a,o,s,u,c,l,v,b,m,w;return ht(this,function(F){switch(F.label){case 0:return n=e.ignoreEncryption,i=n===void 0?!1:n,a=e.parseSpeed,o=a===void 0?Di.Slow:a,s=e.throwOnInvalidObject,u=s===void 0?!1:s,c=e.updateMetadata,l=c===void 0?!0:c,v=e.capNumbers,b=v===void 0?!1:v,_(t,"pdf",["string",Uint8Array,ArrayBuffer]),_(i,"ignoreEncryption",["boolean"]),_(o,"parseSpeed",["number"]),_(u,"throwOnInvalidObject",["boolean"]),m=Nr(t),[4,Xu.forBytesWithOptions(m,o,u,b).parseDocument()];case 1:return w=F.sent(),[2,new r(w,i,l)]}})})},r.create=function(t){return t===void 0&&(t={}),lt(this,void 0,void 0,function(){var e,n,i,a,o,s;return ht(this,function(u){return e=t.updateMetadata,n=e===void 0?!0:e,i=wi.create(),a=Co.withContext(i),o=i.register(a),s=Ao.withContextAndPages(i,o),i.trailerInfo.Root=i.register(s),[2,new r(i,!1,n)]})})},r.prototype.registerFontkit=function(t){this.fontkit=t},r.prototype.getForm=function(){var t=this.formCache.access();return t.hasXFA()&&(console.warn("Removing XFA form data as pdf-lib does not support reading or writing XFA"),t.deleteXFA()),t},r.prototype.getTitle=function(){var t=this.getInfoDict().lookup(g.Title);if(t)return Je(t),t.decodeText()},r.prototype.getAuthor=function(){var t=this.getInfoDict().lookup(g.Author);if(t)return Je(t),t.decodeText()},r.prototype.getSubject=function(){var t=this.getInfoDict().lookup(g.Subject);if(t)return Je(t),t.decodeText()},r.prototype.getKeywords=function(){var t=this.getInfoDict().lookup(g.Keywords);if(t)return Je(t),t.decodeText()},r.prototype.getCreator=function(){var t=this.getInfoDict().lookup(g.Creator);if(t)return Je(t),t.decodeText()},r.prototype.getProducer=function(){var t=this.getInfoDict().lookup(g.Producer);if(t)return Je(t),t.decodeText()},r.prototype.getCreationDate=function(){var t=this.getInfoDict().lookup(g.CreationDate);if(t)return Je(t),t.decodeDate()},r.prototype.getModificationDate=function(){var t=this.getInfoDict().lookup(g.ModDate);if(t)return Je(t),t.decodeDate()},r.prototype.setTitle=function(t,e){_(t,"title",["string"]);var n=g.of("Title");if(this.getInfoDict().set(n,et.fromText(t)),e!=null&&e.showInWindowTitleBar){var i=this.catalog.getOrCreateViewerPreferences();i.setDisplayDocTitle(!0)}},r.prototype.setAuthor=function(t){_(t,"author",["string"]);var e=g.of("Author");this.getInfoDict().set(e,et.fromText(t))},r.prototype.setSubject=function(t){_(t,"author",["string"]);var e=g.of("Subject");this.getInfoDict().set(e,et.fromText(t))},r.prototype.setKeywords=function(t){_(t,"keywords",[Array]);var e=g.of("Keywords");this.getInfoDict().set(e,et.fromText(t.join(" ")))},r.prototype.setCreator=function(t){_(t,"creator",["string"]);var e=g.of("Creator");this.getInfoDict().set(e,et.fromText(t))},r.prototype.setProducer=function(t){_(t,"creator",["string"]);var e=g.of("Producer");this.getInfoDict().set(e,et.fromText(t))},r.prototype.setLanguage=function(t){_(t,"language",["string"]);var e=g.of("Lang");this.catalog.set(e,kt.of(t))},r.prototype.setCreationDate=function(t){_(t,"creationDate",[[Date,"Date"]]);var e=g.of("CreationDate");this.getInfoDict().set(e,kt.fromDate(t))},r.prototype.setModificationDate=function(t){_(t,"modificationDate",[[Date,"Date"]]);var e=g.of("ModDate");this.getInfoDict().set(e,kt.fromDate(t))},r.prototype.getPageCount=function(){return this.pageCount===void 0&&(this.pageCount=this.getPages().length),this.pageCount},r.prototype.getPages=function(){return this.pageCache.access()},r.prototype.getPage=function(t){var e=this.getPages();return le(t,"index",0,e.length-1),e[t]},r.prototype.getPageIndices=function(){return gs(0,this.getPageCount())},r.prototype.removePage=function(t){var e=this.getPageCount();if(this.pageCount===0)throw new _f;le(t,"index",0,e-1),this.catalog.removeLeafNode(t),this.pageCount=e-1},r.prototype.addPage=function(t){return _(t,"page",["undefined",[ke,"PDFPage"],Array]),this.insertPage(this.getPageCount(),t)},r.prototype.insertPage=function(t,e){var n=this.getPageCount();if(le(t,"index",0,n),_(e,"page",["undefined",[ke,"PDFPage"],Array]),!e||Array.isArray(e)){var i=Array.isArray(e)?e:Hf.A4;e=ke.create(this),e.setSize.apply(e,i)}else if(e.doc!==this)throw new Sf;var a=this.catalog.insertLeafNode(e.ref,t);return e.node.setParent(a),this.pageMap.set(e.node,e),this.pageCache.invalidate(),this.pageCount=n+1,e},r.prototype.copyPages=function(t,e){return lt(this,void 0,void 0,function(){var n,i,a,o,s,u,c,l;return ht(this,function(v){switch(v.label){case 0:return _(t,"srcDoc",[[r,"PDFDocument"]]),_(e,"indices",[Array]),[4,t.flush()];case 1:for(v.sent(),n=Da.for(t.context,this.context),i=t.getPages(),a=new Array(e.length),o=0,s=e.length;o<s;o++)u=i[e[o]],c=n.copy(u.node),l=this.context.register(c),a[o]=ke.of(c,l,this);return[2,a]}})})},r.prototype.copy=function(){return lt(this,void 0,void 0,function(){var t,e,n,i;return ht(this,function(a){switch(a.label){case 0:return[4,r.create()];case 1:return t=a.sent(),[4,t.copyPages(this,this.getPageIndices())];case 2:for(e=a.sent(),n=0,i=e.length;n<i;n++)t.addPage(e[n]);return this.getAuthor()!==void 0&&t.setAuthor(this.getAuthor()),this.getCreationDate()!==void 0&&t.setCreationDate(this.getCreationDate()),this.getCreator()!==void 0&&t.setCreator(this.getCreator()),this.getModificationDate()!==void 0&&t.setModificationDate(this.getModificationDate()),this.getProducer()!==void 0&&t.setProducer(this.getProducer()),this.getSubject()!==void 0&&t.setSubject(this.getSubject()),this.getTitle()!==void 0&&t.setTitle(this.getTitle()),t.defaultWordBreaks=this.defaultWordBreaks,[2,t]}})})},r.prototype.addJavaScript=function(t,e){_(t,"name",["string"]),_(e,"script",["string"]);var n=Vf.for(e,t),i=this.context.nextRef(),a=Zf.of(i,this,n);this.javaScripts.push(a)},r.prototype.attach=function(t,e,n){return n===void 0&&(n={}),lt(this,void 0,void 0,function(){var i,a,o,s;return ht(this,function(u){return _(t,"attachment",["string",Uint8Array,ArrayBuffer]),_(e,"name",["string"]),j(n.mimeType,"mimeType",["string"]),j(n.description,"description",["string"]),j(n.creationDate,"options.creationDate",[Date]),j(n.modificationDate,"options.modificationDate",[Date]),_e(n.afRelationship,"options.afRelationship",Si),i=Nr(t),a=xu.for(i,e,n),o=this.context.nextRef(),s=Gf.of(o,this,a),this.embeddedFiles.push(s),[2]})})},r.prototype.embedFont=function(t,e){return e===void 0&&(e={}),lt(this,void 0,void 0,function(){var n,i,a,o,s,u,c,l,v,b;return ht(this,function(m){switch(m.label){case 0:return n=e.subset,i=n===void 0?!1:n,a=e.customName,o=e.features,_(t,"font",["string",Uint8Array,ArrayBuffer]),_(i,"subset",["boolean"]),na(t)?(s=On.for(t,a),[3,7]):[3,1];case 1:return bs(t)?(u=Nr(t),c=this.assertFontkit(),i?[4,mu.for(c,u,a,o)]:[3,3]):[3,6];case 2:return l=m.sent(),[3,5];case 3:return[4,Ni.for(c,u,a,o)];case 4:l=m.sent(),m.label=5;case 5:return s=l,[3,7];case 6:throw new TypeError("`font` must be one of `StandardFonts | string | Uint8Array | ArrayBuffer`");case 7:return v=this.context.nextRef(),b=ve.of(v,this,s),this.fonts.push(b),[2,b]}})})},r.prototype.embedStandardFont=function(t,e){if(_(t,"font",["string"]),!na(t))throw new TypeError("`font` must be one of type `StandardFonts`");var n=On.for(t,e),i=this.context.nextRef(),a=ve.of(i,this,n);return this.fonts.push(a),a},r.prototype.embedJpg=function(t){return lt(this,void 0,void 0,function(){var e,n,i,a;return ht(this,function(o){switch(o.label){case 0:return _(t,"jpg",["string",Uint8Array,ArrayBuffer]),e=Nr(t),[4,yo.for(e)];case 1:return n=o.sent(),i=this.context.nextRef(),a=Ai.of(i,this,n),this.images.push(a),[2,a]}})})},r.prototype.embedPng=function(t){return lt(this,void 0,void 0,function(){var e,n,i,a;return ht(this,function(o){switch(o.label){case 0:return _(t,"png",["string",Uint8Array,ArrayBuffer]),e=Nr(t),[4,bo.for(e)];case 1:return n=o.sent(),i=this.context.nextRef(),a=Ai.of(i,this,n),this.images.push(a),[2,a]}})})},r.prototype.embedPdf=function(t,e){return e===void 0&&(e=[0]),lt(this,void 0,void 0,function(){var n,i,a;return ht(this,function(o){switch(o.label){case 0:return _(t,"pdf",["string",Uint8Array,ArrayBuffer,[r,"PDFDocument"]]),_(e,"indices",[Array]),t instanceof r?(i=t,[3,3]):[3,1];case 1:return[4,r.load(t)];case 2:i=o.sent(),o.label=3;case 3:return n=i,a=ys(n.getPages(),e),[2,this.embedPages(a)]}})})},r.prototype.embedPage=function(t,e,n){return lt(this,void 0,void 0,function(){var i;return ht(this,function(a){switch(a.label){case 0:return _(t,"page",[[ke,"PDFPage"]]),[4,this.embedPages([t],[e],[n])];case 1:return i=a.sent()[0],[2,i]}})})},r.prototype.embedPages=function(t,e,n){return e===void 0&&(e=[]),n===void 0&&(n=[]),lt(this,void 0,void 0,function(){var c,l,i,a,o,s,u,c,l,v,b,m,w,F,C;return ht(this,function(k){switch(k.label){case 0:if(t.length===0)return[2,[]];for(c=0,l=t.length-1;c<l;c++)if(i=t[c],a=t[c+1],i.node.context!==a.node.context)throw new zs;o=t[0].node.context,s=o===this.context?function(B){return B}:Da.for(o,this.context).copy,u=new Array(t.length),c=0,l=t.length,k.label=1;case 1:return c<l?(v=s(t[c].node),b=e[c],m=n[c],[4,wo.for(v,b,m)]):[3,4];case 2:w=k.sent(),F=this.context.nextRef(),u[c]=Yo.of(F,this,w),k.label=3;case 3:return c++,[3,1];case 4:return(C=this.embeddedPages).push.apply(C,u),[2,u]}})})},r.prototype.flush=function(){return lt(this,void 0,void 0,function(){return ht(this,function(t){switch(t.label){case 0:return[4,this.embedAll(this.fonts)];case 1:return t.sent(),[4,this.embedAll(this.images)];case 2:return t.sent(),[4,this.embedAll(this.embeddedPages)];case 3:return t.sent(),[4,this.embedAll(this.embeddedFiles)];case 4:return t.sent(),[4,this.embedAll(this.javaScripts)];case 5:return t.sent(),[2]}})})},r.prototype.save=function(t){return t===void 0&&(t={}),lt(this,void 0,void 0,function(){var e,n,i,a,o,s,u,c,l,v;return ht(this,function(b){switch(b.label){case 0:return e=t.useObjectStreams,n=e===void 0?!0:e,i=t.addDefaultPage,a=i===void 0?!0:i,o=t.objectsPerTick,s=o===void 0?50:o,u=t.updateFieldAppearances,c=u===void 0?!0:u,_(n,"useObjectStreams",["boolean"]),_(a,"addDefaultPage",["boolean"]),_(s,"objectsPerTick",["number"]),_(c,"updateFieldAppearances",["boolean"]),a&&this.getPageCount()===0&&this.addPage(),c&&(l=this.formCache.getValue(),l&&l.updateFieldAppearances()),[4,this.flush()];case 1:return b.sent(),v=n?du:po,[2,v.forContext(this.context,s).serializeToBuffer()]}})})},r.prototype.saveAsBase64=function(t){return t===void 0&&(t={}),lt(this,void 0,void 0,function(){var e,n,i,a,o;return ht(this,function(s){switch(s.label){case 0:return e=t.dataUri,n=e===void 0?!1:e,i=$o(t,["dataUri"]),_(n,"dataUri",["boolean"]),[4,this.save(i)];case 1:return a=s.sent(),o=ts(a),[2,n?"data:application/pdf;base64,"+o:o]}})})},r.prototype.findPageForAnnotationRef=function(t){for(var e=this.getPages(),n=0,i=e.length;n<i;n++){var a=e[n],o=a.node.Annots();if((o==null?void 0:o.indexOf(t))!==void 0)return a}},r.prototype.embedAll=function(t){return lt(this,void 0,void 0,function(){var e,n;return ht(this,function(i){switch(i.label){case 0:e=0,n=t.length,i.label=1;case 1:return e<n?[4,t[e].embed()]:[3,4];case 2:i.sent(),i.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},r.prototype.updateInfoDict=function(){var t="pdf-lib (https://github.com/Hopding/pdf-lib)",e=new Date,n=this.getInfoDict();this.setProducer(t),this.setModificationDate(e),n.get(g.of("Creator"))||this.setCreator(t),n.get(g.of("CreationDate"))||this.setCreationDate(e)},r.prototype.getInfoDict=function(){var t=this.context.lookup(this.context.trailerInfo.Info);if(t instanceof ct)return t;var e=this.context.obj({});return this.context.trailerInfo.Info=this.context.register(e),e},r.prototype.assertFontkit=function(){if(!this.fontkit)throw new wf;return this.fontkit},r})();function Je(r){if(!(r instanceof et)&&!(r instanceof kt))throw new Tn([et,kt],r)}var Ue;(function(r){r.Normal="Normal",r.Multiply="Multiply",r.Screen="Screen",r.Overlay="Overlay",r.Darken="Darken",r.Lighten="Lighten",r.ColorDodge="ColorDodge",r.ColorBurn="ColorBurn",r.HardLight="HardLight",r.SoftLight="SoftLight",r.Difference="Difference",r.Exclusion="Exclusion"})(Ue||(Ue={}));var ke=(function(){function r(t,e,n){this.fontSize=24,this.fontColor=Ct(0,0,0),this.lineHeight=24,this.x=0,this.y=0,_(t,"leafNode",[[Ge,"PDFPageLeaf"]]),_(e,"ref",[[At,"PDFRef"]]),_(n,"doc",[[dr,"PDFDocument"]]),this.node=t,this.ref=e,this.doc=n}return r.prototype.setRotation=function(t){var e=Eo(t);no(e,"degreesAngle",90),this.node.set(g.of("Rotate"),this.doc.context.obj(e))},r.prototype.getRotation=function(){var t=this.node.Rotate();return nt(t?t.asNumber():0)},r.prototype.setSize=function(t,e){_(t,"width",["number"]),_(e,"height",["number"]);var n=this.getMediaBox();this.setMediaBox(n.x,n.y,t,e);var i=this.getCropBox(),a=this.getBleedBox(),o=this.getTrimBox(),s=this.getArtBox(),u=this.node.CropBox(),c=this.node.BleedBox(),l=this.node.TrimBox(),v=this.node.ArtBox();u&&gn(i,n)&&this.setCropBox(n.x,n.y,t,e),c&&gn(a,n)&&this.setBleedBox(n.x,n.y,t,e),l&&gn(o,n)&&this.setTrimBox(n.x,n.y,t,e),v&&gn(s,n)&&this.setArtBox(n.x,n.y,t,e)},r.prototype.setWidth=function(t){_(t,"width",["number"]),this.setSize(t,this.getSize().height)},r.prototype.setHeight=function(t){_(t,"height",["number"]),this.setSize(this.getSize().width,t)},r.prototype.setMediaBox=function(t,e,n,i){_(t,"x",["number"]),_(e,"y",["number"]),_(n,"width",["number"]),_(i,"height",["number"]);var a=this.doc.context.obj([t,e,t+n,e+i]);this.node.set(g.MediaBox,a)},r.prototype.setCropBox=function(t,e,n,i){_(t,"x",["number"]),_(e,"y",["number"]),_(n,"width",["number"]),_(i,"height",["number"]);var a=this.doc.context.obj([t,e,t+n,e+i]);this.node.set(g.CropBox,a)},r.prototype.setBleedBox=function(t,e,n,i){_(t,"x",["number"]),_(e,"y",["number"]),_(n,"width",["number"]),_(i,"height",["number"]);var a=this.doc.context.obj([t,e,t+n,e+i]);this.node.set(g.BleedBox,a)},r.prototype.setTrimBox=function(t,e,n,i){_(t,"x",["number"]),_(e,"y",["number"]),_(n,"width",["number"]),_(i,"height",["number"]);var a=this.doc.context.obj([t,e,t+n,e+i]);this.node.set(g.TrimBox,a)},r.prototype.setArtBox=function(t,e,n,i){_(t,"x",["number"]),_(e,"y",["number"]),_(n,"width",["number"]),_(i,"height",["number"]);var a=this.doc.context.obj([t,e,t+n,e+i]);this.node.set(g.ArtBox,a)},r.prototype.getSize=function(){var t=this.getMediaBox(),e=t.width,n=t.height;return{width:e,height:n}},r.prototype.getWidth=function(){return this.getSize().width},r.prototype.getHeight=function(){return this.getSize().height},r.prototype.getMediaBox=function(){var t=this.node.MediaBox();return t.asRectangle()},r.prototype.getCropBox=function(){var t,e=this.node.CropBox();return(t=e==null?void 0:e.asRectangle())!==null&&t!==void 0?t:this.getMediaBox()},r.prototype.getBleedBox=function(){var t,e=this.node.BleedBox();return(t=e==null?void 0:e.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},r.prototype.getTrimBox=function(){var t,e=this.node.TrimBox();return(t=e==null?void 0:e.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},r.prototype.getArtBox=function(){var t,e=this.node.ArtBox();return(t=e==null?void 0:e.asRectangle())!==null&&t!==void 0?t:this.getCropBox()},r.prototype.translateContent=function(t,e){_(t,"x",["number"]),_(e,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(Gt(),Ce(t,e)),i=this.doc.context.register(n),a=this.createContentStream(Zt()),o=this.doc.context.register(a);this.node.wrapContentStreams(i,o)},r.prototype.scale=function(t,e){_(t,"x",["number"]),_(e,"y",["number"]),this.setSize(this.getWidth()*t,this.getHeight()*e),this.scaleContent(t,e),this.scaleAnnotations(t,e)},r.prototype.scaleContent=function(t,e){_(t,"x",["number"]),_(e,"y",["number"]),this.node.normalize(),this.getContentStream();var n=this.createContentStream(Gt(),nn(t,e)),i=this.doc.context.register(n),a=this.createContentStream(Zt()),o=this.doc.context.register(a);this.node.wrapContentStreams(i,o)},r.prototype.scaleAnnotations=function(t,e){_(t,"x",["number"]),_(e,"y",["number"]);var n=this.node.Annots();if(n)for(var i=0;i<n.size();i++){var a=n.lookup(i);a instanceof ct&&this.scaleAnnot(a,t,e)}},r.prototype.resetPosition=function(){this.getContentStream(!1),this.x=0,this.y=0},r.prototype.setFont=function(t){_(t,"font",[[ve,"PDFFont"]]),this.font=t,this.fontKey=this.node.newFontDictionary(this.font.name,this.font.ref)},r.prototype.setFontSize=function(t){_(t,"fontSize",["number"]),this.fontSize=t},r.prototype.setFontColor=function(t){_(t,"fontColor",[[Object,"Color"]]),this.fontColor=t},r.prototype.setLineHeight=function(t){_(t,"lineHeight",["number"]),this.lineHeight=t},r.prototype.getPosition=function(){return{x:this.x,y:this.y}},r.prototype.getX=function(){return this.x},r.prototype.getY=function(){return this.y},r.prototype.moveTo=function(t,e){_(t,"x",["number"]),_(e,"y",["number"]),this.x=t,this.y=e},r.prototype.moveDown=function(t){_(t,"yDecrease",["number"]),this.y-=t},r.prototype.moveUp=function(t){_(t,"yIncrease",["number"]),this.y+=t},r.prototype.moveLeft=function(t){_(t,"xDecrease",["number"]),this.x-=t},r.prototype.moveRight=function(t){_(t,"xIncrease",["number"]),this.x+=t},r.prototype.pushOperators=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];ro(t,"operator",[[bt,"PDFOperator"]]);var n=this.getContentStream();n.push.apply(n,t)},r.prototype.drawText=function(t,e){var n,i,a,o,s,u,c;e===void 0&&(e={}),_(t,"text",["string"]),j(e.color,"options.color",[[Object,"Color"]]),Oe(e.opacity,"opacity.opacity",0,1),j(e.font,"options.font",[[ve,"PDFFont"]]),j(e.size,"options.size",["number"]),j(e.rotate,"options.rotate",[[Object,"Rotation"]]),j(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),j(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),j(e.x,"options.x",["number"]),j(e.y,"options.y",["number"]),j(e.lineHeight,"options.lineHeight",["number"]),j(e.maxWidth,"options.maxWidth",["number"]),j(e.wordBreaks,"options.wordBreaks",[Array]),_e(e.blendMode,"options.blendMode",Ue);for(var l=this.setOrEmbedFont(e.font),v=l.oldFont,b=l.newFont,m=l.newFontKey,w=e.size||this.fontSize,F=e.wordBreaks||this.doc.defaultWordBreaks,C=function(E){return b.widthOfTextAtSize(E,w)},k=e.maxWidth===void 0?Ga(on(t)):fs(t,F,e.maxWidth,C),B=new Array(k.length),O=0,N=k.length;O<N;O++)B[O]=b.encodeText(k[O]);var R=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),M=this.getContentStream();M.push.apply(M,hf(B,{color:(n=e.color)!==null&&n!==void 0?n:this.fontColor,font:m,size:w,rotate:(i=e.rotate)!==null&&i!==void 0?i:nt(0),xSkew:(a=e.xSkew)!==null&&a!==void 0?a:nt(0),ySkew:(o=e.ySkew)!==null&&o!==void 0?o:nt(0),x:(s=e.x)!==null&&s!==void 0?s:this.x,y:(u=e.y)!==null&&u!==void 0?u:this.y,lineHeight:(c=e.lineHeight)!==null&&c!==void 0?c:this.lineHeight,graphicsState:R})),e.font&&(v?this.setFont(v):this.resetFont())},r.prototype.drawImage=function(t,e){var n,i,a,o,s,u,c;e===void 0&&(e={}),_(t,"image",[[Ai,"PDFImage"]]),j(e.x,"options.x",["number"]),j(e.y,"options.y",["number"]),j(e.width,"options.width",["number"]),j(e.height,"options.height",["number"]),j(e.rotate,"options.rotate",[[Object,"Rotation"]]),j(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),j(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Oe(e.opacity,"opacity.opacity",0,1),_e(e.blendMode,"options.blendMode",Ue);var l=this.node.newXObject("Image",t.ref),v=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),b=this.getContentStream();b.push.apply(b,Ko(l,{x:(n=e.x)!==null&&n!==void 0?n:this.x,y:(i=e.y)!==null&&i!==void 0?i:this.y,width:(a=e.width)!==null&&a!==void 0?a:t.size().width,height:(o=e.height)!==null&&o!==void 0?o:t.size().height,rotate:(s=e.rotate)!==null&&s!==void 0?s:nt(0),xSkew:(u=e.xSkew)!==null&&u!==void 0?u:nt(0),ySkew:(c=e.ySkew)!==null&&c!==void 0?c:nt(0),graphicsState:v}))},r.prototype.drawPage=function(t,e){var n,i,a,o,s;e===void 0&&(e={}),_(t,"embeddedPage",[[Yo,"PDFEmbeddedPage"]]),j(e.x,"options.x",["number"]),j(e.y,"options.y",["number"]),j(e.xScale,"options.xScale",["number"]),j(e.yScale,"options.yScale",["number"]),j(e.width,"options.width",["number"]),j(e.height,"options.height",["number"]),j(e.rotate,"options.rotate",[[Object,"Rotation"]]),j(e.xSkew,"options.xSkew",[[Object,"Rotation"]]),j(e.ySkew,"options.ySkew",[[Object,"Rotation"]]),Oe(e.opacity,"opacity.opacity",0,1),_e(e.blendMode,"options.blendMode",Ue);var u=this.node.newXObject("EmbeddedPdfPage",t.ref),c=this.maybeEmbedGraphicsState({opacity:e.opacity,blendMode:e.blendMode}),l=e.width!==void 0?e.width/t.width:e.xScale!==void 0?e.xScale:1,v=e.height!==void 0?e.height/t.height:e.yScale!==void 0?e.yScale:1,b=this.getContentStream();b.push.apply(b,df(u,{x:(n=e.x)!==null&&n!==void 0?n:this.x,y:(i=e.y)!==null&&i!==void 0?i:this.y,xScale:l,yScale:v,rotate:(a=e.rotate)!==null&&a!==void 0?a:nt(0),xSkew:(o=e.xSkew)!==null&&o!==void 0?o:nt(0),ySkew:(s=e.ySkew)!==null&&s!==void 0?s:nt(0),graphicsState:c}))},r.prototype.drawSvgPath=function(t,e){var n,i,a,o,s,u,c,l,v;e===void 0&&(e={}),_(t,"path",["string"]),j(e.x,"options.x",["number"]),j(e.y,"options.y",["number"]),j(e.scale,"options.scale",["number"]),j(e.rotate,"options.rotate",[[Object,"Rotation"]]),j(e.borderWidth,"options.borderWidth",["number"]),j(e.color,"options.color",[[Object,"Color"]]),Oe(e.opacity,"opacity.opacity",0,1),j(e.borderColor,"options.borderColor",[[Object,"Color"]]),j(e.borderDashArray,"options.borderDashArray",[Array]),j(e.borderDashPhase,"options.borderDashPhase",["number"]),_e(e.borderLineCap,"options.borderLineCap",Pr),Oe(e.borderOpacity,"options.borderOpacity",0,1),_e(e.blendMode,"options.blendMode",Ue);var b=this.maybeEmbedGraphicsState({opacity:e.opacity,borderOpacity:e.borderOpacity,blendMode:e.blendMode});!("color"in e)&&!("borderColor"in e)&&(e.borderColor=Ct(0,0,0));var m=this.getContentStream();m.push.apply(m,yf(t,{x:(n=e.x)!==null&&n!==void 0?n:this.x,y:(i=e.y)!==null&&i!==void 0?i:this.y,scale:e.scale,rotate:(a=e.rotate)!==null&&a!==void 0?a:nt(0),color:(o=e.color)!==null&&o!==void 0?o:void 0,borderColor:(s=e.borderColor)!==null&&s!==void 0?s:void 0,borderWidth:(u=e.borderWidth)!==null&&u!==void 0?u:0,borderDashArray:(c=e.borderDashArray)!==null&&c!==void 0?c:void 0,borderDashPhase:(l=e.borderDashPhase)!==null&&l!==void 0?l:void 0,borderLineCap:(v=e.borderLineCap)!==null&&v!==void 0?v:void 0,graphicsState:b}))},r.prototype.drawLine=function(t){var e,n,i,a,o;_(t.start,"options.start",[[Object,"{ x: number, y: number }"]]),_(t.end,"options.end",[[Object,"{ x: number, y: number }"]]),_(t.start.x,"options.start.x",["number"]),_(t.start.y,"options.start.y",["number"]),_(t.end.x,"options.end.x",["number"]),_(t.end.y,"options.end.y",["number"]),j(t.thickness,"options.thickness",["number"]),j(t.color,"options.color",[[Object,"Color"]]),j(t.dashArray,"options.dashArray",[Array]),j(t.dashPhase,"options.dashPhase",["number"]),_e(t.lineCap,"options.lineCap",Pr),Oe(t.opacity,"opacity.opacity",0,1),_e(t.blendMode,"options.blendMode",Ue);var s=this.maybeEmbedGraphicsState({borderOpacity:t.opacity,blendMode:t.blendMode});"color"in t||(t.color=Ct(0,0,0));var u=this.getContentStream();u.push.apply(u,vf({start:t.start,end:t.end,thickness:(e=t.thickness)!==null&&e!==void 0?e:1,color:(n=t.color)!==null&&n!==void 0?n:void 0,dashArray:(i=t.dashArray)!==null&&i!==void 0?i:void 0,dashPhase:(a=t.dashPhase)!==null&&a!==void 0?a:void 0,lineCap:(o=t.lineCap)!==null&&o!==void 0?o:void 0,graphicsState:s}))},r.prototype.drawRectangle=function(t){var e,n,i,a,o,s,u,c,l,v,b,m,w;t===void 0&&(t={}),j(t.x,"options.x",["number"]),j(t.y,"options.y",["number"]),j(t.width,"options.width",["number"]),j(t.height,"options.height",["number"]),j(t.rotate,"options.rotate",[[Object,"Rotation"]]),j(t.xSkew,"options.xSkew",[[Object,"Rotation"]]),j(t.ySkew,"options.ySkew",[[Object,"Rotation"]]),j(t.borderWidth,"options.borderWidth",["number"]),j(t.color,"options.color",[[Object,"Color"]]),Oe(t.opacity,"opacity.opacity",0,1),j(t.borderColor,"options.borderColor",[[Object,"Color"]]),j(t.borderDashArray,"options.borderDashArray",[Array]),j(t.borderDashPhase,"options.borderDashPhase",["number"]),_e(t.borderLineCap,"options.borderLineCap",Pr),Oe(t.borderOpacity,"options.borderOpacity",0,1),_e(t.blendMode,"options.blendMode",Ue);var F=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=Ct(0,0,0));var C=this.getContentStream();C.push.apply(C,Er({x:(e=t.x)!==null&&e!==void 0?e:this.x,y:(n=t.y)!==null&&n!==void 0?n:this.y,width:(i=t.width)!==null&&i!==void 0?i:150,height:(a=t.height)!==null&&a!==void 0?a:100,rotate:(o=t.rotate)!==null&&o!==void 0?o:nt(0),xSkew:(s=t.xSkew)!==null&&s!==void 0?s:nt(0),ySkew:(u=t.ySkew)!==null&&u!==void 0?u:nt(0),borderWidth:(c=t.borderWidth)!==null&&c!==void 0?c:0,color:(l=t.color)!==null&&l!==void 0?l:void 0,borderColor:(v=t.borderColor)!==null&&v!==void 0?v:void 0,borderDashArray:(b=t.borderDashArray)!==null&&b!==void 0?b:void 0,borderDashPhase:(m=t.borderDashPhase)!==null&&m!==void 0?m:void 0,graphicsState:F,borderLineCap:(w=t.borderLineCap)!==null&&w!==void 0?w:void 0}))},r.prototype.drawSquare=function(t){t===void 0&&(t={});var e=t.size;j(e,"size",["number"]),this.drawRectangle(ut(ut({},t),{width:e,height:e}))},r.prototype.drawEllipse=function(t){var e,n,i,a,o,s,u,c,l,v,b;t===void 0&&(t={}),j(t.x,"options.x",["number"]),j(t.y,"options.y",["number"]),j(t.xScale,"options.xScale",["number"]),j(t.yScale,"options.yScale",["number"]),j(t.rotate,"options.rotate",[[Object,"Rotation"]]),j(t.color,"options.color",[[Object,"Color"]]),Oe(t.opacity,"opacity.opacity",0,1),j(t.borderColor,"options.borderColor",[[Object,"Color"]]),Oe(t.borderOpacity,"options.borderOpacity",0,1),j(t.borderWidth,"options.borderWidth",["number"]),j(t.borderDashArray,"options.borderDashArray",[Array]),j(t.borderDashPhase,"options.borderDashPhase",["number"]),_e(t.borderLineCap,"options.borderLineCap",Pr),_e(t.blendMode,"options.blendMode",Ue);var m=this.maybeEmbedGraphicsState({opacity:t.opacity,borderOpacity:t.borderOpacity,blendMode:t.blendMode});!("color"in t)&&!("borderColor"in t)&&(t.color=Ct(0,0,0));var w=this.getContentStream();w.push.apply(w,ki({x:(e=t.x)!==null&&e!==void 0?e:this.x,y:(n=t.y)!==null&&n!==void 0?n:this.y,xScale:(i=t.xScale)!==null&&i!==void 0?i:100,yScale:(a=t.yScale)!==null&&a!==void 0?a:100,rotate:(o=t.rotate)!==null&&o!==void 0?o:void 0,color:(s=t.color)!==null&&s!==void 0?s:void 0,borderColor:(u=t.borderColor)!==null&&u!==void 0?u:void 0,borderWidth:(c=t.borderWidth)!==null&&c!==void 0?c:0,borderDashArray:(l=t.borderDashArray)!==null&&l!==void 0?l:void 0,borderDashPhase:(v=t.borderDashPhase)!==null&&v!==void 0?v:void 0,borderLineCap:(b=t.borderLineCap)!==null&&b!==void 0?b:void 0,graphicsState:m}))},r.prototype.drawCircle=function(t){t===void 0&&(t={});var e=t.size,n=e===void 0?100:e;j(n,"size",["number"]),this.drawEllipse(ut(ut({},t),{xScale:n,yScale:n}))},r.prototype.setOrEmbedFont=function(t){var e=this.font,n=this.fontKey;t?this.setFont(t):this.getFont();var i=this.font,a=this.fontKey;return{oldFont:e,oldFontKey:n,newFont:i,newFontKey:a}},r.prototype.getFont=function(){if(!this.font||!this.fontKey){var t=this.doc.embedStandardFont(Un.Helvetica);this.setFont(t)}return[this.font,this.fontKey]},r.prototype.resetFont=function(){this.font=void 0,this.fontKey=void 0},r.prototype.getContentStream=function(t){return t===void 0&&(t=!0),t&&this.contentStream?this.contentStream:(this.contentStream=this.createContentStream(),this.contentStreamRef=this.doc.context.register(this.contentStream),this.node.addContentStream(this.contentStreamRef),this.contentStream)},r.prototype.createContentStream=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.doc.context.obj({}),i=qr.of(n,t);return i},r.prototype.maybeEmbedGraphicsState=function(t){var e=t.opacity,n=t.borderOpacity,i=t.blendMode;if(!(e===void 0&&n===void 0&&i===void 0)){var a=this.doc.context.obj({Type:"ExtGState",ca:e,CA:n,BM:i}),o=this.node.newExtGState("GS",a);return o}},r.prototype.scaleAnnot=function(t,e,n){for(var i=["RD","CL","Vertices","QuadPoints","L","Rect"],a=0,o=i.length;a<o;a++){var s=t.lookup(g.of(i[a]));s instanceof _t&&s.scalePDFNumbers(e,n)}var u=t.lookup(g.of("InkList"));if(u instanceof _t)for(var a=0,o=u.size();a<o;a++){var c=u.lookup(a);c instanceof _t&&c.scalePDFNumbers(e,n)}},r.of=function(t,e,n){return new r(t,e,n)},r.create=function(t){_(t,"doc",[[dr,"PDFDocument"]]);var e=At.of(-1),n=Ge.withContextAndParent(t.context,e),i=t.context.register(n);return new r(n,i,t)},r})(),Pn=(function(r){L(t,r);function t(e,n,i){var a=r.call(this,e,n,i)||this;return _(e,"acroButton",[[Yn,"PDFAcroPushButton"]]),a.acroField=e,a}return t.prototype.setImage=function(e,n){n===void 0&&(n=er.Center);for(var i=this.acroField.getWidgets(),a=0,o=i.length;a<o;a++){var s=i[a],u=this.createImageAppearanceStream(s,e,n);this.updateWidgetAppearances(s,{normal:u})}this.markAsClean()},t.prototype.setFontSize=function(e){Gn(e,"fontSize"),this.acroField.setFontSize(e),this.markAsDirty()},t.prototype.addToPage=function(e,n,i){var a,o,s,u,c,l,v,b,m,w,F;j(e,"text",["string"]),j(n,"page",[[ke,"PDFPage"]]),zr(i);var C=this.createWidget({x:((a=i==null?void 0:i.x)!==null&&a!==void 0?a:0)-((o=i==null?void 0:i.borderWidth)!==null&&o!==void 0?o:0)/2,y:((s=i==null?void 0:i.y)!==null&&s!==void 0?s:0)-((u=i==null?void 0:i.borderWidth)!==null&&u!==void 0?u:0)/2,width:(c=i==null?void 0:i.width)!==null&&c!==void 0?c:100,height:(l=i==null?void 0:i.height)!==null&&l!==void 0?l:50,textColor:(v=i==null?void 0:i.textColor)!==null&&v!==void 0?v:Ct(0,0,0),backgroundColor:(b=i==null?void 0:i.backgroundColor)!==null&&b!==void 0?b:Ct(.75,.75,.75),borderColor:i==null?void 0:i.borderColor,borderWidth:(m=i==null?void 0:i.borderWidth)!==null&&m!==void 0?m:0,rotate:(w=i==null?void 0:i.rotate)!==null&&w!==void 0?w:nt(0),caption:e,hidden:i==null?void 0:i.hidden,page:n.ref}),k=this.doc.context.register(C.dict);this.acroField.addWidget(k);var B=(F=i==null?void 0:i.font)!==null&&F!==void 0?F:this.doc.getForm().getDefaultFont();this.updateWidgetAppearance(C,B),n.node.addAnnot(k)},t.prototype.needsAppearancesUpdate=function(){var e;if(this.isDirty())return!0;for(var n=this.acroField.getWidgets(),i=0,a=n.length;i<a;i++){var o=n[i],s=((e=o.getAppearances())===null||e===void 0?void 0:e.normal)instanceof de;if(!s)return!0}return!1},t.prototype.defaultUpdateAppearances=function(e){_(e,"font",[[ve,"PDFFont"]]),this.updateAppearances(e)},t.prototype.updateAppearances=function(e,n){_(e,"font",[[ve,"PDFFont"]]),j(n,"provider",[Function]);for(var i=this.acroField.getWidgets(),a=0,o=i.length;a<o;a++){var s=i[a];this.updateWidgetAppearance(s,e,n)}},t.prototype.updateWidgetAppearance=function(e,n,i){var a=i??jf,o=Ir(a(this,e,n));this.updateWidgetAppearanceWithFont(e,n,o)},t.of=function(e,n,i){return new t(e,n,i)},t})(yr);export{dr as P};
