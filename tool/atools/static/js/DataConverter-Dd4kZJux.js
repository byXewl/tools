import{w as O,l as o,y as t,q,J as M,H as $,O as w,G as y,I as x,F as _,D as k,A as J,B as K,C as b,K as P,b as u,c as N,v as a}from"./@vue-CpAqE2Pn.js";import{r as W,u as G}from"./xlsx-BUW7exb-.js";import{P as H}from"./papaparse-DJ0E4YYE.js";import{_ as Q}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./file-saver-D_h_-nX0.js";const X={class:"min-h-screen bg-slate-50 relative overflow-hidden font-sans selection:bg-emerald-100"},Z={class:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 py-10 flex flex-col min-h-screen"},Y={class:"text-center mb-10"},ee={class:"flex-1 grid lg:grid-cols-12 gap-8 items-start"},te={class:"lg:col-span-4 flex flex-col gap-6"},le={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 flex flex-col h-full"},se={key:0,class:"text-center p-6"},oe={key:1,class:"flex flex-col items-center"},ae={class:"font-bold text-slate-700 text-sm max-w-[200px] truncate"},re={class:"text-xs text-slate-500"},ne={key:0,class:"flex-1 space-y-4 animate-fade-in"},de={class:"space-y-3"},ie={class:"grid grid-cols-3 gap-2"},ue=["onClick"],ce={key:0,class:"space-y-2"},xe={class:"lg:col-span-8 flex flex-col gap-6"},pe={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 md:p-8 flex-1 flex flex-col min-h-[600px] overflow-hidden"},ve={class:"flex items-center justify-between mb-4"},be={class:"text-lg font-bold text-slate-800 flex items-center gap-2"},me={key:0},fe={key:1},ge={key:0,class:"flex bg-slate-100 p-1 rounded-lg"},he={class:"flex-1 relative rounded-xl border border-slate-200 bg-white overflow-hidden"},we={key:0,class:"absolute inset-0 flex flex-col items-center justify-center text-slate-400 bg-slate-50/50"},ye={key:1,class:"absolute inset-0 overflow-auto custom-scrollbar"},_e={class:"w-full text-left text-sm border-collapse"},ke={class:"bg-slate-50 sticky top-0 z-10 shadow-sm"},Ce={class:"divide-y divide-slate-100"},je={key:0,class:"p-3 text-center text-xs text-slate-400 bg-slate-50 border-t border-slate-200"},Se={key:2,class:"absolute inset-0 bg-slate-900 overflow-hidden flex flex-col"},$e=["value"],De={class:"mt-4 flex justify-between items-center"},Le={class:"text-xs text-slate-500"},Ne={key:0},ze={class:"flex gap-3"},Ee={key:0},Ue={key:1},Fe={__name:"DataConverter",setup(Te){const C=u(null),h=u(!1),f=u(null),r=u([]),m=u([]),p=u("table"),i=u("json"),g=u("my_table"),j=u(!1),z=()=>C.value.click(),E=l=>D(l.target.files[0]),U=l=>{h.value=!1,D(l.dataTransfer.files[0])},F=()=>{f.value=null,r.value=[],m.value=[],C.value.value=""},D=l=>{if(!l)return;const e=l.size>1024*1024?(l.size/(1024*1024)).toFixed(2)+" MB":(l.size/1024).toFixed(2)+" KB";f.value={name:l.name,size:e};const n=l.name.split(".").slice(0,-1).join(".")||"table";g.value=n.replace(/[^a-zA-Z0-9_]/g,"_");const s=new FileReader;l.name.endsWith(".csv")?(s.onload=v=>{const c=v.target.result;H.parse(c,{header:!0,skipEmptyLines:!0,complete:d=>{L(d.data)}})},s.readAsText(l)):(s.onload=v=>{const c=new Uint8Array(v.target.result),d=W(c,{type:"array"}),A=d.SheetNames[0],V=d.Sheets[A],I=G.sheet_to_json(V);L(I)},s.readAsArrayBuffer(l))},L=l=>{if(!l||l.length===0){alert("æœªè§£æžåˆ°æœ‰æ•ˆæ•°æ®");return}r.value=l;const e=new Set;l.forEach(n=>Object.keys(n).forEach(s=>e.add(s))),m.value=Array.from(e)},T=N(()=>r.value.slice(0,50)),S=N(()=>{if(r.value.length===0)return"";if(i.value==="json")return JSON.stringify(r.value,null,2);if(i.value==="sql"){if(r.value.length===0)return"";const l=m.value,e=l.map(s=>`\`${s}\``).join(", "),n=`INSERT INTO \`${g.value}\` (${e}) VALUES
`;return r.value.map(s=>`(${l.map(c=>{const d=s[c];return d==null?"NULL":typeof d=="number"?d:`'${String(d).replace(/'/g,"''")}'`}).join(", ")})`).join(`,
`),n+";"}if(i.value==="xml"){let l=`<?xml version="1.0" encoding="UTF-8"?>
<rows>
`;return r.value.forEach(e=>{l+=`  <row>
`,m.value.forEach(n=>{const s=String(e[n]??"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");l+=`    <${n}>${s}</${n}>
`}),l+=`  </row>
`}),l+="</rows>",l}return""}),B=async()=>{try{await navigator.clipboard.writeText(S.value),j.value=!0,setTimeout(()=>j.value=!1,2e3)}catch(l){console.error(l)}},R=()=>{const l=new Blob([S.value],{type:"text/plain;charset=utf-8"}),e=i.value,n=URL.createObjectURL(l),s=document.createElement("a");s.href=n,s.download=`${g.value}.${e}`,s.click(),URL.revokeObjectURL(n)};return O(i,()=>{p.value="code"}),(l,e)=>{const n=P("RouterLink");return a(),o("div",X,[e[17]||(e[17]=t("div",{class:"absolute inset-0 z-0 opacity-[0.4]",style:{"background-image":"radial-gradient(#cbd5e1 1px, transparent 1px)","background-size":"32px 32px"}},null,-1)),e[18]||(e[18]=t("div",{class:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-emerald-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob"},null,-1)),e[19]||(e[19]=t("div",{class:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-teal-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob animation-delay-2000"},null,-1)),e[20]||(e[20]=t("div",{class:"absolute top-[30%] right-[30%] w-[400px] h-[400px] bg-green-300 rounded-full mix-blend-multiply filter blur-[100px] opacity-30 animate-blob animation-delay-4000"},null,-1)),t("div",Z,[t("div",Y,[q(n,{to:"/",class:"inline-flex items-center gap-1 text-sm font-medium text-slate-500 hover:text-emerald-600 mb-4 transition-colors"},{default:M(()=>[...e[5]||(e[5]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m15 18-6-6 6-6"})],-1),$(" è¿”å›žé¦–é¡µ ",-1)])]),_:1}),e[6]||(e[6]=t("h1",{class:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4"},[t("span",{class:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-600"},"ä¸‡èƒ½æ•°æ®è½¬æ¢")],-1)),e[7]||(e[7]=t("p",{class:"text-slate-600 max-w-2xl mx-auto"}," Excel/CSV äº’è½¬ JSON, XML, SQLã€‚çº¯å‰ç«¯è§£æžï¼Œæ•°æ®ç»ä¸å‡ºç½‘ï¼Œå®‰å…¨å¤„ç†æ•æ„ŸæŠ¥è¡¨ã€‚ ",-1))]),t("div",ee,[t("div",te,[t("div",le,[e[13]||(e[13]=t("h2",{class:"text-lg font-bold text-slate-800 flex items-center gap-2 mb-6"},[t("span",{class:"w-1.5 h-6 bg-emerald-500 rounded-full"}),$(" å¯¼å…¥æ•°æ® ")],-1)),t("div",{class:y(["w-full relative group rounded-2xl overflow-hidden bg-slate-50 border-2 border-dashed border-slate-300 min-h-[200px] flex flex-col items-center justify-center transition-all cursor-pointer mb-6",{"border-emerald-400 bg-emerald-50/30":h.value}]),onDragover:e[0]||(e[0]=w(s=>h.value=!0,["prevent"])),onDragleave:e[1]||(e[1]=w(s=>h.value=!1,["prevent"])),onDrop:w(U,["prevent"]),onClick:z},[f.value?(a(),o("div",oe,[e[9]||(e[9]=t("div",{class:"w-12 h-12 bg-emerald-100 text-emerald-600 rounded-xl flex items-center justify-center text-2xl mb-3"}," ðŸ“„ ",-1)),t("div",ae,x(f.value.name),1),t("div",re,x(f.value.size),1),t("button",{onClick:w(F,["stop"]),class:"mt-3 text-xs bg-white border border-slate-200 px-3 py-1.5 rounded-lg text-slate-500 hover:text-red-500 hover:border-red-200 transition-colors"}," æ›´æ¢æ–‡ä»¶ ")])):(a(),o("div",se,[...e[8]||(e[8]=[t("div",{class:"w-16 h-16 bg-white rounded-full shadow-sm flex items-center justify-center text-3xl mx-auto mb-4 text-slate-300 group-hover:text-emerald-500 transition-colors group-hover:scale-110 duration-300"}," ðŸ“Š ",-1),t("h3",{class:"font-bold text-slate-700 text-base mb-1"}," Excel æˆ– CSV ",-1),t("p",{class:"text-slate-500 text-xs mt-1"}," æ”¯æŒ .xlsx, .xls, .csv ",-1)])]))],34),t("input",{type:"file",ref_key:"fileInput",ref:C,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",class:"hidden",onChange:E},null,544),r.value.length>0?(a(),o("div",ne,[e[12]||(e[12]=t("div",{class:"w-full h-px bg-slate-100"},null,-1)),t("div",de,[e[10]||(e[10]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase"},"å¯¼å‡ºæ ¼å¼",-1)),t("div",ie,[(a(),o(_,null,k(["json","sql","xml"],s=>t("button",{key:s,onClick:v=>i.value=s,class:y(["py-2 rounded-lg text-sm font-bold border transition-all",i.value===s?"bg-emerald-50 border-emerald-500 text-emerald-700":"bg-white border-slate-200 text-slate-600 hover:border-emerald-300"])},x(s.toUpperCase()),11,ue)),64))])]),i.value==="sql"?(a(),o("div",ce,[e[11]||(e[11]=t("label",{class:"block text-xs font-bold text-slate-500 uppercase"},"è¡¨å (Table Name)",-1)),J(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=s=>g.value=s),class:"w-full bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:border-emerald-500 focus:outline-none transition-colors"},null,512),[[K,g.value]])])):b("",!0)])):b("",!0)])]),t("div",xe,[t("div",pe,[t("div",ve,[t("h2",be,[e[14]||(e[14]=t("span",{class:"w-1.5 h-6 bg-teal-500 rounded-full"},null,-1)),p.value==="table"?(a(),o("span",me,"æ•°æ®é¢„è§ˆ (å‰ 50 è¡Œ)")):(a(),o("span",fe,"ä»£ç é¢„è§ˆ"))]),r.value.length>0?(a(),o("div",ge,[t("button",{onClick:e[3]||(e[3]=s=>p.value="table"),class:y(["px-3 py-1.5 rounded-md text-xs font-bold transition-all",p.value==="table"?"bg-white shadow-sm text-emerald-600":"text-slate-500 hover:text-slate-700"])}," è¡¨æ ¼ ",2),t("button",{onClick:e[4]||(e[4]=s=>p.value="code"),class:y(["px-3 py-1.5 rounded-md text-xs font-bold transition-all",p.value==="code"?"bg-white shadow-sm text-emerald-600":"text-slate-500 hover:text-slate-700"])}," æºç  ",2)])):b("",!0)]),t("div",he,[r.value.length===0?(a(),o("div",we,[...e[15]||(e[15]=[t("div",{class:"text-4xl mb-2 opacity-30"}," ðŸ“‘ ",-1),t("p",{class:"text-sm"}," è¯·å…ˆåœ¨å·¦ä¾§ä¸Šä¼ æ–‡ä»¶ ",-1)])])):p.value==="table"?(a(),o("div",ye,[t("table",_e,[t("thead",ke,[t("tr",null,[(a(!0),o(_,null,k(m.value,s=>(a(),o("th",{key:s,class:"px-4 py-3 font-bold text-slate-600 border-b border-slate-200 whitespace-nowrap"},x(s),1))),128))])]),t("tbody",Ce,[(a(!0),o(_,null,k(T.value,(s,v)=>(a(),o("tr",{key:v,class:"hover:bg-slate-50 transition-colors"},[(a(!0),o(_,null,k(m.value,c=>(a(),o("td",{key:c,class:"px-4 py-2 text-slate-600 whitespace-nowrap max-w-[200px] truncate border-r border-transparent last:border-r-0"},x(s[c]),1))),128))]))),128))])]),r.value.length>50?(a(),o("div",je," ä»…å±•ç¤ºå‰ 50 æ¡æ•°æ®ï¼Œå…± "+x(r.value.length)+" æ¡ ",1)):b("",!0)])):(a(),o("div",Se,[t("textarea",{readonly:"",value:S.value,class:"w-full h-full bg-transparent p-4 text-emerald-400 font-mono text-xs leading-relaxed focus:outline-none resize-none custom-scrollbar"},null,8,$e)]))]),t("div",De,[t("div",Le,[r.value.length>0?(a(),o("span",Ne,"å…± "+x(r.value.length)+" è¡Œæ•°æ®",1)):b("",!0)]),t("div",ze,[r.value.length>0?(a(),o("button",{key:0,onClick:B,class:"px-4 py-2 bg-white border border-slate-200 hover:bg-slate-50 text-slate-700 font-bold rounded-lg text-sm transition-colors"},[j.value?(a(),o("span",Ee,"âœ… å·²å¤åˆ¶")):(a(),o("span",Ue,"å¤åˆ¶å†…å®¹"))])):b("",!0),r.value.length>0?(a(),o("button",{key:1,onClick:R,class:"px-5 py-2 bg-emerald-600 hover:bg-emerald-700 text-white font-bold rounded-lg text-sm shadow-lg shadow-emerald-500/20 transition-colors flex items-center gap-2"},[e[16]||(e[16]=t("div",{class:"i-tabler-download"},null,-1)),$(" ä¸‹è½½ "+x(i.value.toUpperCase()),1)])):b("",!0)])])])])])])])}}},Oe=Q(Fe,[["__scopeId","data-v-2c6b3815"]]);export{Oe as default};
