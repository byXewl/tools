import{w as Y,b as u,o as Z,R as ee,l as n,y as e,q as te,J as le,G as y,F as P,D,U as oe,I as b,H as R,A as se,B as ne,c as F,K as ae,v as a,C as L,z as ie}from"./@vue-CpAqE2Pn.js";import{_ as re}from"./plugin-vueexport-helper-DlAUqK2U.js";const de={class:"min-h-screen bg-slate-50 relative overflow-hidden font-sans selection:bg-cyan-100"},ue={class:"relative z-10 max-w-5xl mx-auto px-6 py-12"},ce={class:"flex flex-col items-center mb-10 text-center"},ve={class:"grid lg:grid-cols-12 gap-8"},fe={class:"lg:col-span-6 space-y-6"},he={class:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-8 h-full flex flex-col items-center justify-center relative overflow-hidden transition-all"},pe={class:"absolute top-4 right-4 z-20"},xe=["title"],me={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},be={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ge={key:2,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},we={key:3,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},ye={class:"flex p-1 bg-slate-100 rounded-xl mb-8 relative z-10"},ke=["onClick"],_e={class:"relative w-64 h-64 mb-8"},Ce={class:"w-full h-full transform -rotate-90"},Me={class:"absolute inset-0 flex flex-col items-center justify-center"},Te={class:"text-6xl font-mono font-bold text-slate-700 tracking-tighter"},Ae={class:"text-sm font-medium text-slate-400 mt-2 tracking-widest uppercase"},Ne={class:"flex items-center gap-4 relative z-10"},Be={key:0,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor"},je={key:1,xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"currentColor"},ze={class:"lg:col-span-6 space-y-6"},Se={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-8 h-full flex flex-col"},Ve={class:"grid grid-cols-1 gap-4 mb-8"},Ie=["onClick"],Pe={class:"flex justify-between items-center relative z-10"},De={class:"font-bold text-slate-700 group-hover:text-cyan-700"},Re={class:"text-xs text-slate-500 mt-1"},Fe={key:0,class:"w-3 h-3 bg-cyan-500 rounded-full"},Le={key:0,class:"absolute inset-0 z-0 opacity-10 flex items-end justify-center gap-1 pb-2"},Ue={class:"mb-8"},qe={class:"flex justify-between mb-3"},Ge={class:"text-sm font-mono text-cyan-600"},$e={class:"mt-auto"},Oe={key:0},We={key:1},Ee=120,He={__name:"FocusStation",setup(Je){const s=u(null),p=u(null),r=u(null),h=u(!1),g=u(.3),c=u("brown"),i=u("default"),U=()=>{if(!("Notification"in window)){i.value="unsupported";return}i.value=Notification.permission},q=[{id:"white",name:"ç™½å™ªéŸ³ (White Noise)",desc:"å…¨é¢‘æ®µå‡åŒ€èƒ½é‡ï¼Œé€‚åˆéš”ç»å¤–éƒ¨äº¤è°ˆå£°ã€‚"},{id:"pink",name:"ç²‰çº¢å™ªéŸ³ (Pink Noise)",desc:"æŸ”å’Œå‡è¡¡ï¼Œç±»ä¼¼é£å¹æ ‘å¶æˆ–æµ·æµªå£°ã€‚"},{id:"brown",name:"å¸ƒæœ—å™ªéŸ³ (Brown Noise)",desc:"ä½é¢‘æ·±æ²‰ï¼Œç±»ä¼¼æš´é›¨æˆ–ç€‘å¸ƒå£°ï¼Œæœ€åŠ©çœ ä¸“æ³¨ã€‚"}],G=()=>{if(!s.value){const l=window.AudioContext||window.webkitAudioContext;s.value=new l,p.value=s.value.createGain(),p.value.connect(s.value.destination),p.value.gain.value=g.value}s.value.state==="suspended"&&s.value.resume()},$=()=>{if(!s.value)return null;const l=2*s.value.sampleRate,t=s.value.createBuffer(1,l,s.value.sampleRate),v=t.getChannelData(0);if(c.value==="white")for(let o=0;o<l;o++)v[o]=Math.random()*2-1;else if(c.value==="pink"){let o,d,m,C,M,T,j;o=d=m=C=M=T=j=0;for(let A=0;A<l;A++){const f=Math.random()*2-1;o=.99886*o+f*.0555179,d=.99332*d+f*.0750759,m=.969*m+f*.153852,C=.8665*C+f*.3104856,M=.55*M+f*.5329522,T=-.7616*T-f*.016898,v[A]=o+d+m+C+M+T+j+f*.5362,v[A]*=.11,j=f*.115926}}else if(c.value==="brown"){let o=0;for(let d=0;d<l;d++){const m=Math.random()*2-1;o=(o+.02*m)/1.02,v[d]=o*3.5}}return t},z=()=>{G(),r.value&&(r.value.stop(),r.value.disconnect());const l=$();r.value=s.value.createBufferSource(),r.value.buffer=l,r.value.loop=!0,r.value.connect(p.value),r.value.start(),h.value=!0},S=()=>{r.value&&(r.value.stop(),h.value=!1)},O=()=>{h.value?S():z()},W=l=>{c.value=l,h.value&&z()};Y(g,l=>{p.value&&p.value.gain.setTargetAtTime(l,s.value.currentTime,.1)});const V=[{id:"focus",label:"ä¸“æ³¨ 25",minutes:25},{id:"short",label:"å°æ†© 5",minutes:5},{id:"long",label:"é•¿ä¼‘ 15",minutes:15}],N=u("focus"),B=F(()=>V.find(l=>l.id===N.value).minutes*60),w=u(B.value),x=u(!1);let k=null;const I=2*Math.PI*Ee,E=F(()=>{const l=w.value/B.value;return I*(1-l)}),H=l=>{const t=Math.floor(l/60),v=l%60;return`${t.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`},J=l=>{N.value=l,_()},K=()=>{x.value?(clearInterval(k),x.value=!1):(i.value==="default"&&(console.log("å‡†å¤‡è¯·æ±‚é€šçŸ¥æƒé™..."),Notification.requestPermission().then(l=>{console.log("é€šçŸ¥æƒé™è¯·æ±‚ç»“æœ:",l),i.value=l,l==="granted"?(console.log("é€šçŸ¥æƒé™å·²æˆäºˆ"),new Notification("âœ… é€šçŸ¥å·²å¼€å¯",{body:"ç•ªèŒ„é’Ÿç»“æŸæ—¶æ‚¨å°†æ”¶åˆ°æé†’ï¼",icon:"/favicon.ico"})):l==="denied"&&(console.log("é€šçŸ¥æƒé™è¢«æ‹’ç»"),alert("é€šçŸ¥æƒé™è¢«æ‹’ç»ï¼Œæ‚¨å¯ä»¥åœ¨æµè§ˆå™¨è®¾ç½®ä¸­æ‰‹åŠ¨å¼€å¯é€šçŸ¥æƒé™"))}).catch(l=>{console.error("è¯·æ±‚é€šçŸ¥æƒé™å¤±è´¥:",l),alert("è¯·æ±‚é€šçŸ¥æƒé™å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨è®¾ç½®")})),x.value=!0,k=setInterval(()=>{w.value>0?w.value--:X()},1e3))},_=()=>{clearInterval(k),x.value=!1,w.value=B.value},Q=()=>{_()},X=()=>{if(_(),s.value){const l=s.value.createOscillator(),t=s.value.createGain();l.connect(t),t.connect(s.value.destination),l.type="sine",l.frequency.setValueAtTime(440,s.value.currentTime),l.frequency.exponentialRampToValueAtTime(880,s.value.currentTime+.1),t.gain.setValueAtTime(.5,s.value.currentTime),t.gain.exponentialRampToValueAtTime(.01,s.value.currentTime+.5),l.start(),l.stop(s.value.currentTime+.5)}i.value==="granted"&&new Notification("ç•ªèŒ„é’Ÿç»“æŸ",{body:"è¯¥ä¼‘æ¯ä¸€ä¸‹äº†ï¼"})};return Z(()=>{U()}),ee(()=>{S(),s.value&&s.value.close(),clearInterval(k)}),(l,t)=>{const v=ae("RouterLink");return a(),n("div",de,[t[16]||(t[16]=e("div",{class:"absolute inset-0 z-0 opacity-[0.4]",style:{"background-image":"radial-gradient(#bae6fd 1px, transparent 1px)","background-size":"32px 32px"}},null,-1)),t[17]||(t[17]=e("div",{class:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-cyan-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob"},null,-1)),t[18]||(t[18]=e("div",{class:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-sky-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob animation-delay-2000"},null,-1)),t[19]||(t[19]=e("div",{class:"absolute top-[40%] left-[30%] w-[400px] h-[400px] bg-blue-200 rounded-full mix-blend-multiply filter blur-[128px] opacity-30 animate-blob animation-delay-4000"},null,-1)),e("div",ue,[e("div",ce,[te(v,{to:"/",class:"text-sm font-medium text-slate-500 hover:text-cyan-600 mb-4 inline-flex items-center gap-1 transition-colors"},{default:le(()=>[...t[1]||(t[1]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m15 18-6-6 6-6"})],-1),R(" è¿”å›é¦–é¡µ ",-1)])]),_:1}),t[2]||(t[2]=e("h1",{class:"text-3xl md:text-4xl font-extrabold text-slate-900 mb-3"},[e("span",{class:"text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-sky-600"},"ä¸“æ³¨ç™½å™ªéŸ³å°")],-1)),t[3]||(t[3]=e("p",{class:"text-slate-600 max-w-2xl"}," Web Audio å®æ—¶éŸ³é¢‘åˆæˆã€‚æ— éŸ³é¢‘æ–‡ä»¶åŠ è½½ï¼Œçº¯å‡€çš„æ•°ç†ä¹‹å£°ï¼ŒåŠ©ä½ è¿›å…¥å¿ƒæµçŠ¶æ€ã€‚ ",-1))]),e("div",ve,[e("div",fe,[e("div",he,[e("div",pe,[e("div",{class:y(["w-8 h-8 rounded-full flex items-center justify-center text-sm transition-all",{"bg-green-100 text-green-600":i.value==="granted","bg-yellow-100 text-yellow-600":i.value==="default","bg-red-100 text-red-600":i.value==="denied","bg-gray-100 text-gray-600":i.value==="unsupported"}]),title:{granted:"é€šçŸ¥å·²å¼€å¯",default:"ç‚¹å‡»å¼€å§‹æŒ‰é’®å¼€å¯é€šçŸ¥",denied:"é€šçŸ¥å·²è¢«ç¦ç”¨",unsupported:"æµè§ˆå™¨ä¸æ”¯æŒé€šçŸ¥"}[i.value]},[i.value==="granted"?(a(),n("svg",me,[...t[4]||(t[4]=[e("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},null,-1),e("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"},null,-1)])])):i.value==="default"?(a(),n("svg",be,[...t[5]||(t[5]=[e("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},null,-1),e("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"},null,-1),e("circle",{cx:"12",cy:"2",r:"1"},null,-1)])])):i.value==="denied"?(a(),n("svg",ge,[...t[6]||(t[6]=[e("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},null,-1),e("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"},null,-1),e("line",{x1:"5",y1:"5",x2:"19",y2:"19"},null,-1)])])):(a(),n("svg",we,[...t[7]||(t[7]=[e("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},null,-1),e("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"},null,-1),e("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1)])]))],10,xe)]),e("div",ye,[(a(),n(P,null,D(V,o=>e("button",{key:o.id,onClick:d=>J(o.id),class:y(["px-4 py-2 text-sm font-bold rounded-lg transition-all",N.value===o.id?"bg-white text-cyan-600 shadow-sm":"text-slate-400 hover:text-slate-600"])},b(o.label),11,ke)),64))]),e("div",_e,[(a(),n("svg",Ce,[t[8]||(t[8]=e("circle",{cx:"128",cy:"128",r:"120",stroke:"currentColor","stroke-width":"8",fill:"none",class:"text-slate-100"},null,-1)),e("circle",{cx:"128",cy:"128",r:"120",stroke:"currentColor","stroke-width":"8",fill:"none","stroke-linecap":"round",class:"text-cyan-500 transition-[stroke-dashoffset] duration-1000 linear",style:oe({strokeDasharray:I,strokeDashoffset:E.value})},null,4)])),e("div",Me,[e("span",Te,b(H(w.value)),1),e("span",Ae,b(x.value?"FOCUSING":"PAUSED"),1)])]),e("div",Ne,[e("button",{onClick:_,class:"p-4 rounded-full text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors"},[...t[9]||(t[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 12"}),e("path",{d:"M3 3v9h9"})],-1)])]),e("button",{onClick:K,class:"w-20 h-20 rounded-full flex items-center justify-center bg-gradient-to-r from-cyan-500 to-sky-500 text-white shadow-lg shadow-cyan-500/30 hover:shadow-cyan-500/50 hover:scale-105 active:scale-95 transition-all"},[x.value?(a(),n("svg",je,[...t[11]||(t[11]=[e("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"},null,-1)])])):(a(),n("svg",Be,[...t[10]||(t[10]=[e("path",{d:"M8 5v14l11-7z"},null,-1)])]))]),e("button",{onClick:Q,class:"p-4 rounded-full text-slate-400 hover:bg-slate-100 hover:text-slate-600 transition-colors"},[...t[12]||(t[12]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M5 4l10 8-10 8V4z"}),e("line",{x1:"19",y1:"5",x2:"19",y2:"19"})],-1)])])])])]),e("div",ze,[e("div",Se,[t[15]||(t[15]=e("h2",{class:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2"},[e("span",{class:"w-1 h-6 bg-cyan-500 rounded-full"}),R(" å£°éŸ³åˆæˆå™¨ "),e("span",{class:"ml-auto text-xs font-normal text-slate-400 border border-slate-200 px-2 py-0.5 rounded-full"},"Pure Web Audio API")],-1)),e("div",Ve,[(a(),n(P,null,D(q,o=>e("button",{key:o.id,onClick:d=>W(o.id),class:y(["relative overflow-hidden group border rounded-2xl p-4 text-left transition-all",c.value===o.id?"border-cyan-500 bg-cyan-50/50":"border-slate-200 hover:border-cyan-300 hover:bg-slate-50"])},[e("div",Pe,[e("div",null,[e("h3",De,b(o.name),1),e("p",Re,b(o.desc),1)]),e("div",{class:y(["w-6 h-6 rounded-full border-2 flex items-center justify-center",c.value===o.id?"border-cyan-500":"border-slate-300"])},[c.value===o.id?(a(),n("div",Fe)):L("",!0)],2)]),c.value===o.id&&h.value?(a(),n("div",Le,[...t[13]||(t[13]=[ie('<div class="w-2 bg-cyan-600 animate-sound-wave h-4" style="animation-duration:0.6s;" data-v-6b61ab13></div><div class="w-2 bg-cyan-600 animate-sound-wave h-6" style="animation-duration:0.8s;" data-v-6b61ab13></div><div class="w-2 bg-cyan-600 animate-sound-wave h-3" style="animation-duration:0.5s;" data-v-6b61ab13></div><div class="w-2 bg-cyan-600 animate-sound-wave h-7" style="animation-duration:0.9s;" data-v-6b61ab13></div><div class="w-2 bg-cyan-600 animate-sound-wave h-4" style="animation-duration:0.7s;" data-v-6b61ab13></div>',5)])])):L("",!0)],10,Ie)),64))]),e("div",Ue,[e("div",qe,[t[14]||(t[14]=e("label",{class:"text-sm font-bold text-slate-600"},"ä¸»éŸ³é‡",-1)),e("span",Ge,b(Math.round(g.value*100))+"%",1)]),se(e("input",{type:"range","onUpdate:modelValue":t[0]||(t[0]=o=>g.value=o),min:"0",max:"1",step:"0.01",class:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-cyan-500"},null,512),[[ne,g.value,void 0,{number:!0}]])]),e("div",$e,[e("button",{onClick:O,class:y(["w-full py-4 font-bold rounded-2xl flex items-center justify-center gap-2 transition-all",h.value?"bg-red-50 text-red-600 border border-red-100 hover:bg-red-100":"bg-slate-800 text-white shadow-lg hover:bg-slate-700"])},[h.value?(a(),n("span",Oe,"ğŸ›‘ åœæ­¢å™ªéŸ³")):(a(),n("span",We,"ğŸ§ å¼€å§‹æ’­æ”¾"))],2)])])])])])])}}},Xe=re(He,[["__scopeId","data-v-6b61ab13"]]);export{Xe as default};
