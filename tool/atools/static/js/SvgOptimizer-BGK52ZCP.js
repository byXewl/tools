import{l as u,y as t,q as T,J as P,H as a,A as m,B as Z,I as f,C as g,P as v,K as A,b as y,c as h,r as E,v as c}from"./@vue-CpAqE2Pn.js";import{_ as L}from"./plugin-vueexport-helper-DlAUqK2U.js";const V={class:"min-h-screen bg-slate-50 relative overflow-hidden font-sans selection:bg-teal-100"},H={class:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 py-10 flex flex-col min-h-screen"},O={class:"text-center mb-10"},W={class:"flex-1 grid lg:grid-cols-12 gap-8 items-start"},F={class:"lg:col-span-5 flex flex-col gap-6"},U={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 flex flex-col h-full min-h-[500px]"},G={class:"flex items-center justify-between mb-4"},Q={class:"relative flex-1 group"},X={key:0,class:"absolute bottom-4 right-4 bg-slate-200/80 backdrop-blur text-slate-600 text-[10px] px-2 py-1 rounded font-bold"},Y={class:"mt-6 pt-6 border-t border-slate-100"},q={class:"grid grid-cols-2 gap-3"},K={class:"flex items-center gap-2 cursor-pointer text-sm text-slate-600 hover:text-teal-700 transition-colors"},$={class:"flex items-center gap-2 cursor-pointer text-sm text-slate-600 hover:text-teal-700 transition-colors"},J={class:"flex items-center gap-2 cursor-pointer text-sm text-slate-600 hover:text-teal-700 transition-colors"},ee={class:"flex items-center gap-2 cursor-pointer text-sm text-slate-600 hover:text-teal-700 transition-colors"},te={class:"flex items-center gap-2 cursor-pointer text-sm text-slate-600 hover:text-teal-700 transition-colors col-span-2"},le={class:"lg:col-span-7 flex flex-col gap-6"},se={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6"},oe={class:"grid grid-cols-2 gap-4 h-64 md:h-80"},re={class:"bg-slate-100/50 rounded-2xl border border-slate-200 flex flex-col overflow-hidden relative group"},ae={class:"flex-1 flex items-center justify-center p-4 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjgiPgo8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSIjZmZmIi8+CjxwYXRoIGQ9Ik0wIDBMMCA0TDQgNEw0IDBaIiBmaWxsPSIjZjFmMhZjIi8+CjxwYXRoIGQ9Ik00IDRMNCA4TDggOEw4IDRaIiBmaWxsPSIjZjFmMhZjIi8+Cjwvc3ZnPg==')]"},ie=["innerHTML"],ne={key:1,class:"text-slate-300 text-3xl"},de={class:"bg-white rounded-2xl border border-teal-200 flex flex-col overflow-hidden relative shadow-sm group"},ue={class:"flex-1 flex items-center justify-center p-4 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4IiBoZWlnaHQ9IjgiPgo8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI4IiBmaWxsPSIjZmZmIi8+CjxwYXRoIGQ9Ik0wIDBMMCA0TDQgNEw0IDBaIiBmaWxsPSIjZjFmMhZjIi8+CjxwYXRoIGQ9Ik00IDRMNCA4TDggOEw4IDRaIiBmaWxsPSIjZjFmMhZjIi8+Cjwvc3ZnPg==')]"},ce=["innerHTML"],xe={key:1,class:"text-slate-300 text-3xl"},pe={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 flex flex-col flex-1"},me={class:"flex items-center justify-between mb-4"},ve={key:0,class:"flex items-center gap-2"},be={class:"text-xs text-slate-500"},fe={class:"text-xs font-bold text-white bg-teal-500 px-2 py-1 rounded-full shadow-sm"},ge={class:"relative flex-1 rounded-xl bg-slate-900 border border-slate-800 overflow-hidden group"},he=["value"],we={key:0,class:"i-tabler-check"},ye={key:1,class:"i-tabler-copy"},Ie={class:"mt-4 flex justify-end"},ke={__name:"SvgOptimizer",setup(_e){const i=y(""),I=y(null),b=y(!1),o=E({removeComments:!0,removeMetadata:!0,minifyStyles:!0,removeIds:!1,fixPrecision:!0}),M=s=>{if(!s.trim().startsWith("<"))return"";try{const r=new DOMParser().parseFromString(s,"image/svg+xml"),l=r.querySelector("svg");if(!l)return"无效的 SVG 代码";if(r.querySelector("parsererror"))return"SVG 解析错误";if(!l.hasAttribute("viewBox")){const p=l.getAttribute("width")||"100",R=l.getAttribute("height")||"100";l.setAttribute("viewBox",`0 0 ${p} ${R}`)}l.removeAttribute("width"),l.removeAttribute("height"),l.setAttribute("preserveAspectRatio","xMidYMid meet");const C=document.createTreeWalker(r,NodeFilter.SHOW_ALL,null),w=[];let x=C.nextNode();for(;x;){if(o.removeComments&&x.nodeType===Node.COMMENT_NODE&&w.push(x),o.removeMetadata&&x.nodeType===Node.ELEMENT_NODE){const p=x.tagName.toLowerCase();["title","desc","metadata"].includes(p)&&w.push(x)}o.removeIds&&x.nodeType===Node.ELEMENT_NODE&&x.hasAttribute("id")&&x.removeAttribute("id"),x=C.nextNode()}w.forEach(p=>p.parentNode&&p.parentNode.removeChild(p));let d=new XMLSerializer().serializeToString(l);return o.minifyStyles&&(d=d.replace(/[\r\n]+/g,""),d=d.replace(/\s{2,}/g," "),d=d.replace(/>\s+</g,"><")),o.fixPrecision&&(d=d.replace(/(\d+\.\d{4,})/g,p=>parseFloat(p).toFixed(3)*1)),d=d.replace(/\s+(width|height)="[^"]*"/g,""),d}catch(e){return console.error(e),s}},n=h(()=>i.value?M(i.value):""),k=h(()=>i.value?j(new Blob([i.value]).size):null),B=h(()=>n.value?j(new Blob([n.value]).size):""),_=h(()=>{if(!i.value||!n.value)return 0;const s=new Blob([i.value]).size,e=new Blob([n.value]).size;return s===0?0:((1-e/s)*100).toFixed(1)}),S=()=>I.value.click(),N=s=>{const e=s.target.files[0];if(!e)return;const r=new FileReader;r.onload=l=>{i.value=l.target.result},r.readAsText(e),s.target.value=""},z=async()=>{await navigator.clipboard.writeText(n.value),b.value=!0,setTimeout(()=>b.value=!1,2e3)},D=()=>{const s=new Blob([n.value],{type:"image/svg+xml"}),e=URL.createObjectURL(s),r=document.createElement("a");r.href=e,r.download="optimized.svg",r.click(),URL.revokeObjectURL(e)},j=s=>s<1024?s+" B":(s/1024).toFixed(2)+" KB";return(s,e)=>{const r=A("RouterLink");return c(),u("div",V,[e[22]||(e[22]=t("div",{class:"absolute inset-0 z-0 opacity-[0.4]",style:{"background-image":"radial-gradient(#cbd5e1 1px, transparent 1px)","background-size":"32px 32px"}},null,-1)),e[23]||(e[23]=t("div",{class:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-teal-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob"},null,-1)),e[24]||(e[24]=t("div",{class:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-cyan-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob animation-delay-2000"},null,-1)),e[25]||(e[25]=t("div",{class:"absolute top-[30%] right-[30%] w-[400px] h-[400px] bg-emerald-300 rounded-full mix-blend-multiply filter blur-[100px] opacity-30 animate-blob animation-delay-4000"},null,-1)),t("div",H,[t("div",O,[T(r,{to:"/",class:"inline-flex items-center gap-1 text-sm font-medium text-slate-500 hover:text-teal-600 mb-4 transition-colors"},{default:P(()=>[...e[6]||(e[6]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[t("path",{d:"m15 18-6-6 6-6"})],-1),a(" 返回首页 ",-1)])]),_:1}),e[7]||(e[7]=t("h1",{class:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4"},[t("span",{class:"text-transparent bg-clip-text bg-gradient-to-r from-teal-500 to-cyan-600"},"SVG 瘦身净化")],-1)),e[8]||(e[8]=t("p",{class:"text-slate-600 max-w-2xl mx-auto"}," 移除冗余元数据、注释和隐藏元素，压缩代码体积。让你的图标更轻、更快、更规范。 ",-1))]),t("div",W,[t("div",F,[t("div",U,[t("div",G,[e[10]||(e[10]=t("h2",{class:"text-lg font-bold text-slate-800 flex items-center gap-2"},[t("span",{class:"w-1.5 h-6 bg-teal-500 rounded-full"}),a(" 原始代码 / 上传 ")],-1)),t("button",{onClick:S,class:"text-xs bg-white border border-slate-200 px-3 py-1.5 rounded-lg text-slate-600 hover:text-teal-600 hover:border-teal-200 transition-colors flex items-center gap-1 shadow-sm"},[...e[9]||(e[9]=[t("div",{class:"i-tabler-upload"},null,-1),a(" 上传文件 ",-1)])]),t("input",{type:"file",ref_key:"fileInput",ref:I,accept:".svg",class:"hidden",onChange:N},null,544)]),t("div",Q,[m(t("textarea",{"onUpdate:modelValue":e[0]||(e[0]=l=>i.value=l),class:"w-full h-full min-h-[300px] bg-slate-50 border border-slate-200 rounded-xl p-4 text-slate-600 font-mono text-xs leading-relaxed focus:outline-none focus:border-teal-500 focus:ring-1 focus:ring-teal-500/50 transition-all resize-none custom-scrollbar",placeholder:"<svg>...</svg> 粘贴代码到这里"},null,512),[[Z,i.value]]),k.value?(c(),u("div",X," 原始: "+f(k.value),1)):g("",!0)]),t("div",Y,[e[16]||(e[16]=t("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4"}," 净化选项 ",-1)),t("div",q,[t("label",K,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=l=>o.removeComments=l),class:"accent-teal-500 w-4 h-4 rounded"},null,512),[[v,o.removeComments]]),e[11]||(e[11]=a(" 移除注释 ",-1))]),t("label",$,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[2]||(e[2]=l=>o.removeMetadata=l),class:"accent-teal-500 w-4 h-4 rounded"},null,512),[[v,o.removeMetadata]]),e[12]||(e[12]=a(" 移除元数据 (Title/Desc) ",-1))]),t("label",J,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=l=>o.minifyStyles=l),class:"accent-teal-500 w-4 h-4 rounded"},null,512),[[v,o.minifyStyles]]),e[13]||(e[13]=a(" 压缩空白与换行 ",-1))]),t("label",ee,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=l=>o.removeIds=l),class:"accent-teal-500 w-4 h-4 rounded"},null,512),[[v,o.removeIds]]),e[14]||(e[14]=a(" 移除不必要的 ID ",-1))]),t("label",te,[m(t("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=l=>o.fixPrecision=l),class:"accent-teal-500 w-4 h-4 rounded"},null,512),[[v,o.fixPrecision]]),e[15]||(e[15]=a(" 数值精度优化 (保留3位小数) ",-1))])])])])]),t("div",le,[t("div",se,[e[19]||(e[19]=t("h2",{class:"text-lg font-bold text-slate-800 flex items-center gap-2 mb-6"},[t("span",{class:"w-1.5 h-6 bg-cyan-500 rounded-full"}),a(" 视觉无损对比 ")],-1)),t("div",oe,[t("div",re,[e[17]||(e[17]=t("div",{class:"absolute top-2 left-2 text-[10px] uppercase font-bold text-slate-400 bg-white/80 px-2 py-0.5 rounded z-10"}," Before ",-1)),t("div",ae,[i.value?(c(),u("div",{key:0,innerHTML:i.value,class:"svg-preview-wrapper w-full h-full flex items-center justify-center"},null,8,ie)):(c(),u("div",ne," ? "))])]),t("div",de,[e[18]||(e[18]=t("div",{class:"absolute top-2 left-2 text-[10px] uppercase font-bold text-teal-600 bg-teal-50 px-2 py-0.5 rounded z-10"}," After ",-1)),t("div",ue,[n.value?(c(),u("div",{key:0,innerHTML:n.value,class:"svg-preview-wrapper w-full h-full flex items-center justify-center"},null,8,ce)):(c(),u("div",xe," ✨ "))])])])]),t("div",pe,[t("div",me,[e[20]||(e[20]=t("h2",{class:"text-lg font-bold text-slate-800 flex items-center gap-2"},[t("span",{class:"w-1.5 h-6 bg-emerald-500 rounded-full"}),a(" 优化后代码 ")],-1)),_.value?(c(),u("div",ve,[t("span",be,f(B.value),1),t("span",fe," ↓ "+f(_.value)+"% ",1)])):g("",!0)]),t("div",ge,[t("textarea",{readonly:"",value:n.value,class:"w-full h-full bg-transparent p-4 text-emerald-400 font-mono text-xs leading-relaxed focus:outline-none resize-none custom-scrollbar break-all",placeholder:"优化结果将显示在这里..."},null,8,he),n.value?(c(),u("button",{key:0,onClick:z,class:"absolute top-4 right-4 bg-white/10 hover:bg-white/20 backdrop-blur text-white px-3 py-1.5 rounded-lg text-xs font-bold transition-all flex items-center gap-2"},[b.value?(c(),u("div",we)):(c(),u("div",ye)),a(" "+f(b.value?"已复制":"复制"),1)])):g("",!0)]),t("div",Ie,[n.value?(c(),u("button",{key:0,onClick:D,class:"px-5 py-2.5 bg-gradient-to-r from-teal-500 to-cyan-600 hover:from-teal-600 hover:to-cyan-700 text-white font-bold rounded-xl shadow-lg shadow-teal-500/30 flex items-center gap-2 transition-all transform active:scale-95"},[...e[21]||(e[21]=[t("div",{class:"i-tabler-download"},null,-1),a(" 下载 .svg ",-1)])])):g("",!0)])])])])])])}}},Be=L(ke,[["__scopeId","data-v-cb033f94"]]);export{Be as default};
