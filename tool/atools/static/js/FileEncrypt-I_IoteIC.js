import{l as x,y as e,q as I,J as M,G as u,O as B,I as i,A as O,S as J,C as w,H as y,U as R,K as L,b as p,c as K,v}from"./@vue-CpAqE2Pn.js";import{C as _}from"./crypto-js-C2gqAkl2.js";import{F as j}from"./file-saver-D_h_-nX0.js";import{_ as P}from"./plugin-vueexport-helper-DlAUqK2U.js";import"./jszip-DXViFxuE.js";const q={class:"min-h-screen bg-slate-50 relative overflow-hidden font-sans selection:bg-amber-100"},G={class:"relative z-10 max-w-5xl mx-auto px-4 sm:px-6 py-12 flex flex-col min-h-screen"},H={class:"text-center mb-12"},W={class:"flex justify-center mb-8"},Q={class:"bg-white/60 backdrop-blur rounded-2xl p-1.5 shadow-sm border border-white/50 flex"},X={class:"w-full max-w-3xl mx-auto bg-white/80 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/50 overflow-hidden relative min-h-[500px] flex flex-col transition-all duration-500"},Y={class:"flex-1 p-8 md:p-12 flex flex-col items-center justify-center text-center"},Z={class:"relative z-10"},ee={class:"text-xl font-bold text-slate-700 mb-2"},te={key:1,class:"w-full max-w-md animate-fade-in-up"},le={class:"bg-slate-50 border border-slate-200 rounded-xl p-4 flex items-center gap-4 mb-6 relative group"},se={class:"text-3xl"},ae={class:"text-left min-w-0 flex-1"},oe={class:"font-bold text-slate-700 truncate"},re={class:"text-xs text-slate-400"},ne={class:"space-y-4"},ie={class:"block text-left text-xs font-bold text-slate-500 uppercase tracking-wider mb-2"},de={class:"relative"},ue=["type"],ce={key:0,class:"text-left text-xs text-amber-600 mt-2 flex items-center gap-1"},pe=["disabled"],xe={key:0,class:"animate-spin w-5 h-5 border-2 border-white/30 border-t-white rounded-full"},ve={key:2,class:"w-full max-w-md mt-6"},me={class:"flex justify-between text-xs text-slate-500 mb-1"},be={class:"w-full bg-slate-100 rounded-full h-2 overflow-hidden"},fe={__name:"FileEncrypt",setup(ge){const s=p("encrypt"),a=p(null),d=p(""),m=p(!1),r=p(!1),o=p(0),k=p(null),z=K(()=>r.value?s.value==="encrypt"?"åŠ å¯†ä¸­...":"è§£å¯†ä¸­...":s.value==="encrypt"?"ğŸ”’ ç«‹å³åŠ å¯†ä¸‹è½½":"ğŸ”“ ç«‹å³è§£å¯†ä¸‹è½½"),F=()=>k.value.click(),E=l=>{const t=l.target.files[0];t&&C(t),l.target.value=""},D=l=>{const t=l.dataTransfer.files[0];t&&C(t)},C=l=>{l.size>50*1024*1024&&alert("ä¸ºäº†ä¿è¯æµè§ˆå™¨ä¸å¡é¡¿ï¼Œå»ºè®®ä¸Šä¼  50MB ä»¥å†…çš„æ–‡ä»¶ã€‚"),a.value=l,d.value="",o.value=0},$=()=>{a.value=null,d.value="",o.value=0},N=l=>l.endsWith(".enc")?"ğŸ”":l.match(/\.(jpg|jpeg|png|gif)$/i)?"ğŸ–¼ï¸":l.match(/\.(pdf)$/i)?"ğŸ“„":l.match(/\.(zip|rar)$/i)?"ğŸ“¦":"ğŸ“",T=()=>{if(!a.value||!d.value)return;r.value=!0,o.value=10;const l=new FileReader;s.value==="encrypt"?(l.onload=t=>{o.value=30,setTimeout(()=>{try{const n=t.target.result,c={n:a.value.name,d:n},b=JSON.stringify(c),f=_.AES.encrypt(b,d.value).toString();o.value=90;const g=new Blob([f],{type:"text/plain"});j.saveAs(g,`${a.value.name}.enc`),r.value=!1}catch(n){console.error(n),alert("åŠ å¯†å¤±è´¥ï¼Œæ–‡ä»¶å¯èƒ½è¿‡å¤§å¯¼è‡´å†…å­˜ä¸è¶³"),r.value=!1}},50)},l.readAsDataURL(a.value)):(l.onload=t=>{o.value=30,setTimeout(()=>{try{const n=t.target.result,b=_.AES.decrypt(n,d.value).toString(_.enc.Utf8);if(!b)throw new Error("å¯†ç é”™è¯¯æˆ–æ–‡ä»¶æŸå");o.value=70;const f=JSON.parse(b),g=f.d.split(","),U=g[0].match(/:(.*?);/)[1],S=atob(g[1]);let h=S.length;const A=new Uint8Array(h);for(;h--;)A[h]=S.charCodeAt(h);const V=new Blob([A],{type:U});o.value=90,j.saveAs(V,f.n),r.value=!1}catch(n){console.error(n),alert("è§£å¯†å¤±è´¥ï¼šå¯†ç é”™è¯¯æˆ–æ–‡ä»¶ä¸æ˜¯æœ‰æ•ˆçš„åŠ å¯†åŒ…"),r.value=!1}},50)},l.readAsText(a.value))};return(l,t)=>{const n=L("RouterLink");return v(),x("div",q,[t[12]||(t[12]=e("div",{class:"absolute inset-0 z-0 opacity-[0.4]",style:{"background-image":"radial-gradient(#cbd5e1 1px, transparent 1px)","background-size":"32px 32px"}},null,-1)),t[13]||(t[13]=e("div",{class:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-amber-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob"},null,-1)),t[14]||(t[14]=e("div",{class:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-slate-400 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob animation-delay-2000"},null,-1)),t[15]||(t[15]=e("div",{class:"absolute top-[30%] left-[30%] w-[400px] h-[400px] bg-orange-200 rounded-full mix-blend-multiply filter blur-[100px] opacity-30 animate-blob animation-delay-4000"},null,-1)),e("div",G,[e("div",H,[I(n,{to:"/",class:"inline-flex items-center gap-1 text-sm font-medium text-slate-500 hover:text-amber-600 mb-4 transition-colors"},{default:M(()=>[...t[5]||(t[5]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"m15 18-6-6 6-6"})],-1),y(" è¿”å›é¦–é¡µ ",-1)])]),_:1}),t[6]||(t[6]=e("h1",{class:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4"},[e("span",{class:"text-transparent bg-clip-text bg-gradient-to-r from-amber-500 to-orange-600"},"æ–‡ä»¶åŠ å¯†ä¿é™©ç®±")],-1)),t[7]||(t[7]=e("p",{class:"text-slate-600 max-w-2xl mx-auto"}," é“¶è¡Œçº§ AES-256 åŠ å¯†ã€‚åœ¨æœ¬åœ°ç»™æ‚¨çš„æ•æ„Ÿæ–‡ä»¶ä¸Šä¸€æŠŠé”ï¼Œæ²¡æœ‰å¯†ç è°ä¹Ÿæ‰“ä¸å¼€ã€‚ ",-1))]),e("div",W,[e("div",Q,[e("button",{onClick:t[0]||(t[0]=c=>s.value="encrypt"),class:u(["px-8 py-3 rounded-xl text-sm font-bold transition-all flex items-center gap-2",s.value==="encrypt"?"bg-slate-800 text-amber-400 shadow-lg scale-105":"text-slate-500 hover:text-slate-700"])}," ğŸ”’ åŠ å¯†æ–‡ä»¶ ",2),e("button",{onClick:t[1]||(t[1]=c=>s.value="decrypt"),class:u(["px-8 py-3 rounded-xl text-sm font-bold transition-all flex items-center gap-2",s.value==="decrypt"?"bg-white text-emerald-600 shadow-lg scale-105":"text-slate-500 hover:text-slate-700"])}," ğŸ”“ è§£å¯†æ–‡ä»¶ ",2)])]),e("div",X,[e("div",{class:u(["h-2 w-full bg-gradient-to-r",s.value==="encrypt"?"from-amber-400 to-orange-500":"from-emerald-400 to-teal-500"])},null,2),e("div",Y,[a.value?(v(),x("div",te,[e("div",le,[e("div",se,i(N(a.value.name)),1),e("div",ae,[e("div",oe,i(a.value.name),1),e("div",re,i((a.value.size/1024).toFixed(1))+" KB ",1)]),e("button",{onClick:$,class:"text-slate-300 hover:text-red-500 p-2"}," âœ• ")]),e("div",ne,[e("div",null,[e("label",ie,i(s.value==="encrypt"?"è®¾ç½®å¯†ç ":"è¾“å…¥å¯†ç "),1),e("div",de,[O(e("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>d.value=c),type:m.value?"text":"password",class:u(["w-full bg-white border-2 border-slate-200 rounded-xl px-4 py-3 text-slate-800 outline-none transition-all font-mono tracking-widest",s.value==="encrypt"?"focus:border-amber-400 focus:ring-4 focus:ring-amber-500/10":"focus:border-emerald-400 focus:ring-4 focus:ring-emerald-500/10"]),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢"},null,10,ue),[[J,d.value]]),e("button",{onClick:t[4]||(t[4]=c=>m.value=!m.value),class:"absolute right-3 top-3 text-slate-400 hover:text-slate-600"},i(m.value?"ğŸ™ˆ":"ğŸ‘ï¸"),1)]),s.value==="encrypt"?(v(),x("p",ce," âš ï¸ è¯·åŠ¡å¿…è®°ä½å¯†ç ï¼Œä¸€æ—¦ä¸¢å¤±æ— æ³•æ‰¾å›ï¼ ")):w("",!0)]),e("button",{onClick:T,disabled:!d.value||r.value,class:u(["w-full py-4 rounded-xl text-white font-bold text-lg shadow-xl transition-all transform hover:-translate-y-1 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2",s.value==="encrypt"?"bg-gradient-to-r from-slate-800 to-slate-700 hover:from-slate-700 hover:to-slate-600 shadow-slate-900/20":"bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 shadow-emerald-500/30"])},[r.value?(v(),x("span",xe)):w("",!0),y(" "+i(z.value),1)],10,pe)])])):(v(),x("div",{key:0,class:u(["w-full border-2 border-dashed rounded-2xl p-10 cursor-pointer transition-all group relative overflow-hidden",s.value==="encrypt"?"border-amber-200 hover:border-amber-400 hover:bg-amber-50":"border-emerald-200 hover:border-emerald-400 hover:bg-emerald-50"]),onClick:F,onDragover:t[2]||(t[2]=B(()=>{},["prevent"])),onDrop:B(D,["prevent"])},[e("div",Z,[e("div",{class:u(["w-20 h-20 rounded-full mx-auto mb-4 flex items-center justify-center text-4xl shadow-sm transition-transform group-hover:scale-110",s.value==="encrypt"?"bg-amber-100 text-amber-500":"bg-emerald-100 text-emerald-500"])},i(s.value==="encrypt"?"ğŸ›¡ï¸":"ğŸ”‘"),3),e("h3",ee,i(s.value==="encrypt"?"ç‚¹å‡»ä¸Šä¼ è¦åŠ å¯†çš„æ–‡ä»¶":"ç‚¹å‡»ä¸Šä¼ å·²åŠ å¯†çš„ .enc æ–‡ä»¶"),1),t[8]||(t[8]=e("p",{class:"text-slate-400 text-sm"}," æ”¯æŒä»»æ„æ ¼å¼ â€¢ å»ºè®®å°äº 50MB ",-1))]),e("input",{type:"file",ref_key:"fileInput",ref:k,class:"hidden",onChange:E},null,544)],34)),r.value?(v(),x("div",ve,[e("div",me,[t[9]||(t[9]=e("span",null,"å¤„ç†ä¸­...",-1)),e("span",null,i(o.value)+"%",1)]),e("div",be,[e("div",{class:u(["h-full rounded-full transition-all duration-300",s.value==="encrypt"?"bg-amber-400":"bg-emerald-400"]),style:R({width:o.value+"%"})},null,6)]),t[10]||(t[10]=e("p",{class:"text-xs text-slate-400 mt-2"}," æ­£åœ¨è¿›è¡Œ AES-256 è¿ç®—ï¼Œè¯·å‹¿å…³é—­é¡µé¢ ",-1))])):w("",!0)])]),t[11]||(t[11]=e("div",{class:"mt-8 text-center"},[e("div",{class:"inline-flex items-center gap-2 px-4 py-2 bg-slate-200/50 rounded-full text-slate-500 text-xs font-medium"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"})]),y(" æœ¬åœ°åŠ å¯† â€¢ æ— åé—¨ â€¢ çº¯å†…å­˜è®¡ç®— ")])],-1))])])}}},Ce=P(fe,[["__scopeId","data-v-ca1cf64f"]]);export{Ce as default};
