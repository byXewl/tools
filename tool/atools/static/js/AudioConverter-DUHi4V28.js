import{o as N,l as i,y as e,q as G,J as W,H as p,O as y,G as O,I as f,A as M,N as A,C as j,F as S,D as I,K as P,b as d,c as H,r as T,v as r}from"./@vue-CpAqE2Pn.js";import{F as E,t as z,f as K}from"./@ffmpeg-glcX-Wuy.js";import{_ as q}from"./plugin-vueexport-helper-DlAUqK2U.js";const J={class:"min-h-screen bg-slate-50 relative overflow-hidden font-sans selection:bg-fuchsia-100"},Q={class:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 py-10 flex flex-col min-h-screen"},X={class:"text-center mb-10"},Y={class:"mt-4 h-6 flex justify-center items-center"},Z={key:0,class:"flex items-center gap-2 text-xs text-slate-500 bg-slate-200/50 px-3 py-1 rounded-full animate-pulse"},ee={key:1,class:"flex items-center gap-2 text-xs text-emerald-600 bg-emerald-100 px-3 py-1 rounded-full"},te={class:"flex-1 grid lg:grid-cols-12 gap-8 items-start"},se={class:"lg:col-span-7 flex flex-col gap-6"},le={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 flex flex-col min-h-[400px]"},oe={key:0,class:"flex-1 flex flex-col items-center justify-center"},ae={key:1,class:"space-y-6"},ie={class:"flex items-center gap-4 bg-slate-50 p-4 rounded-2xl border border-slate-200"},re={class:"w-12 h-12 bg-fuchsia-100 text-fuchsia-600 rounded-xl flex items-center justify-center text-2xl"},ne={class:"flex-1 min-w-0"},de={class:"font-bold text-slate-700 truncate"},ue={class:"text-xs text-slate-500"},ce={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},pe={class:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm"},fe={class:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm"},xe=["disabled"],ve={key:0,class:"text-[10px] text-fuchsia-500 mt-1"},me=["disabled"],be={key:0,class:"flex items-center gap-2"},ge={key:1,class:"flex items-center gap-2"},he={class:"lg:col-span-5 flex flex-col gap-6"},we={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 md:p-8 flex-1 flex flex-col min-h-[300px]"},ye={class:"flex-1 flex flex-col gap-4"},ke={key:0,class:"animate-fade-in space-y-4"},_e={class:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl p-6 flex flex-col items-center justify-center gap-4 text-white shadow-lg"},Ce={class:"text-center"},Fe={class:"text-slate-400 text-sm font-mono mt-1"},Me=["src"],Ae=["href","download"],je={key:1,class:"flex-1 bg-slate-50 rounded-xl border border-dashed border-slate-200 flex flex-col items-center justify-center text-slate-400 p-8"},ze={class:"mt-6 bg-black/90 rounded-xl p-4 h-32 overflow-y-auto custom-scrollbar font-mono text-xs text-fuchsia-300"},Be={key:0,class:"text-slate-500 italic"},Ve={__name:"AudioConverter",setup($e){const v=d(!1),m=d(!1),g=d(0),a=d([]),n=d(null),u=d(""),k=d(""),h=d(null),b=d(!1),o=T({format:"mp3",bitrate:"192k"});let c=null;const B=async()=>{if(!c)try{a.value.push(">> åˆå§‹åŒ–éŸ³é¢‘å¼•æ“Ž (Single Threaded)..."),c=new E,c.on("log",({message:t})=>{!t.includes("frame=")&&!t.includes("size=")&&(a.value.length>50&&a.value.shift(),a.value.push(t))}),c.on("progress",({progress:t})=>g.value=Math.round(t*100));const s="https://unpkg.com/@ffmpeg/core@0.12.6/dist/esm";await c.load({coreURL:await z(`${s}/ffmpeg-core.js`,"text/javascript"),wasmURL:await z(`${s}/ffmpeg-core.wasm`,"application/wasm")}),v.value=!0,a.value.push(">> å¼•æ“ŽåŠ è½½å®Œæˆï¼")}catch(s){console.error(s),a.value.push(`!! åŠ è½½å¤±è´¥: ${s.message}`)}},V=()=>h.value.click(),$=s=>_(s.target.files[0]),L=s=>{b.value=!1,_(s.dataTransfer.files[0])},_=s=>{s&&(n.value=s,u.value="",a.value.push(`>> å·²åŠ è½½æ–‡ä»¶: ${s.name}`))},R=()=>{n.value=null,u.value="",h.value.value=""},U=async()=>{if(!(!n.value||!v.value)){m.value=!0,g.value=0,u.value="";try{const t=`input.${n.value.name.split(".").pop()}`,x=`output.${o.format}`;a.value.push(">> æ­£åœ¨è¯»å–æ–‡ä»¶..."),await c.writeFile(t,await K(n.value));const l=["-i",t,"-vn"];o.format==="mp3"?l.push("-c:a","libmp3lame","-b:a",o.bitrate):o.format==="aac"?l.push("-c:a","aac","-b:a",o.bitrate):o.format==="ogg"?l.push("-c:a","libvorbis","-b:a",o.bitrate):o.format==="wav"&&l.push("-c:a","pcm_s16le"),l.push(x),a.value.push(`>> æ‰§è¡Œè½¬æ¢: ffmpeg ${l.join(" ")}`),await c.exec(l),a.value.push(">> æ‰“åŒ…è¾“å‡ºæ–‡ä»¶...");const w=await c.readFile(x),F=new Blob([w.buffer],{type:`audio/${o.format}`});u.value=URL.createObjectURL(F),k.value=C(F.size),a.value.push(">> è½¬æ¢æˆåŠŸï¼")}catch(s){console.error(s),a.value.push(`!! è½¬æ¢é”™è¯¯: ${s.message}`),alert("è½¬æ¢å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ—¥å¿—ã€‚")}finally{m.value=!1}}},D=H(()=>{var s;return(s=n.value)==null?void 0:s.type.startsWith("video/")}),C=s=>{if(s===0)return"0 B";const t=1024,x=["B","KB","MB","GB"],l=Math.floor(Math.log(s)/Math.log(t));return parseFloat((s/Math.pow(t,l)).toFixed(2))+" "+x[l]};return N(()=>{B()}),(s,t)=>{const x=P("RouterLink");return r(),i("div",J,[t[22]||(t[22]=e("div",{class:"absolute inset-0 z-0 opacity-[0.4]",style:{"background-image":"radial-gradient(#cbd5e1 1px, transparent 1px)","background-size":"32px 32px"}},null,-1)),t[23]||(t[23]=e("div",{class:"absolute top-[-10%] left-[-10%] w-[500px] h-[500px] bg-fuchsia-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob"},null,-1)),t[24]||(t[24]=e("div",{class:"absolute bottom-[-10%] right-[-10%] w-[500px] h-[500px] bg-violet-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob animation-delay-2000"},null,-1)),t[25]||(t[25]=e("div",{class:"absolute top-[30%] right-[30%] w-[400px] h-[400px] bg-pink-300 rounded-full mix-blend-multiply filter blur-[100px] opacity-30 animate-blob animation-delay-4000"},null,-1)),e("div",Q,[e("div",X,[G(x,{to:"/",class:"inline-flex items-center gap-1 text-sm font-medium text-slate-500 hover:text-fuchsia-600 mb-4 transition-colors"},{default:W(()=>[...t[4]||(t[4]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"m15 18-6-6 6-6"})],-1),p(" è¿”å›žé¦–é¡µ ",-1)])]),_:1}),t[7]||(t[7]=e("h1",{class:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4"},[e("span",{class:"text-transparent bg-clip-text bg-gradient-to-r from-fuchsia-600 to-violet-600"},"éŸ³é¢‘æå–ä¸Žè½¬æ¢")],-1)),t[8]||(t[8]=e("p",{class:"text-slate-600 max-w-2xl mx-auto"}," è§†é¢‘è½¬éŸ³é¢‘ï¼Œæˆ–éŸ³é¢‘æ ¼å¼äº’è½¬ã€‚åŸºäºŽ FFmpeg æ ¸å¿ƒï¼Œæ”¯æŒ MP3, AAC, WAV, OGG ç­‰å¸¸è§æ ¼å¼ï¼Œçº¯æœ¬åœ°æžé€Ÿå¤„ç†ã€‚ ",-1)),e("div",Y,[v.value?(r(),i("div",ee,[...t[6]||(t[6]=[e("div",{class:"i-tabler-music"},null,-1),p(" Audio Engine Ready ",-1)])])):(r(),i("div",Z,[...t[5]||(t[5]=[e("svg",{class:"animate-spin h-3 w-3",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),p(" éŸ³é¢‘å¼•æ“Žåˆå§‹åŒ–ä¸­... ",-1)])]))])]),e("div",te,[e("div",se,[e("div",le,[n.value?(r(),i("div",ae,[e("div",ie,[e("div",re,f(D.value?"ðŸŽ¬":"ðŸŽ§"),1),e("div",ne,[e("div",de,f(n.value.name),1),e("div",ue,f(C(n.value.size)),1)]),e("button",{onClick:R,class:"p-[2px_8px] text-slate-400 hover:text-red-500 transition-colors",title:"ç§»é™¤æ–‡ä»¶"}," x ")]),t[16]||(t[16]=e("div",{class:"w-full h-px bg-slate-100"},null,-1)),e("div",ce,[e("div",pe,[t[11]||(t[11]=e("label",{class:"block text-xs font-bold text-slate-500 mb-2 uppercase"},"ç›®æ ‡æ ¼å¼",-1)),M(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>o.format=l),class:"w-full bg-slate-50 border border-slate-200 text-slate-700 rounded-lg p-2.5 focus:border-fuchsia-500 focus:outline-none font-bold"},[...t[10]||(t[10]=[e("option",{value:"mp3"}," MP3 (æœ€é€šç”¨) ",-1),e("option",{value:"aac"}," AAC (é«˜åŽ‹ç¼©) ",-1),e("option",{value:"wav"}," WAV (æ— æŸ) ",-1),e("option",{value:"ogg"}," OGG (Webé€šç”¨) ",-1)])],512),[[A,o.format]])]),e("div",fe,[t[13]||(t[13]=e("label",{class:"block text-xs font-bold text-slate-500 mb-2 uppercase"},"éŸ³é¢‘è´¨é‡ (Bitrate)",-1)),M(e("select",{"onUpdate:modelValue":t[3]||(t[3]=l=>o.bitrate=l),disabled:o.format==="wav",class:"w-full bg-slate-50 border border-slate-200 text-slate-700 rounded-lg p-2.5 focus:border-fuchsia-500 focus:outline-none disabled:opacity-50"},[...t[12]||(t[12]=[e("option",{value:"128k"}," 128 kbps (æ ‡å‡†) ",-1),e("option",{value:"192k"}," 192 kbps (é«˜éŸ³è´¨) ",-1),e("option",{value:"320k"}," 320 kbps (æžé«˜) ",-1)])],8,xe),[[A,o.bitrate]]),o.format==="wav"?(r(),i("div",ve," WAV ä¸ºæ— æŸæ ¼å¼ï¼Œæ— éœ€è®¾ç½®æ¯”ç‰¹çŽ‡ ")):j("",!0)])]),e("button",{onClick:U,disabled:m.value||!v.value,class:"w-full py-4 bg-gradient-to-r from-fuchsia-600 to-violet-600 hover:from-fuchsia-700 hover:to-violet-700 text-white font-bold rounded-xl shadow-lg shadow-fuchsia-500/30 flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed transform active:scale-[0.98]"},[m.value?(r(),i("span",be,[t[14]||(t[14]=e("svg",{class:"animate-spin h-5 w-5 text-white",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4",fill:"none"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),p(" è½¬æ¢ä¸­... "+f(g.value)+"% ",1)])):(r(),i("span",ge,[...t[15]||(t[15]=[e("div",{class:"i-tabler-wand text-xl"},null,-1),p(" å¼€å§‹è½¬æ¢ ",-1)])]))],8,me)])):(r(),i("div",oe,[e("div",{class:O(["w-full h-64 relative group rounded-2xl overflow-hidden bg-slate-50 border-2 border-dashed border-slate-300 flex flex-col items-center justify-center transition-all cursor-pointer",{"border-fuchsia-400 bg-fuchsia-50/30":b.value}]),onDragover:t[0]||(t[0]=y(l=>b.value=!0,["prevent"])),onDragleave:t[1]||(t[1]=y(l=>b.value=!1,["prevent"])),onDrop:y(L,["prevent"]),onClick:V},[...t[9]||(t[9]=[e("div",{class:"text-center p-8"},[e("div",{class:"w-20 h-20 bg-white rounded-full shadow-sm flex items-center justify-center text-4xl mx-auto mb-4 text-slate-300 group-hover:text-fuchsia-500 transition-colors group-hover:scale-110 duration-300"}," ðŸŽµ "),e("h3",{class:"font-bold text-slate-700 text-lg mb-1"}," ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶ "),e("p",{class:"text-slate-500 text-xs mt-2"}," æ”¯æŒè§†é¢‘ (MP4, MOV...) æˆ–éŸ³é¢‘ (WAV, M4A...) ")],-1)])],34),e("input",{type:"file",ref_key:"fileInput",ref:h,accept:"video/*, audio/*",class:"hidden",onChange:$},null,544)]))])]),e("div",he,[e("div",we,[t[21]||(t[21]=e("h2",{class:"text-lg font-bold text-slate-800 flex items-center gap-2 mb-6"},[e("span",{class:"w-1.5 h-6 bg-violet-500 rounded-full"}),p(" è¾“å‡ºç»“æžœ ")],-1)),e("div",ye,[u.value?(r(),i("div",ke,[e("div",_e,[t[18]||(t[18]=e("div",{class:"w-16 h-16 rounded-full bg-gradient-to-tr from-fuchsia-500 to-violet-500 flex items-center justify-center shadow-inner"},[e("div",{class:"i-tabler-music text-3xl animate-bounce"})],-1)),e("div",Ce,[t[17]||(t[17]=e("div",{class:"font-bold text-lg"}," è½¬æ¢æˆåŠŸ ",-1)),e("div",Fe," output."+f(o.format),1)]),(r(),i("audio",{src:u.value,key:u.value,controls:"",class:"w-full h-8 mt-2 mix-blend-screen opacity-90"},null,8,Me))]),e("a",{href:u.value,download:`converted_audio.${o.format}`,class:"w-full py-3 bg-fuchsia-100 hover:bg-fuchsia-200 text-fuchsia-700 font-bold rounded-xl flex items-center justify-center gap-2 transition-colors"},[t[19]||(t[19]=e("div",{class:"i-tabler-download"},null,-1)),p(" ä¸‹è½½éŸ³é¢‘ ("+f(k.value)+") ",1)],8,Ae)])):(r(),i("div",je,[...t[20]||(t[20]=[e("div",{class:"text-4xl mb-2 opacity-30"}," ðŸŽ§ ",-1),e("p",{class:"text-sm"}," æå–åŽçš„éŸ³é¢‘å°†åœ¨æ­¤æ˜¾ç¤º ",-1)])]))]),e("div",ze,[a.value.length===0?(r(),i("div",Be," >> Ready to process... ")):j("",!0),(r(!0),i(S,null,I(a.value,(l,w)=>(r(),i("div",{key:w,class:"mb-1 whitespace-pre-wrap font-sans break-all"},f(l),1))),128))])])])])])])}}},De=q(Ve,[["__scopeId","data-v-20195f7f"]]);export{De as default};
