import{l as a,y as e,q as D,J as B,z as j,H as f,I as y,F as C,D as $,A as i,B as x,N as V,C as g,P as _,M,K as T,b as h,c as E,r as I,v as r,G as F}from"./@vue-CpAqE2Pn.js";import{J as P}from"./jszip-DXViFxuE.js";import{F as Y}from"./file-saver-D_h_-nX0.js";import{d as z}from"./dayjs-4_VNHC89.js";import{_ as L}from"./plugin-vueexport-helper-DlAUqK2U.js";const q={class:"min-h-screen bg-slate-50 relative overflow-hidden font-sans selection:bg-amber-100"},A={class:"relative z-10 max-w-6xl mx-auto px-4 sm:px-6 py-12"},J={class:"flex flex-col items-center mb-10 text-center"},Z={class:"grid lg:grid-cols-12 gap-8"},H={class:"lg:col-span-8 space-y-6"},O={class:"bg-white/70 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 min-h-[600px] flex flex-col transition-all relative overflow-hidden"},G={key:0,class:"flex-1 flex flex-col items-center justify-center text-center p-10 border-2 border-dashed border-slate-300 rounded-2xl hover:border-amber-400 hover:bg-amber-50/30 transition-all group"},K={class:"cursor-pointer bg-amber-500 hover:bg-amber-600 text-white px-6 py-2.5 rounded-xl font-medium shadow-lg shadow-amber-500/30 transition-all active:scale-95"},Q={key:1,class:"flex flex-col h-full"},W={class:"flex justify-between items-center mb-4 pb-4 border-b border-slate-200"},X={class:"flex items-center gap-3"},ee={class:"bg-amber-100 text-amber-700 text-xs font-bold px-2.5 py-1 rounded-md"},te={class:"cursor-pointer text-sm text-amber-600 font-medium hover:text-amber-700 flex items-center gap-1"},se={class:"flex-1 overflow-y-auto pr-2 space-y-2 scrollbar-thin scrollbar-thumb-slate-200 scrollbar-track-transparent"},le=["title"],oe={key:0,class:"w-1.5 h-1.5 rounded-full bg-amber-500 flex-shrink-0"},ae={class:"lg:col-span-4 space-y-6"},re={class:"bg-white/80 backdrop-blur-xl rounded-3xl shadow-xl border border-white/50 p-6 sticky top-8"},ne={class:"flex p-1 bg-slate-100 rounded-xl mb-6"},ie=["onClick"],de={class:"space-y-5"},ue={key:0,class:"space-y-4 animate-fade-in"},pe={class:"grid grid-cols-2 gap-4"},be={key:1,class:"space-y-4 animate-fade-in"},me={class:"flex items-center gap-2"},xe={key:2,class:"space-y-4 animate-fade-in"},ce={key:3,class:"space-y-4 animate-fade-in"},fe={class:"grid grid-cols-1 gap-2"},ge={class:"flex items-center p-3 border border-slate-200 rounded-lg cursor-pointer hover:bg-slate-50 transition-colors"},ve={class:"flex items-center p-3 border border-slate-200 rounded-lg cursor-pointer hover:bg-slate-50 transition-colors"},ye={class:"pt-4 border-t border-slate-100"},we=["disabled"],he={key:0,class:"animate-spin"},ke={key:1},Se={key:2},Ne={__name:"BatchRenamer",setup(Ce){const u=h([]),v=h(!1),R=[{key:"sequence",label:"åºåˆ—ç¼–å·"},{key:"replace",label:"å­—ç¬¦æ›¿æ¢"},{key:"insert",label:"æ·»åŠ æ–‡æœ¬"},{key:"case",label:"å¤§å°å†™"}],b=h("sequence"),l=I({prefix:"Image_",startNum:1,padding:3,suffix:"",findStr:"",replaceStr:"",useRegex:!1,insertPrefix:"",insertSuffix:"",timestampFormat:"",caseType:"lower"}),k=o=>{const t=Array.from(o.target.files);t.length>0&&(u.value=[...u.value,...t]),o.target.value=""},S=E(()=>u.value.map((o,t)=>{const p=o.name.lastIndexOf("."),s=p!==-1?o.name.substring(0,p):o.name,n=p!==-1?o.name.substring(p):"";let d=s;switch(b.value){case"sequence":const w=(l.startNum+t).toString().padStart(l.padding,"0");d=`$${l.prefix}$${w}${l.suffix}`;break;case"replace":if(l.findStr)try{if(l.useRegex){const N=new RegExp(l.findStr,"g");d=s.replace(N,l.replaceStr)}else d=s.split(l.findStr).join(l.replaceStr)}catch{d=s}break;case"insert":let c="";l.timestampFormat&&(l.timestampFormat==="timestamp"?c=Date.now().toString():c=z().format(l.timestampFormat)),d=`$${l.insertPrefix}$${s}$${l.insertSuffix}$${c?"_"+c:""}`;break;case"case":l.caseType==="upper"&&(d=s.toUpperCase()),l.caseType==="lower"&&(d=s.toLowerCase());break}const m=d+n;return{originalName:o.name,newName:m,file:o,hasChanged:m!==o.name}})),U=async()=>{if(u.value.length!==0){v.value=!0;try{const o=new P,t=new Set;S.value.forEach(s=>{let n=s.newName,d=1;for(;t.has(n);){const m=n.lastIndexOf("."),w=m>-1?n.substring(0,m):n,c=m>-1?n.substring(m):"";n=`$${w} ($${d})${c}`,d++}t.add(n),o.file(n,s.file)});const p=await o.generateAsync({type:"blob"});Y.saveAs(p,`Renamed_Files_${Date.now()}.zip`)}catch(o){console.error("Zip Error:",o),alert("æ‰“åŒ…å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{v.value=!1}}};return(o,t)=>{const p=T("RouterLink");return r(),a("div",q,[t[38]||(t[38]=e("div",{class:"absolute inset-0 z-0 opacity-[0.4]",style:{"background-image":"radial-gradient(#d4d4d8 1px, transparent 1px)","background-size":"32px 32px"}},null,-1)),t[39]||(t[39]=e("div",{class:"absolute top-0 right-[-10%] w-[500px] h-[500px] bg-amber-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob"},null,-1)),t[40]||(t[40]=e("div",{class:"absolute bottom-[-10%] left-[-10%] w-[500px] h-[500px] bg-yellow-300 rounded-full mix-blend-multiply filter blur-[128px] opacity-40 animate-blob animation-delay-2000"},null,-1)),t[41]||(t[41]=e("div",{class:"absolute top-[20%] left-[20%] w-[400px] h-[400px] bg-orange-200 rounded-full mix-blend-multiply filter blur-[128px] opacity-30 animate-blob animation-delay-4000"},null,-1)),e("div",A,[e("div",J,[D(p,{to:"/",class:"text-sm font-medium text-slate-500 hover:text-amber-600 mb-4 inline-flex items-center gap-1 transition-colors"},{default:B(()=>[...t[13]||(t[13]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"m15 18-6-6 6-6"})],-1),f(" è¿”å›é¦–é¡µ ",-1)])]),_:1}),t[14]||(t[14]=e("h1",{class:"text-3xl md:text-4xl font-extrabold text-slate-900 mb-3"},[e("span",{class:"text-transparent bg-clip-text bg-gradient-to-r from-amber-500 to-orange-600"},"æ‰¹é‡æ–‡ä»¶é‡å‘½å")],-1)),t[15]||(t[15]=e("p",{class:"text-slate-600 max-w-2xl mx-auto"}," ç…§ç‰‡ã€æ–‡æ¡£ä¸€é”®æ•´ç†ã€‚æ”¯æŒåºåˆ—ç¼–å·ã€å­—ç¬¦æ›¿æ¢ã€å¤§å°å†™è½¬æ¢ï¼Œå®æ—¶é¢„è§ˆï¼Œæ‰“åŒ…ä¸‹è½½ã€‚ ",-1))]),e("div",Z,[e("div",H,[e("div",O,[u.value.length===0?(r(),a("div",G,[t[17]||(t[17]=j('<div class="w-20 h-20 bg-amber-100 rounded-full flex items-center justify-center mb-6 group-hover:scale-110 transition-transform text-amber-500" data-v-5a85e746><svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-5a85e746><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" data-v-5a85e746></path><polyline points="17 8 12 3 7 8" data-v-5a85e746></polyline><line x1="12" x2="12" y1="3" y2="15" data-v-5a85e746></line></svg></div><h3 class="text-lg font-bold text-slate-700 mb-2" data-v-5a85e746> æ‹–å…¥æ–‡ä»¶ æˆ– ç‚¹å‡»ä¸Šä¼  </h3><p class="text-sm text-slate-500 mb-6" data-v-5a85e746> æ”¯æŒå›¾ç‰‡ã€æ–‡æ¡£ã€è§†é¢‘ç­‰ä»»æ„æ ¼å¼ï¼Œæ‰¹é‡å¤„ç†æ— ä¸Šé™ </p>',3)),e("label",K,[t[16]||(t[16]=f(" é€‰æ‹©æ–‡ä»¶ ",-1)),e("input",{type:"file",multiple:"",class:"hidden",onChange:k},null,32)])])):(r(),a("div",Q,[e("div",W,[e("div",X,[e("span",ee,y(u.value.length)+" ä¸ªæ–‡ä»¶ ",1),e("button",{onClick:t[0]||(t[0]=s=>u.value=[]),class:"text-xs text-red-500 hover:text-red-600 hover:underline"}," æ¸…ç©ºåˆ—è¡¨ ")]),e("label",te,[t[18]||(t[18]=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M12 5v14M5 12h14"})],-1)),t[19]||(t[19]=f(" è¿½åŠ æ–‡ä»¶ ",-1)),e("input",{type:"file",multiple:"",class:"hidden",onChange:k},null,32)])]),t[21]||(t[21]=e("div",{class:"grid grid-cols-12 text-xs font-bold text-slate-400 px-4 pb-2 uppercase tracking-wider"},[e("div",{class:"col-span-5"}," åŸæ–‡ä»¶å "),e("div",{class:"col-span-1 text-center"}," â†’ "),e("div",{class:"col-span-6 text-amber-600"}," æ–°æ–‡ä»¶å (é¢„è§ˆ) ")],-1)),e("div",se,[(r(!0),a(C,null,$(S.value,(s,n)=>(r(),a("div",{key:n,class:"grid grid-cols-12 items-center px-4 py-3 bg-slate-50 rounded-xl border border-slate-100 hover:border-amber-200 hover:shadow-sm transition-all group"},[e("div",{class:"col-span-5 text-sm text-slate-600 truncate pr-2",title:s.originalName},y(s.originalName),9,le),t[20]||(t[20]=e("div",{class:"col-span-1 flex justify-center text-slate-300 group-hover:text-amber-400"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[e("path",{d:"M5 12h14"}),e("path",{d:"m12 5 7 7-7 7"})])],-1)),e("div",{class:F(["col-span-6 text-sm font-mono text-slate-800 truncate pl-2 flex items-center gap-2",{"text-amber-600 font-bold":s.hasChanged}])},[f(y(s.newName)+" ",1),s.hasChanged?(r(),a("span",oe)):g("",!0)],2)]))),128))])]))])]),e("div",ae,[e("div",re,[t[36]||(t[36]=e("h2",{class:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2"},[e("span",{class:"w-1 h-6 bg-amber-500 rounded-full shadow-sm shadow-amber-500/50"}),f(" è§„åˆ™è®¾ç½® ")],-1)),e("div",ne,[(r(),a(C,null,$(R,s=>e("button",{key:s.key,onClick:n=>b.value=s.key,class:F(["flex-1 py-2 text-xs font-medium rounded-lg transition-all duration-200",b.value===s.key?"bg-white text-amber-600 shadow-sm":"text-slate-500 hover:text-slate-700"])},y(s.label),11,ie)),64))]),e("div",de,[b.value==="sequence"?(r(),a("div",ue,[e("div",null,[t[22]||(t[22]=e("label",{class:"text-xs font-bold text-slate-500 uppercase mb-1 block"},"æ–‡ä»¶åå‰ç¼€",-1)),i(e("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>l.prefix=s),type:"text",placeholder:"ä¾‹å¦‚ï¼šPhoto_",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 text-sm transition-all"},null,512),[[x,l.prefix]])]),e("div",pe,[e("div",null,[t[23]||(t[23]=e("label",{class:"text-xs font-bold text-slate-500 uppercase mb-1 block"},"èµ·å§‹åºå·",-1)),i(e("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>l.startNum=s),type:"number",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 text-sm transition-all"},null,512),[[x,l.startNum,void 0,{number:!0}]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"text-xs font-bold text-slate-500 uppercase mb-1 block"},"ä½æ•°è¡¥é›¶",-1)),i(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>l.padding=s),class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 text-sm transition-all"},[...t[24]||(t[24]=[e("option",{value:1}," æ—  (1, 2) ",-1),e("option",{value:2}," 2ä½ (01, 02) ",-1),e("option",{value:3}," 3ä½ (001, 002) ",-1),e("option",{value:4}," 4ä½ (0001...) ",-1)])],512),[[V,l.padding,void 0,{number:!0}]])])]),e("div",null,[t[26]||(t[26]=e("label",{class:"text-xs font-bold text-slate-500 uppercase mb-1 block"},"åç¼€ (å¯é€‰)",-1)),i(e("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>l.suffix=s),type:"text",placeholder:"ä¾‹å¦‚ï¼š_backup",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 text-sm transition-all"},null,512),[[x,l.suffix]])])])):g("",!0),b.value==="replace"?(r(),a("div",be,[e("div",null,[t[27]||(t[27]=e("label",{class:"text-xs font-bold text-slate-500 uppercase mb-1 block"},"æŸ¥æ‰¾å†…å®¹",-1)),i(e("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>l.findStr=s),type:"text",placeholder:"è¦è¢«æ›¿æ¢çš„æ–‡å­—",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 text-sm transition-all"},null,512),[[x,l.findStr]])]),e("div",null,[t[28]||(t[28]=e("label",{class:"text-xs font-bold text-slate-500 uppercase mb-1 block"},"æ›¿æ¢ä¸º",-1)),i(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>l.replaceStr=s),type:"text",placeholder:"ç•™ç©ºåˆ™ä¸ºåˆ é™¤",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 text-sm transition-all"},null,512),[[x,l.replaceStr]])]),e("div",me,[i(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=s=>l.useRegex=s),id:"useRegex",class:"w-4 h-4 text-amber-600 border-gray-300 rounded focus:ring-amber-500"},null,512),[[_,l.useRegex]]),t[29]||(t[29]=e("label",{for:"useRegex",class:"text-sm text-slate-600 select-none"},"ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼",-1))])])):g("",!0),b.value==="insert"?(r(),a("div",xe,[e("div",null,[t[30]||(t[30]=e("label",{class:"text-xs font-bold text-slate-500 uppercase mb-1 block"},"æ·»åŠ åˆ°å¼€å¤´",-1)),i(e("input",{"onUpdate:modelValue":t[8]||(t[8]=s=>l.insertPrefix=s),type:"text",placeholder:"ä¾‹å¦‚ï¼š[æœºå¯†]",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 text-sm transition-all"},null,512),[[x,l.insertPrefix]])]),e("div",null,[t[31]||(t[31]=e("label",{class:"text-xs font-bold text-slate-500 uppercase mb-1 block"},"æ·»åŠ åˆ°ç»“å°¾",-1)),i(e("input",{"onUpdate:modelValue":t[9]||(t[9]=s=>l.insertSuffix=s),type:"text",placeholder:"ä¾‹å¦‚ï¼š_v1",class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 text-sm transition-all"},null,512),[[x,l.insertSuffix]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"text-xs font-bold text-slate-500 uppercase mb-1 block"},"æ·»åŠ æ—¶é—´æˆ³",-1)),i(e("select",{"onUpdate:modelValue":t[10]||(t[10]=s=>l.timestampFormat=s),class:"w-full px-3 py-2 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 text-sm transition-all"},[...t[32]||(t[32]=[e("option",{value:""}," ä¸æ·»åŠ  ",-1),e("option",{value:"YYYYMMDD"}," æ—¥æœŸ (20231025) ",-1),e("option",{value:"YYYY-MM-DD"}," æ—¥æœŸ (2023-10-25) ",-1),e("option",{value:"timestamp"}," æ¯«ç§’æ—¶é—´æˆ³ ",-1)])],512),[[V,l.timestampFormat]])])])):g("",!0),b.value==="case"?(r(),a("div",ce,[e("div",fe,[e("label",ge,[i(e("input",{type:"radio",value:"upper","onUpdate:modelValue":t[11]||(t[11]=s=>l.caseType=s),class:"w-4 h-4 text-amber-600 border-gray-300 focus:ring-amber-500"},null,512),[[M,l.caseType]]),t[34]||(t[34]=e("span",{class:"ml-3 text-sm text-slate-700"},"å…¨éƒ¨å¤§å†™ (FILENAME)",-1))]),e("label",ve,[i(e("input",{type:"radio",value:"lower","onUpdate:modelValue":t[12]||(t[12]=s=>l.caseType=s),class:"w-4 h-4 text-amber-600 border-gray-300 focus:ring-amber-500"},null,512),[[M,l.caseType]]),t[35]||(t[35]=e("span",{class:"ml-3 text-sm text-slate-700"},"å…¨éƒ¨å°å†™ (filename)",-1))])])])):g("",!0),e("div",ye,[e("button",{onClick:U,disabled:u.value.length===0||v.value,class:"w-full py-3.5 bg-gradient-to-r from-amber-500 to-orange-500 text-white font-bold rounded-xl shadow-lg shadow-amber-500/30 hover:shadow-amber-500/50 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed disabled:shadow-none flex items-center justify-center gap-2"},[v.value?(r(),a("span",he,"â³")):g("",!0),v.value?(r(),a("span",Se,"æ­£åœ¨å¤„ç†...")):(r(),a("span",ke,"ä¸‹è½½å¤„ç†åçš„æ–‡ä»¶ (ZIP)"))],8,we)])])]),t[37]||(t[37]=e("div",{class:"bg-yellow-50/80 backdrop-blur rounded-2xl p-5 border border-yellow-100 text-sm text-yellow-800 leading-relaxed"},[e("strong",null,"ğŸ’¡ éšç§æ‰¿è¯ºï¼š"),e("br"),f(" æ‰€æœ‰æ–‡ä»¶é‡å‘½åæ“ä½œå‡åœ¨æ‚¨çš„æµè§ˆå™¨æœ¬åœ°å®Œæˆï¼Œæ–‡ä»¶ä¸ä¼šä¸Šä¼ åˆ°ä»»ä½•æœåŠ¡å™¨ã€‚ ")],-1))])])])])}}},Ue=L(Ne,[["__scopeId","data-v-5a85e746"]]);export{Ue as default};
