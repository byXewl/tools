(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[236],{783:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/test",function(){return t(3174)}])},3174:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>E});var r=t(7876),s=t(2214),l=t(4232),i=t(7477),o=t(7087),c=t(3736),u=t(7660),a=t(8390),d=t(6557),h=t.n(d);function f(){let[e,n]=(0,l.useState)(a.c$.None());return(0,l.useEffect)(()=>{if(e.isNone()){n(a.c$.Some(h()().minute(0).second(0).millisecond(0)));return}let t=setTimeout(()=>{n(e=>e.map(e=>e.add(1e3,"ms")))},1e3);return()=>clearTimeout(t)},[e]),(0,r.jsxs)(i.so,{width:110,px:2,columnGap:2,justifyContent:"flex-start",alignItems:"center",borderColor:"blackAlpha.300",rounded:"md",children:[(0,r.jsx)(u.Ohp,{size:20}),(0,r.jsx)(i.EY,{fontWeight:"bold",children:e.match({Some:e=>{let n=e.minute().toString().padStart(2,"0"),t=e.second().toString().padStart(2,"0");return"".concat(n," : ").concat(t)},None:()=>"-- : --"})})]})}function x(e){return(0,r.jsx)(i.so,{width:"full",my:2,px:4,direction:"column",justifyContent:"center",alignItems:"flex-end",gap:2,children:(0,r.jsxs)(i.so,{children:[(0,r.jsx)(f,{}),(0,r.jsx)(o.$n,{"aria-label":"instructions",variant:"solid",leftIcon:(0,r.jsx)(c.CwO,{size:24}),onClick:e.onShowInstructionsButtonClick,children:"说明"})]})})}function p(e){return(0,r.jsxs)(i.so,{h:"full",px:4,direction:"column",gap:8,children:[(0,r.jsx)(i.DZ,{children:"说明"}),(0,r.jsxs)(i.so,{direction:"column",gap:2,children:[(0,r.jsx)(i.EY,{children:"完成测试大约只需要15分钟。以下是一些完成这个测试的提示："}),(0,r.jsxs)(i.Xy,{spacing:2,children:[(0,r.jsx)(i.ck,{children:"这些问题没有正确答案。"}),(0,r.jsx)(i.ck,{children:"快速回答问题，不要过度分析。有些可能措辞不当，选择你感觉最合适的答案。"}),(0,r.jsx)(i.ck,{children:"根据“你实际的情况”回答问题，而不是“你希望别人如何看待你”。"})]})]}),(0,r.jsx)(o.$n,{w:"min-content",colorScheme:"primary",alignSelf:"flex-end",onClick:e.onCloseTestInstructions,children:"好的，我明白了！"})]})}var j=t(9099),m=t(8523),w=t(430),g=t(7441);let C=(0,t(4957).Ay)(e=>({userTestAnswers:[],setUserTestAnswers:n=>e(()=>({userTestAnswers:n}))}));function S(){let{userTestAnswers:e}=C(),n=e.length/g.F.length*100;return(0,r.jsx)(w.ke,{w:"full",size:"lg",rounded:"md",colorScheme:"primary",value:n})}function b(e){let{getInputProps:n,getCheckboxProps:t}=(0,m.zU)(e),s=n(),l=t();return(0,r.jsxs)(i.az,{w:"full",as:"label",children:[(0,r.jsx)("input",{...s}),(0,r.jsx)(i.az,{px:5,py:3,cursor:"pointer",borderWidth:1,borderRadius:"md",borderColor:"black",userSelect:"none",_checked:{bg:"primary.500",color:"white",borderColor:"primary.500"},_focus:{boxShadow:"outline"},...l,children:e.children})]})}var k=t(1560);function y(){let e=(0,j.useRouter)(),{userTestAnswers:n,setUserTestAnswers:t}=C(),[s,c]=(0,l.useState)(0),u=void 0!==n[s],{getRootProps:a,getRadioProps:d,setValue:h}=(0,m.mP)({name:"answer",defaultValue:n[s],onChange:e=>{let r=[...n];r[s]=e,t(r),x()}}),f=a();function x(){c(e=>e+1>g.F.length-1?e:e+1)}return(0,l.useEffect)(()=>{if(void 0===n[s]){h("");return}h(n[s])},[s,n,h]),(0,r.jsxs)(i.so,{py:4,w:"full",h:"full",gap:8,direction:"column",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsx)(S,{}),(0,r.jsxs)(i.so,{direction:"column",children:[(0,r.jsxs)(i.EY,{fontWeight:"bold",align:"center",children:["#",s+1]}),(0,r.jsx)(i.EY,{fontSize:"lg",align:"center",children:g.F[s].question})]}),(0,r.jsx)(i.so,{w:"full",gap:4,direction:"column",...f,children:g.F[s].answerOptions.map(e=>{let n=d({value:e.type});return(0,r.jsx)(b,{...n,children:e.answer},e.type)})}),(0,r.jsxs)(i.so,{direction:"row",w:"full",gap:4,children:[(0,r.jsx)(o.$n,{w:"full",variant:"solid",...0===s&&{disabled:!0},onClick:function(){c(e=>e-1<0?e:e-1)},children:"上一题"}),u&&s===g.F.length-1?(0,r.jsx)(o.$n,{w:"full",colorScheme:"primary",onClick:function(){let r=Date.now(),s=n.map((e,n)=>(0,k.Zc)(n+1,e));(0,k.pO)({testAnswers:n,testScores:s,timestamp:r}).tap(()=>{t([])}).tapOk(n=>{e.replace("/test/result/?testResultId=".concat(n))}).tapError(e=>{console.error(e)})},children:"查看结果"}):(0,r.jsx)(o.$n,{w:"full",colorScheme:"primary",variant:"solid",...!u&&{disabled:!0},onClick:x,children:"下一题"})]})]})}function _(){let[e,n]=(0,l.useState)(!0);return(0,r.jsxs)(i.so,{alignSelf:"flex-start",w:"full",h:"full",direction:"column",justifyContent:"center",alignItems:"center",gap:2,px:1,children:[(0,r.jsx)(x,{onShowInstructionsButtonClick:function(){n(!0)}}),(0,r.jsx)(i.so,{w:{lg:"50%",base:"100%"},h:"full",children:e?(0,r.jsx)(p,{onCloseTestInstructions:function(){n(!1)}}):(0,r.jsx)(y,{})})]})}function E(){return(0,r.jsx)(s.A,{children:(0,r.jsx)(_,{})})}}},e=>{var n=n=>e(e.s=n);e.O(0,[743,695,925,540,381,656,71,636,593,792],()=>n(783)),_N_E=e.O()}]);